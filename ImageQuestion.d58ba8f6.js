(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{1016:function(e,t,n){"use strict";var i=n(346),r=Object(i.a)((function(){return n.e(156).then(n.bind(null,1487))}));t.a=r},3310:function(e,t,n){"use strict";n(933),n(349);t.a=function(e){var t=new(0,window.FileReader);return t.readAsDataURL(e),new Promise((function(e){t.onloadend=function(){e(t.result)}}))}},432:function(e,t,n){"use strict";function i(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r={};function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&r[t[0]]||("string"==typeof t[0]&&(r[t[0]]=new Date),i.apply(void 0,t))}function a(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return o("i18n.languages were undefined or empty",t.languages),!0;var i=t.languages[0],r=!!t.options&&t.options.fallbackLng,a=t.languages[t.languages.length-1];if("cimode"===i.toLowerCase())return!0;var s=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(i,e)||(!t.services.backendConnector.backend||!(!s(i,e)||r&&!s(a,e))))}function c(e){return e.displayName||e.name||("string"==typeof e&&e.length>0?e:"Unknown")}},4678:function(e){e.exports=JSON.parse('{"DE":{"answer-submitted":"Antwort eingereicht.","drop-file":"Datei hier ablegen","or":"oder","reset":"Zur\xfccksetzen","resubmit":"Erneut einreichen","submit":"Abschicken","submitted":"Abgeschickt","upload":"Datei hochladen"},"EN":{"answer-submitted":"You have successfully submitted your answer.","drop-file":"Drop file here","or":"or","reset":"Reset","resubmit":"Resubmit","submit":"Submit","submitted":"Submitted","upload":"Uploaded submission"},"ES":{}}')},471:function(e,t,n){var i=n(496);e.exports=function(e,t){if(null==e)return{};var n,r,o=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},496:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}},5823:function(e,t,n){"use strict";n.r(t);n(357),n(349),n(361);var i=n(659),r=n.n(i),o=n(360),a=n.n(o),s=n(350),c=n.n(s),u=n(352),l=n.n(u),d=n(366),f=n.n(d),p=n(355),b=n.n(p),h=n(356),g=n.n(h),m=n(353),v=n.n(m),y=n(348),O=n.n(y),w=n(0),j=n.n(w),R=(n(338),n(393)),S=n.n(R),N=n(758),k=n(451),D=n(396),P=n(697),E=n(1389),x=n(1006),q=n(1354),C=n(1016),F=n(793),A=n(1812),L=n(790),U=n(437),I=n(3310),z=n(447),T=n(618),B=n(4678);T.a.addResources("de","image-question",B.DE),T.a.addResources("en","image-question",B.EN),T.a.addResources("es","image-question",B.ES);n(259);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=v()(e);if(t){var r=v()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return g()(this,n)}}var J=Object(P.a)("image-question"),W=S()("isle:image-question"),Y=function(e){b()(n,e);var t=H(n);function n(e){var i;return c()(this,n),i=t.call(this,e),O()(f()(i),"logHint",(function(e){W("Logging hint..."),i.context.log({id:i.id,type:z.nb,value:e})})),O()(f()(i),"sendSubmitNotification",(function(){i.context.addNotification({title:i.props.t("sunmitted"),message:i.props.t("answer-submitted"),level:"info"})})),O()(f()(i),"handleSubmit",(function(){var e=i.context;(i.props.disableSubmitNotification||i.sendSubmitNotification(),i.props.onSubmit(),i.setState({submitted:!0}),i.state.src)?e.log({id:i.id,type:z.ob,value:i.state.src}):document.getElementById(i.id+"-canvas").toBlob((function(t){Object(I.a)(t).then((function(t){e.log({id:i.id,type:z.ob,value:t}),i.setState({src:t})}))}))})),O()(f()(i),"ignoreDrag",(function(e){e.stopPropagation(),e.preventDefault()})),O()(f()(i),"handleFileUpload",(function(){var e=new FileReader,t=i.fileUpload.files[0];e.addEventListener("load",i.onFileRead,!1),e.readAsDataURL(t)})),O()(f()(i),"onFileDrop",(function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer,n=new FileReader,r=null;t.items?"file"===t.items[0].kind&&(r=t.items[0].getAsFile()):r=t.files[0],i.mimeType=r.type,r&&(n.addEventListener("load",i.onFileRead,!1),n.readAsDataURL(r))})),O()(f()(i),"onFileRead",(function(e){var t=e.target.result;i.setState({src:t})})),i.id=e.id||J(e),i.state={submitted:!1,src:null},i}return l()(n,[{key:"render",value:function(){var e=this,t=this.props.hints.length;return a()(k.a,{id:this.id,className:"image-question ".concat(this.props.className),style:this.props.style},void 0,a()(k.a.Body,{style:{width:this.props.feedback?"calc(100%-60px)":"100%",display:"inline-block"}},void 0,a()("label",{},void 0,this.props.question),this.state.src?a()(E.a,{className:"image-question-image center",alt:this.props.t("upload"),src:this.state.src}):a()(w.Fragment,{},void 0,a()("div",{className:"image-question-dropzone",onDrop:this.onFileDrop,onDragOver:this.ignoreDrag,onDragEnd:this.ignoreDrag},void 0,a()("span",{},void 0,this.props.t("drop-file"))),a()("p",{className:"center"},void 0,this.props.t("or")),j.a.createElement("input",{id:this.id+"-upload",className:"image-question-upload center",type:"file",accept:"image/*",onChange:this.handleFileUpload,ref:function(t){e.fileUpload=t}}),a()("p",{className:"center"},void 0,this.props.t("or")),this.props.sketchpad?j.a.createElement(A.a,r()({id:this.id,hideNavigationButtons:!0,hideSaveButtons:!0,hideTransmitButtons:!0,canvasWidth:900,canvasHeight:600},this.props.sketchpad)):null),this.props.feedback?a()(L.a,{vertical:!0,id:this.id+"_feedback",style:{position:"absolute",right:"4px",top:"4px"}}):null,a()(x.a,{buttonLabel:"Answers",id:this.id,info:z.ob,data:{question:this.props.question,type:"image"}}),a()("div",{className:"image-question-toolbar"},void 0,t>0?a()(C.a,{onClick:this.logHint,hints:this.props.hints,placement:this.props.hintPlacement}):null,this.state.src?a()(D.a,{size:"sm",variant:"warning",onClick:function(){e.setState({src:null})}},void 0,this.props.t("reset")):null,a()(q.a,{className:"submit-button",variant:"primary",size:"sm",onClick:this.handleSubmit},void 0,this.state.submitted?this.props.t("resubmit"):this.props.t("submit")),this.props.chat?a()(F.a,{for:this.id}):null)))}}]),n}(w.Component);Y.defaultProps={question:"",hints:[],hintPlacement:"bottom",feedback:!0,chat:!1,disableSubmitNotification:!1,className:"",sketchpad:{},style:{},onSubmit:function(){}},Y.contextType=U.a;t.default=Object(N.a)("image-question")(Y)},758:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n(348),r=n.n(i),o=n(449),a=n.n(o),s=n(471),c=n.n(s),u=n(0),l=n.n(u),d=n(696),f=n(432);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,i=Object(u.useContext)(d.a)||{},r=i.i18n,o=i.defaultNS,s=n||r||Object(d.d)();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new d.b),!s){Object(f.e)("You will need pass in an i18next instance by using initReactI18next");var c=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[c,{},!1];return l.t=c,l.i18n={},l.ready=!1,l}var p=b({},Object(d.c)(),{},s.options.react,{},t),h=p.useSuspense,g=e||o||s.options&&s.options.defaultNS;g="string"==typeof g?[g]:g||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(g);var m=(s.isInitialized||s.initializedStoreOnce)&&g.every((function(e){return Object(f.b)(e,s,p)}));function v(){return{t:s.getFixedT(null,"fallback"===p.nsMode?g:g[0])}}var y=Object(u.useState)(v()),O=a()(y,2),w=O[0],j=O[1],R=Object(u.useRef)(!0);Object(u.useEffect)((function(){var e=p.bindI18n,t=p.bindI18nStore;function n(){R.current&&j(v())}return R.current=!0,m||h||Object(f.c)(s,g,(function(){R.current&&j(v())})),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){R.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[g.join()]);var S=[w.t,s,m];if(S.t=w.t,S.i18n=s,S.ready=m,m)return S;if(!m&&!h)return S;throw new Promise((function(e){Object(f.c)(s,g,(function(){R.current&&j(v()),e()}))}))}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function i(i){var r=i.forwardedRef,o=c()(i,["forwardedRef"]),s=h(e,o),u=a()(s,3),d=m({},o,{t:u[0],i18n:u[1],tReady:u[2]});return t.withRef&&r?d.ref=r:!t.withRef&&r&&(d.forwardedRef=r),l.a.createElement(n,d)}i.displayName="withI18nextTranslation(".concat(Object(f.a)(n),")"),i.WrappedComponent=n;return t.withRef?l.a.forwardRef((function(e,t){return l.a.createElement(i,Object.assign({},e,{forwardedRef:t}))})):i}}},793:function(e,t,n){"use strict";var i=n(346),r=Object(i.a)((function(){return n.e(134).then(n.bind(null,1288))}));t.a=r}}]);