(window.webpackJsonp=window.webpackJsonp||[]).push([[239],{3795:function(e,t,n){"use strict";n.r(t);var i=n(401),s=n.n(i),o=n(453),c=n.n(o),a=n(0),r=(n(398),n(445)),u=n.n(r),l=n(2010),d=n(464),b=n(603),f=n(1657),m=n(1066),p=n(813),v=n(808),g=n(677),O=n(670),h=n(952),j=n(459),k=n(462),y=n(420);n(333);Object(y.a)("OrderQuestion");var N=Object(b.a)("order-question"),S=u()("isle:order-question"),C=function(e){var t=e.disableSubmitNotification,n=e.onChange,i=e.onSubmit,o=Object(a.useRef)(e.id||N(e)),r=Object(a.useContext)(j.a),u=Object(l.a)("OrderQuestion").t,b=Object(a.useState)(!1),y=c()(b,2),C=y[0],q=y[1],w=Object(a.useState)(e.options.map((function(e,t){return{id:t,text:e}}))),M=c()(w,2),x=M[0],I=M[1],P=Object(a.useState)({cards:null,correct:!1}),E=c()(P,2),F=E[0],Q=E[1];Object(a.useEffect)((function(){I(e.options.map((function(e,t){return{id:t,text:e}})))}),[e.options]);var R=Object(a.useCallback)((function(e){for(var t=!0,i=0;i<e.length;i++)if(e[i].id!==i){t=!1;break}n(e,t),Q({cards:e,correct:t}),q(!1)}),[n]),_=Object(a.useCallback)((function(e){S("Logging hint..."),r.log({id:o.current,type:k.Hb,value:e})}),[r]),B=Object(a.useCallback)((function(){e.provideFeedback?F.correct?r.addNotification({title:u("correct"),message:e.successMsg||u("submission-correct"),level:"success"}):r.addNotification({title:u("incorrect"),message:e.failureMsg||u("submission-incorrect"),level:"error"}):r.addNotification({title:u("submitted"),message:u("submission-message"),level:"info"})}),[e.failureMsg,e.successMsg,F.correct,e.provideFeedback,r,u]),J=Object(a.useCallback)((function(){t||B(),i(F.cards,F.correct),q(!0),r.log({id:o.current,type:k.Ib,value:F.cards.map((function(e){return e.text})).join(" -> ")})}),[t,B,r,F,i]),L=e.hints.length;return s()(d.a,{id:o.current,className:"order-question",style:e.style},void 0,s()(d.a.Body,{style:{width:e.feedback?"calc(100%-60px)":"100%",display:"inline-block"}},void 0,s()("label",{},void 0,e.question),s()(f.a,{shuffle:!0,data:x,onChange:R,onInit:R,disabled:C&&F.correct}),s()("div",{className:"order-question-toolbar"},void 0,L>0?s()(p.a,{onClick:_,hints:e.hints,placement:e.hintPlacement}):null,e.until&&r.startTime>e.until?s()("span",{className:"title",style:{marginLeft:4}},void 0,u("question-closed")):s()(m.a,{className:"submit-button",variant:"primary",size:"sm",onClick:J,disabled:C&&F.correct},void 0,u(C?"resubmit":"submit")),e.chat?s()(g.a,{for:o.current}):null),s()(v.a,{id:o.current,data:{type:"factor",question:e.question,solution:e.options},info:"ORDER_QUESTION_SUBMISSION",points:e.points}),e.feedback?s()(O.a,{id:o.current+"_feedback"}):null,s()(h.a,{for:o.current,points:e.points})))};C.defaultProps={question:"",provideFeedback:!0,hints:[],hintPlacement:"bottom",feedback:!0,chat:!1,failureMsg:null,successMsg:null,disableSubmitNotification:!1,until:null,points:10,style:{},onChange:function(){},onSubmit:function(){}},t.default=C},677:function(e,t,n){"use strict";var i=n(402),s=Object(i.a)((function(){return n.e(148).then(n.bind(null,1016))}));t.a=s},813:function(e,t,n){"use strict";var i=n(402),s=Object(i.a)((function(){return n.e(177).then(n.bind(null,1153))}));t.a=s},952:function(e,t,n){"use strict";var i=n(402),s=Object(i.a)((function(){return Promise.all([n.e(0),n.e(174)]).then(n.bind(null,1497))}));t.a=s}}]);