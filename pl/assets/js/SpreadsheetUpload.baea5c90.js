(window.webpackJsonp=window.webpackJsonp||[]).push([[1030],{6425:function(e,t,a){"use strict";a.r(t);var n=a(407),o=a.n(n),i=a(448),r=a.n(i),l=a(0),s=a.n(l),d=(a(404),a(1971)),c=a(464),u=a(1354),p=a(6154),f=a.n(p),v=a(548),b=a.n(v),g=a(459),m=a(553),h=a(420),O=a(442);function j(e){e.stopPropagation(),e.preventDefault()}Object(h.a)("SpreadsheetUpload");var w=function(e){var t=e.title,a=e.onUpload,n=Object(l.useState)(0),i=r()(n,2),p=i[0],v=i[1],h=Object(l.useState)(!1),O=r()(h,2),w=O[0],C=O[1],k=Object(l.useState)(!0),x=r()(k,2),S=x[0],y=x[1],E=Object(d.a)("SpreadsheetUpload").t,U=Object(l.useContext)(g.a),D=Object(l.useRef)(null),F=Object(l.useCallback)((function(e){var t=e.target.result;v(0),C(!1),f()({noheader:!S,checkType:!0,ignoreEmpty:!0}).fromString(t).then((function(e){a(null,e)})).catch((function(e){U.addNotification({title:E("error-title"),message:"".concat(E("error-message"),": ").concat(e.message),level:"error",position:"tr"}),a(e)}))}),[S,U,a,E]),T=Object(l.useCallback)((function(){C(!0);var e=new FileReader,t=D.current.files[0];e.addEventListener("load",F,!1),e.addEventListener("progress",(function(e){if(e.lengthComputable){var t=e.loaded/e.total;v(t)}}),!1),e.readAsText(t,"utf-8")}),[F]),A=Object(l.useCallback)((function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer,a=new FileReader,n=null;if(t.items?"file"===t.items[0].kind&&(n=t.items[0].getAsFile()):n=t.files[0],n){if("text/csv"!==n.type)return U.addNotification({title:E("no-csv"),message:E("no-csv-message"),level:"error",position:"tr"});a.addEventListener("load",F,!1),a.readAsText(n,"utf-8")}}),[U,F,E]),L=Object(l.useCallback)((function(e){y(e)}),[]),P=b()(100*p);return o()(c.a,{},void 0,o()(c.a.Header,{as:"h2"},void 0,t||E("title")),o()(c.a.Body,{},void 0,o()("label",{htmlFor:"CSVUpload"},void 0,E("csv-upload-prompt"),":"),s.a.createElement("input",{id:"CSVUpload",type:"file",accept:".csv",onChange:T,ref:D,style:{margin:"auto"}}),o()("p",{},void 0,E("or")),o()("div",{onDrop:A,onDragOver:j,onDragEnd:j,style:{minHeight:"150px",width:"250px",border:"1px solid blue",padding:"10px"}},void 0,o()("span",{},void 0,E("drop-file"))),o()(m.a,{legend:E("first-row-names"),defaultValue:!0,onChange:L}),w?o()(u.a,{now:P,label:"".concat(P,"%")}):null))};w.defaultProps={onUpload:function(){},title:null},t.default=Object(O.a)(w)}}]);