(self.webpackChunk=self.webpackChunk||[]).push([[82],{912740:function(e,n,t){"use strict";var i=(0,t(844601).Z)((function(){return t.e(6131).then(t.bind(t,357459))}));n.Z=i},785434:function(e,n,t){"use strict";t.r(n);var i,o,u,a=t(574315),s=t(858255),r=(t(6059),t(762850),t(462773),t(202784)),l=(t(213980),t(911755)),c=t.n(l),d=t(376699),m=t(387612),f=t(770561),v=t(26266),Z=t(10863),h=t(830650),b=t(837876),q=t(636150),p=t.n(q),g=t(614972),w=t.n(g),C=t(427249),H=t(150275),y=t(912740),z=t(601822),k=t(462874),N=t(741319),Q=t(5140),x=t(964909),L=c()("isle:queue"),W=(0,C.Z)("queue"),S=function(e){if(0===e.questions.length)return(0,s.Z)("p",{},void 0,e.t("no-questions"));var n=e.session;return(0,s.Z)(b.Z,{className:"queue-table",showPageSizeOptions:!1,data:e.questions,resizable:!1,sortable:!1,columns:[{Header:"Pic",id:"pic",accessor:function(e){for(var t=n.userList,i=0;i<t.length;i++)if(t[i].name===e.name)return t[i].picture;return""},Cell:function(e){return(0,s.Z)("img",{className:"queue-table-pic",alt:"User thumbnail",src:"".concat(n.server,"/thumbnail/").concat(e.value)})},maxWidth:46,minWidth:46,style:{color:"darkslategrey"}},{Header:e.t("name"),id:"nameCol",accessor:"name",width:150,Cell:function(e){return(0,s.Z)(H.Z,{tooltip:"".concat(e.value," (").concat(e.original.email,")")},void 0,(0,s.Z)("span",{className:"queue-table-name"},void 0,e.value))}},{Header:e.t("cohort"),id:"cohortCol",accessor:function(e){for(var t=n.cohorts,i=0;i<t.length;i++)if(p()(t[i].members,e.email))return t[i].title;return""}},{Header:e.t("question"),id:"qCol",accessor:"value",width:350,style:{"white-space":"unset"}},{Header:e.t("chat"),Cell:function(n){var t="Queue_"+n.original.name;return(0,s.Z)(y.Z,{tooltip:e.t("queue-start-chat"),for:t})}},{Header:"",accessor:"remove",Cell:function(t){return(0,s.Z)(H.Z,{placement:"left",tooltip:e.t("mark-and-remove")},void 0,(0,s.Z)(f.Z,{variant:"secondary",size:"sm",onClick:function(){n.removeQuestionFromQueue(t.original)}},void 0,i||(i=(0,s.Z)("i",{className:"fas fa-check"}))))},filterable:!1,width:45}],pageSize:8})},E=function(e){var n,t=e.id,i=e.draggable,l=e.show,c=e.onHide,b=e.onNewQuestion;t=t||W();var q,p=(0,r.useContext)(N.Z),g=p.questions,C=(0,d.$)("internal/toolbar/queue").t,H=(0,r.useState)(""),E=(0,a.Z)(H,2),P=E[0],_=E[1],I=(0,r.useState)(null),K=(0,a.Z)(I,2),O=K[0],T=K[1],F=function(){L("Send the signal to enter the queue..."),p.log({id:t,type:Q.bq,value:P},"members");var e={name:p.user.name,email:p.user.email,value:P};p.addQuestionToQueue(e)},U=function(e){e.target.className&&e.target.className.includes("queue-panel")&&c()};if((0,r.useEffect)((function(){var e;return p&&(L("We have a session, subscribe the component..."),e=p.subscribe((function(e,n){if(e===x.Kd){for(var i=n,o=null,u=0;u<i.length;u++)if(i[u].email===p.user.email){o=u;break}T(o)}n&&n.id===t&&n.type===Q.bq&&p.isOwner()&&b()}))),function(){e&&e()}}),[t,b,p]),l){if(p.isOwner())return L("User is an owner..."),q=(0,s.Z)(k.Z,{className:"queue-panel",tabIndex:0,role:"button",header:C("queue"),onHide:c,minimizable:!0},void 0,(0,s.Z)(S,{questions:p.questions,t:C,session:p,for:t})),i&&(q=(0,s.Z)(z.Z,{bounds:"#Lesson",cancel:".queue-table",onEscape:U,resizable:!0,minWidth:300,minHeight:150},void 0,q)),q;var Y=function(){_(""),c()};if(!w()(O)){var $="Queue_"+p.user.name;return q=(0,s.Z)(k.Z,{className:"queue-panel",tabIndex:0,role:"button",header:C("queue"),onHide:Y,minimizable:!0},void 0,(0,s.Z)("p",{},void 0,(0,s.Z)(m.c,{i18nKey:"queue-status",ns:"Queue"},void 0,"Your question: ",(0,s.Z)("i",{},void 0,{question:P}),o||(o=(0,s.Z)("br",{})),"You are currently at position ",(0,s.Z)("strong",{},void 0,{spot:O})," on the queue.",u||(u=(0,s.Z)("br",{})),"There are ",(0,s.Z)("strong",{},void 0,{size:p.questions.length})," individual(s) in the queue.")),n||(n=(0,s.Z)(y.Z,{for:$,showTooltip:!1})),(0,s.Z)(f.Z,{style:{marginLeft:10},size:"sm",onClick:function(){var e={name:p.user.name,email:p.user.email,value:P};p.removeQuestionFromQueue(e)}},void 0,C("remove-myself-from-queue"))),i&&(q=(0,s.Z)(z.Z,{bounds:"#Lesson",onEscape:U,resizable:!0,minWidth:300,minHeight:150},void 0,q)),q}return q=(0,s.Z)(k.Z,{className:"queue-panel",tabIndex:0,role:"button",header:C("queue"),onHide:Y,minimizable:!0},void 0,(0,s.Z)("p",{},void 0,C("queue-prompt")),(0,s.Z)(Z.Z,{},void 0,(0,s.Z)(h.Z,{},void 0,C("question")),(0,s.Z)(v.Z,{type:"text",id:"queue_form",value:P,onChange:function(e){_(e.target.value)},onKeyPress:function(e){13===e.charCode&&P.length>0&&F()},width:500})),(0,s.Z)(f.Z,{disabled:0===P.length,onClick:F},void 0,C("submit-question")),(0,s.Z)("span",{style:{marginLeft:8}},void 0,C("queue-size",{n:g.length}))),i&&(q=(0,s.Z)(z.Z,{bounds:"#Lesson",cancel:"#queue_form",onEscape:U,resizable:!0,minWidth:300,minHeight:150},void 0,q)),q}return null};E.defaultProps={draggable:!0,show:!0,onHide:function(){},onNewQuestion:function(){}},n.default=E},427249:function(e,n){"use strict";n.Z=function(e){var n=1;return function(){return n+=1,"".concat(e,"-").concat(n)}}}}]);