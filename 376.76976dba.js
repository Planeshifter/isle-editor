(window.webpackJsonp=window.webpackJsonp||[]).push([[376],{1436:function(t,e,r){"use strict";var n=r(767),o=r.n(n),a=r(384);e.a=function(t,e){var r=o()(e);if(!o()(t))throw new TypeError("invalid input argument. Must provide an array. Value: `"+t+"`.");if(!r&&!Object(a.isPrimitive)(e))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+e+"`.");var n=t.length,i=new Array(n);if(r){if(n!==e.length)throw new Error("invalid input argument. Array to be added must have a length equal to that of the input array.");for(var s=0;s<n;s++)i[s]=t[s]-e[s]}else for(var c=0;c<n;c++)i[c]=t[c]-e;return i}},2883:function(t,e,r){"use strict";r(378),r(1153),r(388),r(588),r(949),r(465),r(357),r(350),r(712),r(735);var n=r(960),o=r.n(n),a=r(468),i=r.n(a);var s={numeric:!0};function c(t,e){return String(t).localeCompare(String(e),void 0,s)}var l=function(t){var e,r,n=Array.prototype.slice.call(t),a=n.length;for(n.sort(c),e=1,r=0;e<a;e++){var s=n[e];n[r]!==s&&(n[r+=1]=s)}n.length=r+1;var l,u=[];for(e=0;e<n.length;e++)l=n[e],i()(l)||o()(l)||""===l||u.push(n[e]);return u};function u(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return f(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){s=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw a}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}e.a=function(t,e){var r=l(t);if(!e.categories)return r;var n,o=[],a=u(e.categories);try{for(a.s();!(n=a.n()).done;){var i=n.value;r.includes(i)&&o.push(i)}}catch(s){a.e(s)}finally{a.f()}return o}},4277:function(t,e,r){"use strict";r(1244);e.a=function(t,e){for(var r=t.shape[0],n=t.shape[1],o=new Float64Array(r),a=0;a<r;a++){for(var i=0,s=0;s<n;s++)i+=t.get(a,s)*e[s];o[a]=i}return o}},4278:function(t,e,r){"use strict";var n=r(1669),o=r.n(n)()("float64",2);e.a=function(t){var e=[t.shape[1],t.shape[0]],r=[t.strides[1],t.strides[0]],n=t.offset,a=t.order;return o(t._buffer,e,r,n,a)}},5830:function(t,e,r){"use strict";r.r(e);r(357),r(350),r(360);var n=r(351),o=r.n(n),a=r(352),i=r.n(a),s=r(365),c=r.n(s),l=r(354),u=r.n(l),f=r(355),d=r.n(f),v=r(353),h=r.n(v),p=r(349),g=r.n(p),y=(r(732),r(358)),m=r.n(y),b=(r(1244),r(0)),w=(r(341),r(760)),A=r.n(w),x=r(387),F=r(597),S=r(2777),C=r(889),O=r(427),j=r(413),E=r(457),R=r(892),P=r(1425),T=r.n(P),k=r(500),V=r.n(k),M=r(507),z=r.n(M),I=r(402),q=r.n(I),_=r(384),D=r(960),L=r.n(D),N=r(468),J=r.n(N),U=r(542),X=r.n(U),Y=r(362),B=r.n(Y),G=r(875),H=r.n(G),W=r(508),$=r(585),K=r(555),Q=r(461),Z=r(420),tt=r(1436),et=r(672),rt=r(2883),nt=(r(1103),r(419)),ot=r.n(nt),at=r(5841),it=r(1245),st=r(368),ct=r.n(st),lt=r(370),ut=r.n(lt),ft=r(363),dt=r.n(ft),vt=r(5562),ht=r.n(vt),pt=r(407),gt=r.n(pt),yt=r(5564),mt=r.n(yt),bt=r(369),wt=r.n(bt),At=r(4277),xt=r(4278);var Ft=function(t,e){for(var r=ot()(t.shape,2),n=r[0],o=r[1],a=e.shape[1],i=it.b.zeros(n,a),s=new Float64Array(o),c=0;c<a;c++){for(var l=0;l<o;l++)s[l]=e.get(l,c);for(var u=0;u<n;u++){for(var f=0,d=0;d<o;d++)f+=t.get(u,d)*s[d];i.set(u,c,f)}}return i};var St=function(t,e){for(var r=ot()(t.shape,2),n=r[0],o=r[1],a=T()(new Float64Array(n*o),{shape:[n,o]}),i=0;i<n;i++)for(var s=0;s<o;s++)a.set(i,s,t.get(i,s)*e[i]);return a};var Ct=function(t,e){for(var r=t.length,n=new Array(r),o=0;o<r;o++)n[o]=t[o]*e[o];return n},Ot=function(t){for(var e=0,r=0;r<t.length;r++)e+=t[r];return e},jt=function(t){for(var e=new Float64Array(t.length),r=0;r<t.length;r++)e[r]=t[r]*(1-t[r]);return e},Et=function(t){for(var e=t.length,r=new Float64Array(e),n=0;n<e;n++){var o=t[n];if(B()(o)>30)r[n]=gt.a;else{var a=dt()(o);r[n]=a/(1+a)}}return r},Rt=function(t){for(var e=t.length,r=new Float64Array(e),n=0;n<e;n++){var o=t[n];B()(o)>30?r[n]=gt.a:r[n]=dt()(o)/ut()(1+dt()(o),2)}return r},Pt=function(t,e,r){for(var n=0,o=0;o<t.length;o++)n+=ct()(mt()(t[o],e[o]));return-2*n+2*r},Tt=function(t,e,r){for(var n=t.length,o=new Float64Array(n),a=0;a<n;a++){var i=e[a],s=t[a];o[a]=2*r[a]*(ht()(s,s/i)+ht()(1-s,(1-s)/(1-i)))}return o},kt=function(t,e,r){for(var n=new Float64Array(t.length),o=0;o<t.length;o++)n[o]=t[o]*(e[o]*e[o]/r[o]);return n},Vt=function(t,e,r,n){for(var o=new Float64Array(e.length),a=0;a<e.length;a++)o[a]=t[a]+(e[a]-r[a])/n[a];return o};function Mt(t,e){for(var r=new Float64Array(e.length),n=0;n<r.length;n++)r[n]=e[n]*(1-e[n]);for(var o=ot()(t.shape,2),a=o[0],i=o[1],s=new Float64Array(i),c=0;c<s.length;c++){for(var l=0,u=0;u<a;u++)l+=ut()(t.get(u,c),2)*r[u];s[c]=wt()(1/l)}return s}var zt=function(t,e,r){for(var n=Object(xt.a)(t),o=new Array(r).fill(1),a=new Float64Array(o.length),i=0;i<r;i++)a[i]=(o[i]*e[i]+.5)/(o[i]+1);var s,c,l=function(t){for(var e=t.length,r=new Float64Array(e),n=0;n<e;n++)r[n]=ct()(t[n]/(1-t[n]));return r}(a),u=Et(l),f=Ot(Tt(e,u,o)),d=!1;for(c=0;c<25;c++){var v=jt(u),h=Rt(l),p=Vt(l,e,u,h),g=kt(o,h,v),y=Ct(g,p),m=St(t,g),b=Ft(n,m),w=Object(At.a)(n,y);s=Object(at.a)(b,it.b.columnVector(w)),l=Object(At.a)(t,s.to1DArray()),u=Et(l);var A=Ot(Tt(e,u,o));if(B()(A-f)/(.1+B()(A))<1e-8){d=!0;break}f=A}var x=s.to1DArray(),F=function(t){return function(t){for(var e=new Float64Array(t.length),r=0;r<t.length;r++)e[r]=1/(1+dt()(-t[r]));return e}(Object(At.a)(t,x))},S=F(t);return{aic:Pt(e,Et(l),x.length),stdErrors:Mt(t,S),fitted:S,coefficients:x,iterations:c,converged:d,predict:F}};function It(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=h()(t);if(e){var o=h()(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return d()(this,r)}}var qt=0;function _t(t){return J()(t)||L()(t)}function Dt(t){return Object(_.isPrimitive)(t)&&!J()(t)}function Lt(t,e,r,n,o,a){for(var i=[],s={},c=r[t[0]].length,l=0;l<t.length;l++){var u=r[t[l]];if(V()(n,t[l]))i.push(t[l]);else{for(var f=Object(rt.a)(u,t[l]),d=o?1:0;d<f.length;d++)i.push("".concat(t[l],"_").concat(f[d]));s[t[l]]=f}}for(var v=new Float64Array(c*(i.length+1)),h=0;h<c;h++){o&&(v[(i.length+1)*h]=1);for(var p=0,g=0;g<t.length;g++){var y=r[t[g]];if(V()(n,t[g]))p+=1,v[(i.length+1)*h+p]=y[h];else for(var m=s[t[g]],b=y[h],w=o?1:0;w<m.length;w++)p+=1,v[(i.length+1)*h+p]=b===m[w]?1:0}}return{matrix:T()(v,{shape:[c,i.length+1]}),predictors:i,yvalues:r[e].map((function(t){return t===a?1:0})),nobs:c}}function Nt(t,e,r,n,o,a){for(var i=[],s={},c=0;c<t.length;c++){var l=r[t[c]];if(V()(n,t[c]))i.push(t[c]);else{for(var u=Object(rt.a)(l,t[c]),f=o?1:0;f<u.length;f++)i.push("".concat(t[c],"_").concat(u[f]));s[t[c]]=u}}for(var d=[],v=[],h=0;h<r[t[0]].length;h++){var p=!1,g=[];o&&g.push(1);for(var y=0;y<t.length;y++){var m=r[t[y]];if(V()(n,t[y]))Dt(m[h])?g.push(m[h]):p=!0;else{var b=m[h];if(_t(b))p=!0;else for(var w=s[t[y]],A=o?1:0;A<w.length;A++)g.push(b===w[A]?1:0)}}p||(d=d.concat(g),v.push(r[e][h]===a?1:0))}var x=v.length;return{matrix:T()(d,{shape:[x,i.length+1]}),predictors:i,yvalues:v,nobs:x}}var Jt=m()("thead",{},void 0,m()("tr",{},void 0,m()(Q.a,{placement:"right",tooltip:"Name of predictor"},void 0,m()("th",{},void 0,"Predictor")),m()(Q.a,{placement:"right",tooltip:"Change in log odds associated with unit-increase in respective predictor"},void 0,m()("th",{},void 0,"Coefficient")),m()(Q.a,{placement:"left",tooltip:"Standard deviation of coefficient estimate"},void 0,m()("th",{},void 0,"Std. Error")),m()(Q.a,{placement:"left",tooltip:m()("span",{},void 0,"Test statistic for hypothesis that coefficient is zero ",m()(K.a,{displayMode:!0,raw:"t = \\tfrac{\\text{Coefficient}}{\\text{Std. Error}}"}))},void 0,m()("th",{},void 0,"t")),m()(Q.a,{placement:"left",tooltip:m()("span",{},void 0,"p-value for hypothesis that coefficient is zero ",m()(K.a,{displayMode:!0,raw:"2 \\Phi( |t| )"}))},void 0,m()("th",{},void 0,"p-value")))),Ut=m()("th",{},void 0,"Intercept"),Xt=function(t,e,r){return m()(R.a,{bordered:!0,size:"sm"},void 0,Jt,m()("tbody",{},void 0,e?m()("tr",{},void 0,Ut,m()("td",{},void 0,r.coefficients[0].toFixed(6)),m()("td",{},void 0,r.stdErrors[0].toFixed(4)),m()("td",{},void 0,(r.coefficients[0]/r.stdErrors[0]).toFixed(4)),m()("td",{},void 0,(2*H()(-B()(r.coefficients[0]/r.stdErrors[0]),0,1)).toFixed(4))):null,t.map((function(t,n){n+=Number(e);var o=r.coefficients[n]/r.stdErrors[n],a=2*H()(-B()(o),0,1);return m()("tr",{},n,m()("th",{},void 0,t),m()("td",{},void 0,r.coefficients[n].toFixed(6)),m()("td",{},void 0,r.stdErrors[n].toFixed(4)),m()("td",{},void 0,o.toFixed(4)),m()("td",{},void 0,a.toFixed(4)))}))))},Yt=m()(b.Fragment,{},void 0,"did ",m()("b",{},void 0,"not")," converge"),Bt=m()(S.a.Prepend,{},void 0,m()(S.a.Text,{},void 0,"Threshold:")),Gt=m()(O.a.Header,{as:"h4"},void 0,"Logistic Regression",m()(et.a,{title:"Logistic Regression",content:"Predict a categorical response variable using one or more explanatory variables."})),Ht=function(t){u()(r,t);var e=It(r);function r(t){var n,a,i,s;return o()(this,r),n=e.call(this,t),g()(c()(n),"compute",(function(){qt+=1;var t=n.state,e=t.y,r=t.success,o=t.x,a=t.intercept,i=t.omitMissing;q()(o)||(o=[o]);var s=(i?Nt:Lt)(o,e,n.props.data,n.props.quantitative,a,r),c=s.matrix,l=s.predictors,u=s.yvalues,f=s.nobs,d=zt(c,u,f);n.props.logAction(Z.u,{y:e,x:o,intercept:a});var v={variable:"Regression Summary",type:"Logistic Regression",value:m()("div",{style:{overflowX:"auto",width:"100%"}},void 0,m()("span",{className:"title"},void 0,"Regression Summary for Response ",e," (model id: logis",qt,")"),Xt(l,a,d),m()("i",{},void 0,"The algorithm ",d.converged?"converged":Yt," after ",d.iterations," Fisher Scoring iterations"),m()("p",{},void 0,"Akaike Information Criterion (AIC): ",X()(d.aic,-3)),m()(F.a,{},void 0,m()(Q.a,{tooltip:"Probabilities, residuals, and predicted categories (using the chosen probability threshold to be exceeded for predicting a success) will be attached to the data table"},void 0,m()(x.a,{variant:"secondary",size:"sm",onClick:function(){var t=Lt(o,n.props.data,n.props.quantitative,a).matrix,i=d.predict(t),s=n.props.data[e].map((function(t){return t===r?1:0})),c=Object(tt.a)(i,s),l=z()(n.props.data,1),u=n.props.quantitative.slice(),f=n.props.categorical.slice(),v="probs_logis"+qt;l[v]=i,V()(u,v)||u.push(v);var h=i.map((function(t){return t>n.state.probabilityThreshold}));l[v="pred_logis"+qt]=h,V()(f,v)||f.push(v),v="resid_logis"+qt,V()(u,v)||u.push(v),l[v]=c,n.props.onGenerate(u,f,l)}},void 0,"Use this model to predict for currently selected data")),m()(S.a,{size:"sm"},void 0,Bt,m()(C.a,{type:"number",min:0,max:1,defaultValue:.5,step:.01,onChange:function(t){n.setState({probabilityThreshold:t.target.value})}}))))};n.props.onCreated(v)})),q()(t.categorical)&&t.categorical.length>0?(i=t.categorical[0],s=(a=Object(rt.a)(t.data[i],i))[a.length-1]):(a=[],s=null),n.state={categories:a,y:i,success:s,x:t.quantitative[0],intercept:!0,probabilityThreshold:.5,omitMissing:!1},n}return i()(r,[{key:"render",value:function(){var t=this,e=this.props,r=e.categorical,n=e.quantitative,o=e.data,a=this.state,i=a.x,s=a.y,c=a.categories,l=a.success,u=a.intercept;return m()(O.a,{style:{fontSize:"14px",maxWidth:500}},void 0,Gt,m()(O.a.Body,{},void 0,m()(j.a,{},void 0,m()(E.a,{md:6},void 0,m()(W.a,{legend:"Outcome (Y):",options:r,defaultValue:s,onChange:function(e){var r=o[e].slice();A()(r),t.setState({categories:r,success:r[r.length-1],y:e})}})),m()(E.a,{md:6},void 0,m()(W.a,{legend:"Success (Y = 1):",defaultValue:l,options:c,onChange:function(e){t.setState({success:e})}}))),m()(W.a,{legend:"Predictors (X):",multi:!0,options:A()(n.concat(r)),defaultValue:i||"",onChange:function(e){return t.setState({x:e})},closeMenuOnSelect:!1,selectAllOption:!0}),m()($.a,{legend:"Include intercept?",defaultValue:u,onChange:function(e){return t.setState({intercept:e})}}),m()($.a,{legend:"Omit missing values",defaultValue:!1,onChange:function(e){return t.setState({omitMissing:e})}}),m()(x.a,{disabled:!i||0===i.length,variant:"primary",block:!0,onClick:this.compute},void 0,"Calculate")))}}]),r}(b.Component);Ht.defaultProps={logAction:function(){}};e.default=Ht}}]);