(window.webpackJsonp=window.webpackJsonp||[]).push([[959],{423:function(e,t,s){"use strict";var r=s(405),n=s(408),i=s(409),a=s.n(i),o=s(0),c=s.n(o),l=s(411),u=s(463),p=c.a.forwardRef((function(e,t){var s=e.bsPrefix,i=e.variant,o=e.size,p=e.active,d=e.className,m=e.block,h=e.type,b=e.as,f=Object(n.a)(e,["bsPrefix","variant","size","active","className","block","type","as"]),v=Object(l.a)(s,"btn"),w=a()(d,v,p&&"active",i&&v+"-"+i,m&&v+"-block",o&&v+"-"+o);if(f.href)return c.a.createElement(u.a,Object(r.a)({},f,{as:b,ref:t,className:a()(w,f.disabled&&"disabled")}));t&&(f.ref=t),h?f.type=h:b||(f.type="button");var y=b||"button";return c.a.createElement(y,Object(r.a)({},f,{className:w}))}));p.displayName="Button",p.defaultProps={variant:"primary",active:!1,disabled:!1},t.a=p},582:function(e,t,s){"use strict";var r=s(553),n=s.n(r),i=s(0),a=s.n(i),o=(s(404),function(e){var t=e.children,s=n()(e,["children"]);return a.a.createElement("div",s,t)});o.defaultProps={className:"",style:{}},t.a=o},608:function(e,t,s){"use strict";var r=s(406),n=Object(r.a)((function(){return s.e(206).then(s.bind(null,879))}));t.a=n},6421:function(e,t,s){"use strict";s.r(t);s(421),s(437),s(433),s(430),s(438),s(439);var r=s(407),n=s.n(r),i=s(414),a=s.n(i),o=s(416),c=s.n(o),l=s(424),u=s.n(l),p=s(418),d=s.n(p),m=s(419),h=s.n(m),b=s(417),f=s.n(b),v=s(412),w=s.n(v),y=(s(428),s(0)),g=s(450),O=s.n(g),j=(s(404),s(4101)),P=s(883),k=s(818),S=s(796),N=s(423),x=s(464),R=s(491),q=s(432),F=s(523),C=s.n(F),A=s(481),M=s.n(A),D=s(471),E=s.n(D),I=s(447),T=s.n(I),z=s(429),B=s(762),L=s.n(B),J=s(544),Q=s(691),H=s(582),V=s(608),_=s(1307),G=s(624),K=s(459),U=s(458),W=s(420),X=s(442);s(353);function Y(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function Z(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(s),!0).forEach((function(t){w()(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Y(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,r=f()(e);if(t){var n=f()(this).constructor;s=Reflect.construct(r,arguments,n)}else s=r.apply(this,arguments);return h()(this,s)}}Object(W.a)("SelectQuestionMatrix");var ee=O()("isle:select-question-matrix"),te=Object(J.a)("select-question-matrix"),se=function(e){d()(s,e);var t=$(s);function s(e){var r;return a()(this,s),r=t.call(this,e),w()(u()(r),"handleChangeFactory",(function(e){return function(t){ee("Received a new value for ".concat(e,"..."));var s=C()(r.state.answers,1);s[e]=t.value,r.setState({answers:s})}})),w()(u()(r),"handleSubmit",(function(){for(var e=r.context,t=!0,s=M()(r.props.solution),n=0;n<s.length;n++){var i=s[n],a=r.props.solution[i],o=r.state.answers[i];Object(z.isPrimitive)(o)&&(T()(a)?E()(a,o)||(t=!1):a!==o&&(t=!1))}var c=!L()(r.props.solution);"none"!==r.props.provideFeedback&&c?t?e.addNotification({title:r.props.t("correct"),message:r.props.successMsg||r.props.t("success-message"),level:"success"}):e.addNotification({title:r.props.t("incorrect"),message:r.props.failureMsg||r.props.t("failure-message"),level:"error"}):e.addNotification({title:r.state.submitted?r.props.t("answer-resubmitted"):r.props.t("answer-submitted"),message:r.state.submitted?r.props.t("resubmit-message"):r.props.t("submit-message"),level:"info"}),e.log({id:r.id,type:U.ac,value:r.state.answers}),r.props.onSubmit(r.state.answers,t);var l=null;r.props.provideFeedback&&c&&(l=t?"success":"danger");var u=r.state.numbSubmissions+1;r.setState({submitted:!0,answerState:l,submittedAnswers:C()(r.state.answers),numbSubmissions:u,completed:(u>=r.props.nTries||t)&&"none"!==r.props.provideFeedback&&c})})),r.id=e.id||te(e),r.state={answers:{},submitted:!1,answerState:null,completed:!1,numbSubmissions:0,submittedAnswers:null},r}return c()(s,[{key:"renderColumnNames",value:function(){var e,t=this.props.cols.length;return e=t>7?1:t>4?2:3,n()(P.a.Row,{className:"multiple-choice-matrix-question-header"},void 0,n()(R.a,{sm:e}),this.props.cols.map((function(e,t){return n()(R.a,{},t,n()(P.a.Label,{},void 0,Object(q.isPrimitive)(e)?n()(_.a,{raw:e}):e))})))}},{key:"renderSelectInput",value:function(e,t){var s,r=e+":"+t,i=this.props.options[r]||[];i=i.map((function(e,t){return{label:e,value:t}}));var a="overall"===this.props.provideFeedback&&this.state.submitted||"individual"===this.props.provideFeedback&&this.state.submitted&&Object(z.isPrimitive)(this.state.submittedAnswers[r]);a&&Object(z.isPrimitive)(this.props.solution[r])&&(s=this.state.submittedAnswers[r]===this.props.solution[r]?"green":"red");var o,c=n()(k.a,{name:"form-field-name",className:"select-field",isDisabled:this.state.completed,isSearchable:!1,options:i,onChange:this.handleChangeFactory(r),menuPlacement:"top",menuPortalTarget:document.body,styles:{menuPortal:function(e){return Z(Z({},e),{},{zIndex:1010})},singleValue:function(e){return Z(Z({},e),{},{color:s})}}},"select-".concat(e,"-").concat(t)),l=this.props.cellLabels[r];return o=this.state.completed?"green"===s?this.props.t("correct-answer"):this.props.t("should-have-been"):"green"===s?this.props.t("correct"):this.props.t("try-again"),n()(y.Fragment,{},void 0,l?n()("span",{className:"select-question-matrix-cell-label"},void 0,l):null,c,a?n()(S.a,{variant:"green"===s?"success":"danger"},void 0,o,this.state.completed?this.props.options[r][this.props.solution[r]]:null):null)}},{key:"renderRowSelects",value:function(e){for(var t=this.props.cols.length,s=new Array(t),r=0;r<t;r++)s[r]=n()(R.a,{},r,this.renderSelectInput(e,r));return n()(y.Fragment,{},void 0,s)}},{key:"renderRows",value:function(){var e,t=this,s=this.props.rows.length;return e=s>7?1:s>4?2:3,this.props.rows.map((function(s,r){return n()(P.a.Row,{style:{marginBottom:15,marginTop:15}},r,n()(R.a,{sm:e},void 0,n()(P.a.Label,{column:!0,style:{textAlign:"right"}},void 0,Object(q.isPrimitive)(s)?n()(_.a,{raw:s}):s)),t.renderRowSelects(r))}))}},{key:"render",value:function(){var e=this.props.hints.length,t=M()(this.state.answers).length,s=M()(this.props.options).length,r=0===t||t<s&&!this.props.allowIncomplete||this.state.completed;return n()(x.a,{id:this.id,border:this.state.answerState,className:"select-question-matrix ".concat(this.props.className),style:this.props.style,body:!0},void 0,this.props.question?n()("label",{},void 0,this.props.question):null,this.renderColumnNames(),this.renderRows(),n()("div",{className:"select-question-matrix-toolbar"},void 0,n()(N.a,{className:"submit-button",variant:"primary",size:"sm",onClick:this.handleSubmit,disabled:r},void 0,this.state.submitted?this.props.t("resubmit"):this.props.t("submit")),e>0?n()(Q.a,{onClick:this.logHint,hints:this.props.hints,placement:this.props.hintPlacement}):null,this.props.chat?n()(V.a,{for:this.id}):null),n()("div",{},void 0,n()(H.a,{id:this.id,data:{type:"tensor",rows:this.props.rows,cols:this.props.cols,question:this.props.question,solution:this.props.solution},info:U.ac}),this.props.feedback?n()(G.a,{id:this.id+"_feedback",style:{float:"left"}}):null))}}]),s}(y.Component);se.defaultProps={question:"",rows:[],cols:[],solution:{},options:{},hints:[],hintPlacement:"bottom",feedback:!0,provideFeedback:"individual",allowIncomplete:!1,nTries:3,failureMsg:null,successMsg:null,cellLabels:{},chat:!1,className:"",style:{},onSubmit:function(){}},se.contextType=K.a,t.default=Object(j.a)("SelectQuestionMatrix")(Object(X.a)(se))},691:function(e,t,s){"use strict";var r=s(406),n=Object(r.a)((function(){return s.e(391).then(s.bind(null,1036))}));t.a=n}}]);