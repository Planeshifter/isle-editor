(window.webpackJsonp=window.webpackJsonp||[]).push([[828],{1456:function(e,a,t){"use strict";var s=t(407),n=t.n(s),r=t(448),i=t.n(r),o=t(0),l=(t(404),t(1996)),c=t(454),u=t(423),d=t(647),b=t(459),v=t(458),f=t(534),p=t(420);t(62);Object(p.a)("General");var m=function(e){var a=e.children,t=e.disabled,s=e.id,r=e.size,p=e.variant,m=e.onClick,g=e.onPaused,y=Object(o.useState)(!1),h=i()(y,2),O=h[0],j=h[1],w=Object(l.a)("General").t,N=Object(o.useContext)(b.a);Object(o.useEffect)((function(){var e;return N&&(e=N.subscribe((function(e,a){e===f.n&&a.id===s+"-stoppable-button"&&(a.type===v.a?(j(!0),g(!0)):a.type===v.b&&(j(!1),g(!1)))}))),function(){e&&e()}}),[s,N,g]);var k=Object(o.useCallback)((function(){N.log({id:s+"-stoppable-button",type:O?v.b:v.a,value:!0},"members"),j(!O),g&&g(!O)}),[s,O,N,g]);return s?n()(o.Fragment,{},void 0,n()(u.a,{className:"stoppable-button",size:r,variant:p,block:!0,fill:!0,onClick:m,disabled:t||O},void 0,a),n()(d.a,{owner:!0},void 0,n()(u.a,{size:r,variant:O?"warning":"secondary",block:!0,fill:!0,onClick:k},void 0,n()("span",{},void 0,w(O?"resume":"pause"))))):n()(c.a,{variant:"danger"},void 0,w("supply-component-id"))};m.defaultProps={size:"small",variant:"success"},a.a=m},423:function(e,a,t){"use strict";var s=t(405),n=t(408),r=t(409),i=t.n(r),o=t(0),l=t.n(o),c=t(411),u=t(463),d=l.a.forwardRef((function(e,a){var t=e.bsPrefix,r=e.variant,o=e.size,d=e.active,b=e.className,v=e.block,f=e.type,p=e.as,m=Object(n.a)(e,["bsPrefix","variant","size","active","className","block","type","as"]),g=Object(c.a)(t,"btn"),y=i()(b,g,d&&"active",r&&g+"-"+r,v&&g+"-block",o&&g+"-"+o);if(m.href)return l.a.createElement(u.a,Object(s.a)({},m,{as:p,ref:a,className:i()(y,m.disabled&&"disabled")}));a&&(m.ref=a),f?m.type=f:p||(m.type="button");var h=p||"button";return l.a.createElement(h,Object(s.a)({},m,{className:y}))}));d.displayName="Button",d.defaultProps={variant:"primary",active:!1,disabled:!1},a.a=d},478:function(e,a,t){"use strict";var s=t(405),n=t(408),r=t(409),i=t.n(r),o=t(0),l=t.n(o),c=t(411),u=["xl","lg","md","sm","xs"],d=l.a.forwardRef((function(e,a){var t=e.bsPrefix,r=e.className,o=e.noGutters,d=e.as,b=void 0===d?"div":d,v=Object(n.a)(e,["bsPrefix","className","noGutters","as"]),f=Object(c.a)(t,"row"),p=f+"-cols",m=[];return u.forEach((function(e){var a,t=v[e];delete v[e];var s="xs"!==e?"-"+e:"";null!=(a=null!=t&&"object"==typeof t?t.cols:t)&&m.push(""+p+s+"-"+a)})),l.a.createElement(b,Object(s.a)({ref:a},v,{className:i.a.apply(void 0,[r,f,o&&"no-gutters"].concat(m))}))}));d.displayName="Row",d.defaultProps={noGutters:!1},a.a=d},506:function(e,a,t){"use strict";var s=t(405),n=t(408),r=t(409),i=t.n(r),o=t(0),l=t.n(o),c=t(411),u=l.a.forwardRef((function(e,a){var t=e.bsPrefix,r=e.fluid,o=e.as,u=void 0===o?"div":o,d=e.className,b=Object(n.a)(e,["bsPrefix","fluid","as","className"]),v=Object(c.a)(t,"container"),f="string"==typeof r?"-"+r:"-fluid";return l.a.createElement(u,Object(s.a)({ref:a},b,{className:i()(d,r?""+v+f:v)}))}));u.displayName="Container",u.defaultProps={fluid:!1},a.a=u},582:function(e,a,t){"use strict";var s=t(553),n=t.n(s),r=t(0),i=t.n(r),o=(t(404),function(e){var a=e.children,t=n()(e,["children"]);return i.a.createElement("div",t,a)});o.defaultProps={className:"",style:{}},a.a=o},6411:function(e,a,t){"use strict";t.r(a);var s=t(407),n=t.n(s),r=t(448),i=t.n(r),o=(t(849),t(468),t(486),t(500),t(0)),l=(t(404),t(450)),c=t.n(l),u=t(1996),d=t(464),b=t(491),v=t(478),f=t(506),p=t(967),m=t.n(p),g=t(544),y=t(1498),h=t(582),O=t(991),j=t(1456),w=t(459),N=t(518),k=t(458),P=t(420);t(341);Object(P.a)("Survey");var S=c()("isle:proportions-survey"),x=Object(g.a)("proportions-survey");var C=function(e){var a=Object(o.useRef)(e.id||x(e)),t=Object(u.a)("Survey").t,s=Object(o.useContext)(w.a),r=Object(o.useState)(!1),l=i()(r,2),c=l[0],p=l[1],g=Object(o.useState)(!1),P=i()(g,2),C=P[0],R=P[1],E=e.legends.length,z=Object(o.useState)(new Array(E).fill(100/E)),A=i()(z,2),G=A[0],J=A[1],H=Object(o.useState)({values:null,nResults:0}),q=i()(H,2),M=q[0],T=q[1],B=e.anonymous,D=e.legends,F=e.onSubmit,L=Object(o.useCallback)((function(){S("Sending the data: "+G),s.log({id:a.current,type:k.Rb,value:JSON.stringify(G),anonymous:B},"members"),p(!0),s.addNotification({title:t("submitted"),message:t("answer-submitted"),level:"success"}),F(G)}),[B,F,s,t,G]),I=Object(o.useCallback)((function(e){S("ProportionsSurvey is receiving data: "+JSON.stringify(e));for(var a=new Array(e.length),t=0;t<e.length;t++)a[t]=JSON.parse(e[t]);for(var s=D.length,n=new Array(s).fill(0),r=new Array(s).fill(0),i=0;i<a.length;i++)for(var o=0;o<a[i].length;o++)n[o]+=a[i][o];S("The sum is "+n);for(var l=0;l<s;l++)r[l]=n[l]/a.length;S("The mean is "+r),T({values:r,nResults:a.length})}),[D]),K=c&&!e.allowMultipleAnswers||e.disabled||m()(function(e){var a=0;if(!e)return a;for(var t=0;t<e.length;t++)a+=e[t];return a}(G),100)>.2;return n()(N.a,{},void 0,n()(f.a,{},void 0,n()(v.a,{},void 0,n()(b.a,{md:6},void 0,n()(d.a,{body:!0,className:"proportions-survey"},void 0,n()("h3",{},void 0,e.question,C?n()("i",{className:"fas fa-lock",style:{float:"right"}}):null),n()(y.a,{legends:D,precision:e.precision,step:e.step,height:e.personalHeight,colors:e.colors,margin:e.margin,onChange:J}),n()(j.a,{id:a.current,disabled:K,onClick:L,onPaused:R},void 0,t(K?"submitted":"submit")))),n()(b.a,{md:6},void 0,n()(d.a,{body:!0,className:"proportions-survey"},void 0,n()("h3",{},void 0,e.group),n()(O.a,{for:[a.current],onData:I}),n()("h4",{},void 0,t("number-of-votes"),": ",M.nResults," "),n()(y.a,{legends:e.legends,precision:e.precision,step:e.step,height:e.groupHeight,colors:e.colors,disabled:!0,margin:e.margin,values:M.values}))))),n()(h.a,{buttonLabel:t("responses"),id:a.current}))};C.defaultProps={onSubmit:function(){},allowMultipleAnswers:!1,question:"",anonymous:!1,disabled:!1,legends:[],group:"group results",precision:2,step:.25,colors:null,personalHeight:200,groupHeight:100,margin:"40px"},a.default=C}}]);