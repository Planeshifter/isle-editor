(self.webpackChunk=self.webpackChunk||[]).push([[84553],{510675:function(e,t,n){"use strict";n.r(t);n(382139);var o=n(858255),r=n(264659),a=n(904730),i=n(673989),s=n(175663),c=n(750591),l=n(575630),u=n(151119),d=n(202784),f=(n(213980),n(81982)),p=n(292682),h=n(382470),v=n.n(h),Z=n(614972),g=n.n(Z),y=n(407351),k=n.n(y),m=n(453339),P=n.n(m),b=n(861712),w=n.n(b);function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=(0,l.Z)(e);if(t){var r=(0,l.Z)(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return(0,c.Z)(this,n)}}var C=function(e){(0,s.Z)(n,e);var t=x(n);function n(e){var o;return(0,r.Z)(this,n),o=t.call(this,e),(0,u.Z)((0,i.Z)(o),"handlePlotClick",(function(e){var t=e.points[0];t&&(o.props.gotoPage(t.pointIndex),o.props.onHide())})),o.state={data:null},o}return(0,a.Z)(n,[{key:"render",value:function(){return(0,o.Z)(f.Z,{onHide:this.props.onHide,show:this.props.show,id:"sketch-feedback-modal",dialogClassName:"modal-100w"},void 0,(0,o.Z)(f.Z.Header,{closeButton:!0},void 0,(0,o.Z)(f.Z.Title,{as:"h3"},void 0,this.props.t("feedback-modal-title",{id:this.props.id,noPages:this.props.noPages}))),(0,o.Z)(f.Z.Body,{},void 0,(0,o.Z)(p.Z,{data:this.state.data,removeButtons:!0,onClick:this.handlePlotClick,layout:{xaxis:{fixedrange:!0},yaxis:{fixedrange:!0},barmode:"relative"}})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(g()(t.data)){for(var n=e.session.socketActions,o="".concat(e.id,"-slide-"),r={},a=0;a<n.length;a++){var i=n[a].id;k()(i,o)&&!n[a].owner&&(r[i]||(r[i]=[]),r[i].push(n[a].value))}for(var s=v()(r),c=[],l=["confused","understood"],u=0;u<l.length;u++){for(var d=new Array(s.length),f=new Array(s.length),p=0;p<e.noPages;p++){d[p]="Slide "+(p+1);var h="".concat(e.id,"-slide-").concat(e.toOriginalPage(p));if(r[h]){var Z=P()(r[h],w());f[p]=Z[l[u]],0===u&&(f[p]*=-1)}else f[p]=0}c.push({x:d,y:f,type:"bar",name:l[u],marker:{color:1===u?"rgb(40,167,69)":"rgb(220,53,69)",cursor:"pointer"}})}return{data:c}}}}]),n}(d.Component);C.defaultProps={onHide:function(){}},t.default=C}}]);