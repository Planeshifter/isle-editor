(window.webpackJsonp=window.webpackJsonp||[]).push([[268],{1645:function(t,n,e){"use strict";var a=e(440),o=e.n(a);n.a=function(t,n,e){var a=e.config.rshell;a&&a.libraries&&(t=t.concat(a.libraries));var r=function(t){return t.map((function(t){return"library("+t+");"})).join(" ")}(t);return a&&a.global&&(r+=a.global+"\n"),n=o()(n)?n.join("\n"):n,r+=n+="\n"}},3987:function(t,n,e){"use strict";e.r(n);e(411),e(403),e(415);var a=e(507),o=e.n(a),r=e(788),i=e.n(r),s=e(400),l=e.n(s),c=e(407),p=e.n(c),u=e(410),f=e.n(u),d=e(420),h=e.n(d),g=e(413),v=e.n(g),m=e(414),b=e.n(m),y=e(412),w=e.n(y),R=e(404),D=e.n(R),P=e(0),k=e.n(P),j=(e(396),e(4125)),N=e(3959),x=e.n(N),S=e(3981),T=e.n(S),U=e(589),C=e.n(U),L=e(1645),O=e(1203),J=e(1128),E=e(457),F=e(418);e(344);function H(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,a=w()(t);if(n){var o=w()(this).constructor;e=Reflect.construct(a,arguments,o)}else e=a.apply(this,arguments);return b()(this,e)}}Object(F.a)("R");var M=l()("span",{}),q=function(t){v()(e,t);var n=H(e);function e(t){var a;return p()(this,e),a=n.call(this,t),D()(h()(a),"savePlot",(function(t,n,e){t?a.props.onDone(t):a.setState({plotURL:n,plot:e,waiting:!1},(function(){a.props.onDone(null,n,e)}))})),a.state={plotURL:null,plot:null,last:"",waiting:!1},a}return f()(e,[{key:"componentDidMount",value:function(){this.getPlot()}},{key:"componentDidUpdate",value:function(){this.getPlot()}},{key:"getPlot",value:function(){if(this.props.code!==this.state.last){this.setState({waiting:!0,last:this.props.code});var t=this.context,n=Object(L.a)(this.props.libraries,this.props.prependCode,t)+this.props.code;t.getRPlot(n,this.props.fileType,this.savePlot)}}},{key:"render",value:function(){var t=this,n=null;this.props.draggable&&(n=l()("div",{className:"rplot-draggable-bar",draggable:!0,onDragStart:function(n){var e;if(t.props.meta){var a=t.props.meta;a=T()(a,(function(t,n){return C()(n)})),a=x.a.dump(a),e='<img src="'.concat(t.state.plot,'" style="display: block; margin: 0 auto;" data-plot-id="').concat(t.props.id,'" data-plot-meta="').concat(a,'"></img>')}else e='<img src="'.concat(t.state.plot,'" alt="R Plot" style="display: block; margin: 0 auto;" />');n.dataTransfer.setData("text/html",e)}},void 0,this.props.t("drag-plot")));var e=this.props,a=e.className,r=i()(e,["className"]);return l()("div",{className:"rplot ".concat(a),style:{minHeight:128,cursor:"pointer"}},void 0,l()(O.a,{running:this.state.waiting,width:256,height:128}),this.state.waiting?M:l()(P.Fragment,{},void 0,n,k.a.createElement(J.a,o()({src:this.state.plotURL,body:this.state.plot,title:this.props.t("r-plot")},r))))}}]),e}(P.Component);q.defaultProps={code:"",width:600,height:"auto",draggable:!1,fileType:"svg",libraries:[],prependCode:"",meta:null,className:"",onDone:function(){}},q.contextType=E.a,n.default=Object(j.a)("R")(q)}}]);