(window.webpackJsonp=window.webpackJsonp||[]).push([[153],{3577:function(a,t,e){"use strict";e.r(t);e(358),e(353),e(361);var n=e(364),o=e.n(n),i=e(357),s=e.n(i),r=e(359),d=e.n(r),l=e(367),c=e.n(l),u=e(362),m=e.n(u),h=e(363),v=e.n(h),g=e(360),p=e.n(g),y=e(354),f=e.n(y),M=e(0),L=(e(8),e(377)),D=e(417),x=e(405),A=e(419),w=e(402),G=e(548),S=e(87),b=e(385),C=e.n(b),E=e(370),k=e.n(E),V=e(451),N=e.n(V),T=e(1055),_=e.n(T),P=e(605),U=e.n(P),I=e(2976),R=e.n(I),B=e(1638),H=e.n(B),Y=e(504),J=e(394),W=e(450);function z(a){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(a){return!1}}();return function(){var e,n=p()(a);if(t){var o=p()(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return v()(this,e)}}var j=C()("isle:mean-vs-median"),q=o()(w.a.Header,{as:"h4"},void 0,"Mean"),F=o()(w.a.Header,{as:"h4"},void 0,"Median"),K=o()("thead",{},void 0,o()("tr",{},void 0,o()("th",{}),o()("th",{},void 0,"You"),o()("th",{},void 0,"Group"))),O=o()("th",{},void 0,"Average Distance from Mean:"),Q=o()("th",{},void 0,"Average Distance from Median:"),X=o()(Y.a,{id:"mean-vs-median"}),Z=function(a){m()(e,a);var t=z(e);function e(a){var n;s()(this,e),n=t.call(this,a),f()(c()(n),"medianEvaluation",(function(a){if(a.stopPropagation(),!n.state.showLognormalMedian){var t=k()(R.a.median(n.state.mu,n.state.sigma)-n.state.medianLognormalGuess),e="A bit off... Try again!",o=n.state.lognormalDomain.x[1];t<o/10&&(e="Good!"),t<o/20&&(e="Very Good!"),n.singleAccMedian(t);var i=n.context;i.addNotification({title:"Score",message:e,position:"tc",level:"success"}),i.log({id:n.props.id,type:"MEDIAN_GUESS_DISTANCE",value:t}),n.setState({showLognormalMedian:!0})}})),f()(c()(n),"meanEvaluation",(function(a){if(a.stopPropagation(),!n.state.showLognormalMean){var t=k()(R.a.mean(n.state.mu,n.state.sigma)-n.state.meanLognormalGuess),e="A bit off... Try again!",o=n.state.lognormalDomain.x[1];t<o/10&&(e="Good!"),t<o/20&&(e="Very Good!"),n.singleAccMean(t);var i=n.context;i.addNotification({title:"Score",message:e,position:"tc",level:"success"}),i.log({id:n.props.id,type:"MEAN_GUESS_DISTANCE",value:t}),n.setState({showLognormalMean:!0})}})),f()(c()(n),"generateData",(function(){var a=1*n.rand()-.5,t=2*n.rand()+.01,e=4+R.a.stdev(a,t),o=U()(0,e,80).map((function(e){return{x:e,y:R.a.pdf(e,a,t)}}));n.setState({lognormalData:o,mu:a,sigma:t,lognormalDomain:{x:[0,e],y:[0,R.a.pdf(R.a.mode(a,t),a,t)]},showLognormalMean:!1,showLognormalMedian:!1})})),n.state={mu:0,sigma:1,lognormalData:[],lognormalDomain:{x:[0,4],y:[0,3]},meanLognormalGuess:1,medianLognormalGuess:1,showLognormalMean:!1,showLognormalMedian:!1};var o={};return a.seed&&(o.seed=a.seed),n.rand=_.a.factory(o),n.singleAccMean=H()(),n.groupAccMean=H()(),n.singleAccMedian=H()(),n.groupAccMedian=H()(),n}return d()(e,[{key:"componentDidMount",value:function(){var a=this;this.generateData();var t=this.context;this.unsubscribe=t.subscribe((function(t,e){if(t===W.n)if("MEDIAN_GUESS_DISTANCE"===e.type){var n=e.value;a.groupAccMedian(n),a.forceUpdate()}else if("MEAN_GUESS_DISTANCE"===e.type){var o=e.value;a.groupAccMean(o),a.forceUpdate()}}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"renderMeanPanel",value:function(){var a=this;return o()(w.a,{},void 0,q,o()(w.a.Body,{},void 0,o()(S.VictoryChart,{domain:this.state.lognormalDomain,containerComponent:o()(S.VictoryCursorContainer,{events:{onClick:this.meanEvaluation},cursorDimension:"x",cursorLabel:function(a){return"".concat(N()(a.x,-1))},onCursorChange:function(t){j("Received cursor change: ".concat(t)),a.state.showLognormalMean||a.setState({meanLognormalGuess:t})}})},void 0,o()(S.VictoryLine,{data:this.state.lognormalData,x:"x",y:"y"}),this.state.showLognormalMean?o()(S.VictoryLine,{data:[{x:this.state.meanLognormalGuess,y:0},{x:this.state.meanLognormalGuess,y:this.state.lognormalDomain.y[1]}],labels:["Your Guess",""]}):null,this.state.showLognormalMean?o()(S.VictoryLine,{data:[{x:R.a.mean(this.state.mu,this.state.sigma),y:0},{x:R.a.mean(this.state.mu,this.state.sigma),y:this.state.lognormalDomain.y[1]}],labels:["","True Mean"]}):null)))}},{key:"renderMedianPanel",value:function(){var a=this;return o()(w.a,{},void 0,F,o()(w.a.Body,{},void 0,o()(S.VictoryChart,{domain:this.state.lognormalDomain,containerComponent:o()(S.VictoryCursorContainer,{events:{onClick:this.medianEvaluation},cursorDimension:"x",cursorLabel:function(a){return"".concat(N()(a.x,-1))},onCursorChange:function(t){a.state.showLognormalMedian||a.setState({medianLognormalGuess:t})}})},void 0,o()(S.VictoryLine,{data:this.state.lognormalData,x:"x",y:"y"}),this.state.showLognormalMedian?o()(S.VictoryLine,{data:[{x:this.state.medianLognormalGuess,y:0},{x:this.state.medianLognormalGuess,y:this.state.lognormalDomain.y[1]}],labels:["Your Guess",""]}):null,this.state.showLognormalMedian?o()(S.VictoryLine,{data:[{x:R.a.median(this.state.mu,this.state.sigma),y:0},{x:R.a.median(this.state.mu,this.state.sigma),y:this.state.lognormalDomain.y[1]}],labels:["","True Median"]}):null)))}},{key:"render",value:function(){return o()(w.a,{style:this.props.style},void 0,o()(w.a.Header,{as:"h3"},void 0,this.props.header),o()(w.a.Body,{},void 0,o()(D.a,{},void 0,this.props.intro,o()(x.a,{},void 0,o()(A.a,{md:6},void 0,this.renderMeanPanel()),o()(A.a,{md:6},void 0,this.renderMedianPanel())),o()(x.a,{},void 0,o()("div",{style:{paddingTop:"20px",maxWidth:400,margin:"0 auto 10px"}},void 0,o()(L.a,{variant:"primary",size:"lg",onClick:this.generateData},void 0,"Generate new data"))),o()(x.a,{},void 0,this.props.showStatistics?o()(G.a,{bordered:!0},void 0,K,o()("tbody",{},void 0,o()("tr",{},void 0,O,o()("td",{},void 0,N()(this.singleAccMean(),-2)),o()("td",{},void 0,N()(this.groupAccMean(),-2))),o()("tr",{},void 0,Q,o()("td",{},void 0,N()(this.singleAccMedian(),-2)),o()("td",{},void 0,N()(this.groupAccMedian(),-2))))):null)),this.props.feedback?X:null))}}]),e}(M.Component);Z.defaultProps={feedback:!1,header:"Measures of Location: Mean vs. Median",id:"mean_vs_median",intro:null,seed:null,showStatistics:!1,style:{}},Z.contextType=J.a,t.default=Z}}]);