(self.webpackChunk=self.webpackChunk||[]).push([[8922],{562020:function(e,t,n){"use strict";n.r(t);var a,o=n(607560),i=n(858255),r=n(574315),l=n(454530),c=n(202784),d=(n(213980),n(376699)),s=n(108195),u=n(238534),m=n.n(u),g=n(614972),p=n.n(g),b=n(760977),f=n(71816),v=n(472132),y=n(741319),Z=n(806258),h=n(432261);function C(e){var t,n=e.id,a=e.meta,o=e.plot;return a?(a=m()(a,(function(e,t){return p()(t)})),a=s.ZP.dump(a),t='<img src="'.concat(o,'" style="display: block; margin: 0 auto;" data-plot-id="').concat(n,'" data-plot-meta="').concat(a,'"></img>')):t='<img src="'.concat(o,'" alt="R Plot" style="display: block; margin: 0 auto;" />'),t}var w=function(e){var t=e.code,n=e.className,s=e.draggable,u=e.id,m=e.libraries,g=e.prependCode,p=e.fileType,h=e.meta,w=e.onDone,k=(0,l.Z)(e,["code","className","draggable","id","libraries","prependCode","fileType","meta","onDone"]),N=(0,d.$)("r").t,D=(0,c.useState)(!1),R=(0,r.Z)(D,2),S=R[0],T=R[1],x=(0,c.useState)({img:null,body:null}),E=(0,r.Z)(x,2),P=E[0],j=E[1],H=(0,c.useContext)(y.Z);(0,c.useEffect)((function(){T(!0);var e=(0,b.Z)(m,g,H)+t;H.getRPlot(e,p,(function(e,t,n){e?w(e):(j({img:t,body:n}),T(!1),w(null,t,n))}))}),[t,p,m,g,H,w]);var A=null;return s&&(A=(0,i.Z)("button",{className:"rplot-draggable-bar",draggable:!0,onDragStart:function(e){var t=C({id:u,meta:h,plot:P.body});e.dataTransfer.setData("text/html",t)},onClick:function(){var e=C({id:u,meta:h,plot:P.body});(0,Z.Z)(e)}},void 0,N("drag-plot"))),(0,i.Z)("div",{className:"rplot ".concat(n),style:{minHeight:128,cursor:"pointer"}},void 0,(0,i.Z)(f.Z,{running:S,width:256,height:128}),S?a||(a=(0,i.Z)("span",{})):(0,i.Z)(c.Fragment,{},void 0,A,c.createElement(v.Z,(0,o.Z)({src:P.img,body:P.body,title:N("r-plot")},k))))};w.defaultProps={code:"",width:600,height:"auto",draggable:!1,fileType:"svg",libraries:[],prependCode:"",meta:null,className:"",onDone:function(){}},t.default=(0,h.W)(w)},760977:function(e,t,n){"use strict";n(319371);var a=n(801420),o=n.n(a);t.Z=function(e,t,n){var a=n.config.rshell;a&&a.libraries&&(e=e.concat(a.libraries));var i=function(e){return e.map((function(e){return"library("+e+");"})).join(" ")}(e);return a&&a.global&&(i+=a.global+"\n"),t=o()(t)?t.join("\n"):t,i+=t+="\n"}},806258:function(e,t){"use strict";t.Z=function(e){var t=document.createElement("div");t.innerHTML=e,t.style.position="fixed",t.style.opacity=0,t.style.pointerEvents="none",document.body.appendChild(t),window.getSelection().removeAllRanges();var n=document.createRange();n.selectNode(t),window.getSelection().addRange(n),document.execCommand("copy"),document.body.removeChild(t)}}}]);