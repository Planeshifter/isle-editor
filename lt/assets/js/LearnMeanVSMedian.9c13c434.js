(self.webpackChunk=self.webpackChunk||[]).push([[3678],{396732:function(e,t,a){"use strict";a.r(t);a(382139);var o,n,s=a(858255),i=a(264659),r=a(904730),l=a(673989),d=a(175663),u=a(750591),m=a(575630),c=a(151119),h=(a(319371),a(202784)),Z=(a(213980),a(198)),v=a(770561),g=a(471275),p=a(458264),f=a(312594),y=a(260952),M=a(122081),x=a(409788),D=a(924122),L=a(690473),b=a(911755),A=a.n(b),w=a(656523),S=a.n(w),C=a(172203),E=a.n(C),G=a(731531),k=a.n(G),N=a(959751),_=a.n(N),P=a(150091),T=a.n(P),U=a(710394),I=a.n(U),R=a(228856),B=a(741319),H=a(964909);function W(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,o=(0,m.Z)(e);if(t){var n=(0,m.Z)(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return(0,u.Z)(this,a)}}var Y=A()("isle:mean-vs-median"),z=function(e){(0,d.Z)(a,e);var t=W(a);function a(e){var o;(0,i.Z)(this,a),o=t.call(this,e),(0,c.Z)((0,l.Z)(o),"medianEvaluation",(function(e){if(e.stopPropagation(),!o.state.showLognormalMedian){var t=S()(T().median(o.state.mu,o.state.sigma)-o.state.medianLognormalGuess),a=o.props.t("a-bit-off"),n=o.state.lognormalDomain.x[1];t<n/10&&(a=o.props.t("good")),t<n/20&&(a=o.props.t("very-good")),o.singleAccMedian(t);var s=o.context;s.addNotification({title:o.props.t("score"),message:a,position:"tc",level:"success"}),s.log({id:o.props.id,type:"MEDIAN_GUESS_DISTANCE",value:t}),o.setState({showLognormalMedian:!0})}})),(0,c.Z)((0,l.Z)(o),"meanEvaluation",(function(e){if(e.stopPropagation(),!o.state.showLognormalMean){var t=S()(T().mean(o.state.mu,o.state.sigma)-o.state.meanLognormalGuess),a=o.props.t("a-bit-off"),n=o.state.lognormalDomain.x[1];t<n/10&&(a=o.props.t("good")),t<n/20&&(a=o.props.t("very-good")),o.singleAccMean(t);var s=o.context;s.addNotification({title:o.props.t("score"),message:a,position:"tc",level:"success"}),s.log({id:o.props.id,type:"MEAN_GUESS_DISTANCE",value:t}),o.setState({showLognormalMean:!0})}})),(0,c.Z)((0,l.Z)(o),"generateData",(function(){var e=1*o.rand()-.5,t=2*o.rand()+.01,a=4+T().stdev(e,t),n=_()(0,a,80).map((function(a){return{x:a,y:T().pdf(a,e,t)}}));o.setState({lognormalData:n,mu:e,sigma:t,lognormalDomain:{x:[0,a],y:[0,T().pdf(T().mode(e,t),e,t)]},showLognormalMean:!1,showLognormalMedian:!1})})),o.state={mu:0,sigma:1,lognormalData:[],lognormalDomain:{x:[0,4],y:[0,3]},meanLognormalGuess:1,medianLognormalGuess:1,showLognormalMean:!1,showLognormalMedian:!1};var n={};return e.seed&&(n.seed=e.seed),o.rand=k().factory(n),o.singleAccMean=I()(),o.groupAccMean=I()(),o.singleAccMedian=I()(),o.groupAccMedian=I()(),o}return(0,r.Z)(a,[{key:"componentDidMount",value:function(){var e=this;this.generateData();var t=this.context;this.unsubscribe=t.subscribe((function(t,a){if(t===H.Wh)if("MEDIAN_GUESS_DISTANCE"===a.type){var o=a.value;e.groupAccMedian(o),e.forceUpdate()}else if("MEAN_GUESS_DISTANCE"===a.type){var n=a.value;e.groupAccMean(n),e.forceUpdate()}}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"renderMeanPanel",value:function(){var e=this,t=this.props.t;return(0,s.Z)(y.Z,{},void 0,(0,s.Z)(y.Z.Header,{as:"h4"},void 0,t("mean")),(0,s.Z)(y.Z.Body,{},void 0,(0,s.Z)(x.Z,{domain:this.state.lognormalDomain,containerComponent:(0,s.Z)(D.Z,{events:{onClick:this.meanEvaluation},cursorDimension:"x",cursorLabel:function(e){return"".concat(E()(e.x,-1))},onCursorChange:function(t){Y("Received cursor change: ".concat(t)),e.state.showLognormalMean||e.setState({meanLognormalGuess:t})}})},void 0,(0,s.Z)(L.Z,{data:this.state.lognormalData,x:"x",y:"y"}),this.state.showLognormalMean?(0,s.Z)(L.Z,{data:[{x:this.state.meanLognormalGuess,y:0},{x:this.state.meanLognormalGuess,y:this.state.lognormalDomain.y[1]}],labels:["Your Guess",""]}):null,this.state.showLognormalMean?(0,s.Z)(L.Z,{data:[{x:T().mean(this.state.mu,this.state.sigma),y:0},{x:T().mean(this.state.mu,this.state.sigma),y:this.state.lognormalDomain.y[1]}],labels:["","True Mean"]}):null)))}},{key:"renderMedianPanel",value:function(){var e=this,t=this.props.t;return(0,s.Z)(y.Z,{},void 0,(0,s.Z)(y.Z.Header,{as:"h4"},void 0,t("median")),(0,s.Z)(y.Z.Body,{},void 0,(0,s.Z)(x.Z,{domain:this.state.lognormalDomain,containerComponent:(0,s.Z)(D.Z,{events:{onClick:this.medianEvaluation},cursorDimension:"x",cursorLabel:function(e){return"".concat(E()(e.x,-1))},onCursorChange:function(t){e.state.showLognormalMedian||e.setState({medianLognormalGuess:t})}})},void 0,(0,s.Z)(L.Z,{data:this.state.lognormalData,x:"x",y:"y"}),this.state.showLognormalMedian?(0,s.Z)(L.Z,{data:[{x:this.state.medianLognormalGuess,y:0},{x:this.state.medianLognormalGuess,y:this.state.lognormalDomain.y[1]}],labels:["Your Guess",""]}):null,this.state.showLognormalMedian?(0,s.Z)(L.Z,{data:[{x:T().median(this.state.mu,this.state.sigma),y:0},{x:T().median(this.state.mu,this.state.sigma),y:this.state.lognormalDomain.y[1]}],labels:["","True Median"]}):null)))}},{key:"render",value:function(){var e=this.props.t;return(0,s.Z)(y.Z,{style:this.props.style},void 0,(0,s.Z)(y.Z.Header,{as:"h3"},void 0,this.props.header?this.props.header:e("measures-of-location-header")),(0,s.Z)(y.Z.Body,{},void 0,(0,s.Z)(g.Z,{},void 0,this.props.intro,(0,s.Z)(p.Z,{},void 0,(0,s.Z)(f.Z,{md:6},void 0,this.renderMeanPanel()),(0,s.Z)(f.Z,{md:6},void 0,this.renderMedianPanel())),(0,s.Z)(p.Z,{},void 0,(0,s.Z)("div",{style:{paddingTop:"20px",maxWidth:400,margin:"0 auto 10px"}},void 0,(0,s.Z)(v.Z,{variant:"primary",size:"lg",onClick:this.generateData},void 0,e("generate-new-data")))),(0,s.Z)(p.Z,{},void 0,this.props.showStatistics?(0,s.Z)(M.Z,{bordered:!0},void 0,(0,s.Z)("thead",{},void 0,(0,s.Z)("tr",{},void 0,o||(o=(0,s.Z)("th",{})),(0,s.Z)("th",{},void 0,e("you")),(0,s.Z)("th",{},void 0,e("group")))),(0,s.Z)("tbody",{},void 0,(0,s.Z)("tr",{},void 0,(0,s.Z)("th",{},void 0,e("average-distance-from-mean")),(0,s.Z)("td",{},void 0,E()(this.singleAccMean(),-2)),(0,s.Z)("td",{},void 0,E()(this.groupAccMean(),-2))),(0,s.Z)("tr",{},void 0,(0,s.Z)("th",{},void 0,e("average-distance-from-median")),(0,s.Z)("td",{},void 0,E()(this.singleAccMedian(),-2)),(0,s.Z)("td",{},void 0,E()(this.groupAccMedian(),-2))))):null)),this.props.feedback?n||(n=(0,s.Z)(R.Z,{id:"mean-vs-median"})):null))}}]),a}(h.Component);z.defaultProps={feedback:!1,header:null,id:"mean_vs_median",intro:null,seed:null,showStatistics:!1,style:{}},z.contextType=B.Z,t.default=(0,Z.Z)("learn/mean-vs-median")(z)}}]);