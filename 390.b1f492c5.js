(window.webpackJsonp=window.webpackJsonp||[]).push([[390],{5843:function(e,a,t){"use strict";t.r(a);t(358),t(351),t(360);var n=t(354),r=t.n(n),l=t(352),o=t.n(l),i=t(353),s=t.n(i),c=t(356),u=t.n(c),p=t(357),d=t.n(p),f=t(355),v=t.n(f),g=t(0),h=(t(342),t(398)),b=t.n(h),y=t(384),V=t(427),w=t(581),m=t(507),C=t(474),R=t(3238),P=t(419),q=t(664);function D(e){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=v()(e);if(a){var r=v()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return d()(this,t)}}var F=b()("isle:data-explorer:contingency-table"),S=r()(V.a.Header,{as:"h4"},void 0,"Contingency Table",r()(q.a,{title:"Contingency Table",content:"A contingency table displays either the raw absolute or relative frequencies of two categorical variable's values alongside their row and column totals."})),k=function(e){u()(t,e);var a=D(t);function t(e){var n;return o()(this,t),(n=a.call(this,e)).state={relativeFreqs:!1,rowVar:e.defaultRowVar||e.variables[0],colVar:e.defaultColVar||e.variables[1],group:null,nDecimalPlaces:3,variables:e.variables,display:[]},n}return s()(t,[{key:"generateContingencyTable",value:function(){var e=this.state,a=e.rowVar,t=e.colVar,n=e.group,l=e.relativeFreqs,o=e.nDecimalPlaces,i=e.display;if(!a||!t)return this.props.session.addNotification({title:"Select Variables",message:"You need to select a row and column variable for the contingency table",level:"warning",position:"tr"});var s=r()(R.a,{rowVar:a,colVar:t,group:n,relativeFreqs:l,nDecimalPlaces:o,display:i,data:this.props.data});this.props.logAction(P.h,{rowVar:a,colVar:t,group:n,relativeFreqs:l,display:i}),this.props.onCreated(s)}},{key:"render",value:function(){var e=this,a=this.props,t=a.variables,n=a.groupingVariables;return r()(V.a,{},void 0,S,r()(V.a.Body,{},void 0,r()(m.a,{legend:"Row Variable:",defaultValue:this.state.rowVar,options:t,onChange:function(a){e.setState({rowVar:a})}}),r()(m.a,{legend:"Column Variable:",defaultValue:this.state.colVar,options:t,onChange:function(a){e.setState({colVar:a})}}),r()(m.a,{legend:"Group By:",options:n,clearable:!0,menuPlacement:"top",onChange:function(a){e.setState({group:a})},tooltip:"Generate a contingency table for each category of a chosen grouping variable"}),r()(w.a,{legend:"Relative Frequency",defaultValue:!1,onChange:function(){e.setState({relativeFreqs:!e.state.relativeFreqs})}}),r()(m.a,{legend:"Display:",options:["Row Percent","Column Percent"],multi:!0,onChange:function(a){e.setState({display:a||[]})}}),this.state.relativeFreqs||this.state.display.length>0?r()("p",{},void 0,"Report relative frequencies to",r()(C.b,{inline:!0,width:50,max:16,min:0,defaultValue:this.state.nDecimalPlaces,onChange:function(a){e.setState({nDecimalPlaces:a})}}),"decimal place(s)."):null,r()(y.a,{variant:"primary",block:!0,onClick:this.generateContingencyTable.bind(this)},void 0,"Generate")))}}],[{key:"getDerivedStateFromProps",value:function(e,a){return e.variables.length!==a.variables.length?(F("Available variables have changed..."),{rowVar:e.defaultRowVar||e.variables[0],colVar:e.defaultColVar||e.variables[1],variables:e.variables}):null}}]),t}(g.Component);k.defaultProps={defaultRowVar:null,defaultColVar:null,groupingVariables:null,logAction:function(){},session:{}},a.default=k}}]);