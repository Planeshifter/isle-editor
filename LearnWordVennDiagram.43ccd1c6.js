/*! For license information please see LearnWordVennDiagram.43ccd1c6.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[166],{1579:function(t,e,r){"use strict";var n=r(1580);t.exports=n},1580:function(t,e,r){"use strict";var n=r(377).isPrimitive,i=r(476),o=/^[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*([\S\s]*?)[\u0020\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]*$/;t.exports=function(t){if(!n(t))throw new TypeError("invalid argument. Must provide a string primitive. Value: `"+t+"`.");return i(t,o,"$1")}},2067:function(t,e,r){"use strict";r.r(e);r(357),r(354),r(360);var n=r(363),i=r.n(n),o=(r(737),r(356)),a=r.n(o),s=r(358),u=r.n(s),c=r(366),l=r.n(c),f=r(361),d=r.n(f),p=r(362),v=r.n(p),h=r(359),m=r.n(h),g=r(355),y=r.n(g),w=r(0),b=(r(8),r(378)),x=r(483),C=r(400),k=r(2285),A=r(87),P=r(807),W=r.n(P),T=r(931),E=r.n(T),V=r(1579),B=r.n(V),R=r(1197),S=r.n(R),J=r(471),j=r.n(J),F=r(429),N=r.n(F),D=r(428),z=r(669);r(278);function q(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=m()(t);if(e){var i=m()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return v()(this,r)}}var O=i()(C.a.Header,{as:"h4"},void 0,"Settings"),$=i()("p",{},void 0,i()("span",{className:"title"},void 0,"Number of Words: ")),M=i()("br",{}),H=i()(C.a.Header,{as:"h4"},void 0,"Venn Diagram"),G=function(t){d()(r,t);var e=q(r);function r(t){var n;a()(this,r),n=e.call(this,t),y()(l()(n),"drawPlot",(function(){var t,e=n.state.freqs,r=A.select("#"+n.state.id);r.select("svg").remove(),t=n.state.tooltip?n.state.tooltip:A.select("body").append("div").attr("class","venntooltip");var i=k.VennDiagram().width(n.props.width).height(n.props.height);r.datum(e).call(i),r.selectAll("g").on("mouseover",(function(e,n){k.sortAreas(r,e),t.transition().duration(400).style("opacity",.9),t.text(e.sets.join(" and ")+" ("+e.size+")"),A.select(this).transition("tooltip").duration(400).select("path").style("stroke-width",3).style("stroke","black").style("fill-opacity",1===e.sets.length?.4:.1).style("stroke-opacity",1)})).on("mousemove",(function(){t.style("left",A.event.pageX+"px").style("top",A.event.pageY-28+"px")})).on("mouseout",(function(e,r){t.transition().duration(400).style("opacity",0),A.select(this).transition("tooltip").duration(400).select("path").style("fill-opacity",1===e.sets.length?.25:0).style("stroke-opacity",0)})),n.setState({tooltip:t})})),y()(l()(n),"calculateWordFrequency",(function(t){var e=n.state,r=e.indices,i=e.minCount,o=e.tdm,a=e.words[t],s=r[t],u=[],c=0;if(o[s])for(var l=o[s].map((function(e){return e>=i[t]?1:0})),f=0;f<l.length;f++)c+=l[f],1===l[f]&&u.push(f);return{sets:[a],size:c,docIndices:u}})),y()(l()(n),"wordNumberClickFactory",(function(t){return function(){n.setState({nWords:t+1,disabled:!0,words:new Array(t+1),minCount:new Array(t+1).fill(1)})}})),y()(l()(n),"updatePlot",(function(){for(var t=[],e=0;e<n.state.nWords;e++){var r=n.calculateWordFrequency(e);t.push(r)}if(2===n.state.nWords){var i=n.calculateJointAB(0,1);t.push(i)}else if(3===n.state.nWords){var o=n.calculateJointAB(0,1);t.push(o),o=n.calculateJointAB(0,2),t.push(o),o=n.calculateJointAB(1,2),t.push(o),o=n.calculateJointABC(0,1,2),t.push(o)}n.setState({freqs:t},(function(){n.drawPlot(),n.props.onClick(n.state)}))}));var i=t.tdm.map((function(e){for(var r=new Array(t.nTexts),n=0;n<r.length;n++)r[n]=e[n]?e[n]:0;return r}));return n.state={disabled:!0,words:new Array(1),indices:new Array(1),freqs:[],minCount:[1],nWords:1,tdm:i,id:"venn"+j()(1e3*S()())},n}return u()(r,[{key:"componentDidUpdate",value:function(t,e){for(var r=!1,n=0;n<this.state.nWords;n++)e.words[n]!==this.state.words[n]&&(r=!0);if(r){for(var i=new Array(this.state.nWords),o=this.props.vocabulary,a=0;a<this.state.nWords;a++)for(var s=0;s<o.length;s++)o[s]===this.state.words[a]&&(i[a]=s);this.setState({indices:i})}}},{key:"wordChangeFactory",value:function(t){var e=this;return function(r){var n=Array.prototype.slice.call(e.state.words);n[t]=E()(B()(r))||null,e.setState({words:n,disabled:!W()(n)})}}},{key:"calculateJointAB",value:function(t,e){var r=this.state,n=r.indices,i=r.minCount,o=r.tdm,a=r.words,s=n[t],u=n[e],c=0;if(o[s]&&o[u])for(var l=o[s].map((function(e){return e>=i[t]?1:0})),f=o[u].map((function(t){return t>=i[e]?1:0})),d=0;d<l.length;d++)l[d]&&f[d]&&(c+=1);return{sets:[a[t],a[e]],size:c}}},{key:"calculateJointABC",value:function(t,e,r){var n=this.state,i=n.indices,o=n.minCount,a=n.tdm,s=n.words,u=i[t],c=i[e],l=i[r],f=0;if(a[u]&&a[c]&&a[l])for(var d=a[u].map((function(e){return e>=o[t]?1:0})),p=a[c].map((function(t){return t>=o[e]?1:0})),v=a[l].map((function(t){return t>=o[r]?1:0})),h=0;h<d.length;h++)d[h]&&p[h]&&v[h]&&(f+=1);return{sets:[s[t],s[e],s[r]],size:f}}},{key:"render",value:function(){for(var t=this,e=[],r=function(r){e[r]=i()("div",{},"outer-".concat(r),i()(z.a,{legend:"Word ".concat(r+1),defaultValue:t.state.words[r],width:120,onChange:t.wordChangeFactory(r)},"text-".concat(r)),i()(D.b,{legend:"Min # of times ",defaultValue:1,max:50,min:1,step:1,onChange:function(e){var n=N()(t.state.minCount);n[r]=e,t.setState({minCount:n})}},"number-".concat(r)))},n=0;n<this.state.nWords;n++)r(n);return i()(w.Fragment,{},void 0,i()(C.a,{},void 0,O,i()(C.a.Body,{},void 0,$,i()(x.a,{},void 0,["One","Two","Three"].map((function(e,r){return i()(b.a,{variant:r===t.state.nWords-1?"success":"default",onClick:t.wordNumberClickFactory(r)},r,e)}))),e,i()(b.a,{onClick:this.updatePlot,disabled:this.state.disabled},void 0,"Draw Venn Diagram"))),M,i()(C.a,{},void 0,H,i()(C.a.Body,{style:{minHeight:200}},void 0,i()("span",{style:{position:"absolute",right:40,top:50}},void 0,"Total # of Texts: ",this.props.nTexts),i()("div",{id:this.state.id}))))}}]),r}(w.Component);G.defaultProps={height:350,onClick:function(){},width:600},e.default=G},476:function(t,e,r){"use strict";var n=r(535);t.exports=n},483:function(t,e,r){"use strict";var n=r(349),i=r(350),o=r(352),a=r.n(o),s=r(0),u=r.n(s),c=r(364),l=u.a.forwardRef((function(t,e){var r=t.bsPrefix,o=t.size,s=t.toggle,l=t.vertical,f=t.className,d=t.as,p=void 0===d?"div":d,v=Object(i.a)(t,["bsPrefix","size","toggle","vertical","className","as"]),h=Object(c.b)(r,"btn-group"),m=h;return l&&(m=h+"-vertical"),u.a.createElement(p,Object(n.a)({},v,{ref:e,className:a()(f,m,o&&h+"-"+o,s&&h+"-toggle")}))}));l.displayName="ButtonGroup",l.defaultProps={vertical:!1,toggle:!1,role:"group"},e.a=l},515:function(t,e,r){"use strict";var n=r(519);t.exports=n},519:function(t,e,r){"use strict";var n=r(518),i=r(412),o=r(520),a=n();t.exports=function(t){return"object"==typeof t&&(t instanceof RegExp||(a?o(t):"[object RegExp]"===i(t)))}},520:function(t,e,r){"use strict";var n=r(521);t.exports=function(t){try{return n.call(t),!0}catch(e){return!1}}},521:function(t,e,r){"use strict";var n=RegExp.prototype.exec;t.exports=n},535:function(t,e,r){"use strict";var n=r(536),i=r(410),o=r(377).isPrimitive,a=r(515);t.exports=function(t,e,r){if(!o(t))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+t+"`.");if(o(e))e=n(e),e=new RegExp(e,"g");else if(!a(e))throw new TypeError("invalid argument. Second argument must be a string primitive or regular expression. Value: `"+e+"`.");if(!o(r)&&!i(r))throw new TypeError("invalid argument. Third argument must be a string primitive or replacement function. Value: `"+r+"`.");return t.replace(e,r)}},536:function(t,e,r){"use strict";var n=r(537);t.exports=n},537:function(t,e,r){"use strict";var n=r(377).isPrimitive,i=/[-\/\\^$*+?.()|[\]{}]/g;t.exports=function(t){var e,r;if(!n(t))throw new TypeError("invalid argument. Must provide a regular expression string. Value: `"+t+"`.");if("/"===t[0])for(r=t.length-1;r>=0&&"/"!==t[r];r--);return void 0===r||r<=0?t.replace(i,"\\$&"):(e=(e=t.substring(1,r)).replace(i,"\\$&"),t=t[0]+e+t.substring(r))}},646:function(t,e,r){"use strict";var n=r(480),i=r(656),o=r(462);t.exports=function(t){for(var e=n(this),r=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,r),u=a>2?arguments[2]:void 0,c=void 0===u?r:i(u,r);c>s;)e[s++]=t;return e}},737:function(t,e,r){var n=r(402);n(n.P,"Array",{fill:r(646)}),r(569)("fill")},807:function(t,e,r){"use strict";var n=r(368),i=r(785),o=r(377),a=i(o);n(a,"primitives",i(o.isPrimitive)),n(a,"objects",i(o.isObject)),t.exports=a},931:function(t,e,r){"use strict";var n=r(932);t.exports=n},932:function(t,e,r){"use strict";var n=r(377).isPrimitive;t.exports=function(t){if(!n(t))throw new TypeError("invalid argument. Must provide a primitive string. Value: `"+t+"`.");return t.toLowerCase()}}}]);