(window.webpackJsonp=window.webpackJsonp||[]).push([[362],{5818:function(t,e,a){"use strict";a.r(e);a(413),a(409),a(390),a(389),a(406),a(356),a(349),a(360);var r=a(352),n=a.n(r),i=a(354),o=a.n(i),s=a(369),l=a.n(s),c=a(361),u=a.n(c),f=a(362),p=a.n(f),v=a(358),d=a.n(v),b=a(351),h=a.n(b),g=a(359),m=a.n(g),S=a(0),y=(a(339),a(1389)),O=a(453),w=a(397),C=a(813),j=a(1090),V=a(553),P=a(516),k=a(4562),x=a(515),D=a.n(x),R=a(419),z=a.n(R),M=a(679),I=a(753),E=a(401),q=a(595),A=a.n(q),B=a(448);function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=d()(t);if(e){var n=d()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return p()(this,a)}}function Q(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function X(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(a),!0).forEach((function(e){h()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Q(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var Y=m()("span",{},void 0,"Compute various statistics of interest, i.e. summary measures of the ",m()("i",{},void 0,"quantitative")," variables in the data set."),F={control:function(t,e){return e.isDisabled?X(X({},t),{},{background:"none",color:"#aaa",opacity:.5}):X(X({},t),{},{background:"rgba(186, 204, 234, 0.15)",boxShadow:"none",cursor:"pointer"})},placeholder:function(t,e){return X(X({},t),{},{color:"rgb(112, 112, 112)"})},option:function(t,e){var a="#fff",r="#666666";return e.isFocused?(a="rgba(204,88,0, 0.16)",r="#333"):e.isSelected&&(a="#f5faff",r="#333"),X(X({},t),{},{boxSizing:"border-box",backgroundColor:a,color:r,cursor:"pointer",display:"block",padding:"8px 10px"})},menuPortal:function(t){return X(X({},t),{},{zIndex:1010})}},G={numeric:!0};var H=m()(O.a.Header,{as:"h4"},void 0,"Summary Statistics",m()(I.a,{title:"Summary Statistics",content:Y})),K=m()(P.a,{tooltip:"One or more statistics to compute for the variable of interest",placement:"right"},void 0,m()(j.a,{},void 0,"Statistic(s):")),T=function(t){u()(a,t);var e=J(a);function a(t){var r;n()(this,a),r=e.call(this,t),h()(l()(r),"generateStatistics",(function(){var t,e,a,n,i=r.props.data,o=r.state,s=o.selectedStats,l=o.variable,c=o.secondVariable,u=o.group,f=o.omit,p=s.map((function(t){return t.value}));if(s=s.map((function(t){return t.label})),u){if(f)if(a=[],n=[],t=[],l&&r.state.showSecondVarSelect)for(var v=i[l],d=i[c],b=0;b<v.length;b++)Object(E.isPrimitive)(v[b])&&!A()(v[b])&&Object(E.isPrimitive)(d[b])&&!A()(d[b])&&(a.push(v[b]),n.push(d[b]),t.push(i[u][b]));else for(var h=i[l],g=0;g<h.length;g++)Object(E.isPrimitive)(h[g])&&!A()(h[g])&&(a.push(h[g]),t.push(i[u][g]));else a=i[l],n=i[c],t=i[u];if("Correlation"===s[0]){var m=u.categories;e=function(t,e,a,r,n){for(var i,o={},s={},l={},c=0;c<a.length;c++)z()(s[a[c]])||(s[a[c]]=[],l[a[c]]=[]),s[a[c]].push(t[c]),l[a[c]].push(e[c]);n?i=n:(i=D()(s)).sort((function(t,e){return t.localeCompare(e,void 0,G)}));for(var u=function(t){var e=i[t];o[e]={value:r.map((function(t){return t(s[e],l[e])})),size:s[e].length}},f=0;f<i.length;f++)u(f);return o}(a,n,t,p,m);for(var S=m||D()(e),y=0;y<S.length;y++){var O=S[y];e[O].value=e[O].value[0][1]}l="".concat(l," vs. ").concat(c)}else{var w=u.categories;e=function(t,e,a,r){for(var n,i={},o=0;o<t.length;o++)z()(i[e[o]])||(i[e[o]]=[]),i[e[o]].push(t[o]);r?n=r:(n=D()(i)).sort((function(t,e){return t.localeCompare(e,void 0,G)}));for(var s={},l=function(t){var e=n[t];s[e]={value:a.map((function(t){return t(i[e])})),size:i[e].length}},c=0;c<n.length;c++)l(c);return s}(a,t,p,w)}}else{if(f)if(a=[],n=[],l&&r.state.showSecondVarSelect)for(var C=i[l],j=i[c],V=0;V<C.length;V++)Object(E.isPrimitive)(C[V])&&!A()(C[V])&&Object(E.isPrimitive)(j[V])&&!A()(j[V])&&(a.push(C[V]),n.push(j[V]));else for(var P=i[l],k=0;k<P.length;k++)Object(E.isPrimitive)(P[k])&&!A()(P[k])&&a.push(P[k]);else a=i[l],n=i[c];"Correlation"===s[0]?(e={value:(e=p.map((function(t){return t(a,n)})))[0][1],size:a.length},l="".concat(l," vs. ").concat(c)):e={value:p.map((function(t){return t(a)})),size:a.length}}var x={variable:l,statistics:s,type:"Statistics",result:e,group:u};r.props.logAction(B.Q,{statistic:s,variable:l,secondVariable:"Correlation"===s[0]?c:null,group:u}),r.props.onCreated(x)}));var i=t.defaultStatistic||t.statistics[0];return r.state={selectedStats:[{value:Object(k.a)(i),label:i}],variable:t.defaultX||t.variables[0],secondVariable:t.defaultY||t.variables[1],group:null,showSecondVarSelect:!1,omit:!1},r}return o()(a,[{key:"render",value:function(){var t=this,e=this.props,a=e.statistics,r=e.variables,n=e.groupingVariables,i=this.state.selectedStats;return m()(O.a,{},void 0,H,m()(O.a.Body,{},void 0,m()(C.a,{controlId:"statistics-form-select"},void 0,K,m()(y.a,{value:i,options:a.map((function(t){return{label:t,value:Object(k.a)(t)}})),isMulti:!0,onChange:function(e){if(z()(e)&&e.length>0){var a=e.map((function(t){return t.label}));if("Correlation"===a[a.length-1])return t.setState({selectedStats:[{label:"Correlation",value:Object(k.a)("Correlation")}],showSecondVarSelect:!0});"Correlation"===a[0]&&e.shift()}t.setState({selectedStats:e,showSecondVarSelect:!1})},styles:F,menuPortalTarget:document.body})),m()(V.a,{legend:"Variable:",defaultValue:this.state.variable,options:r,onChange:function(e){t.setState({variable:e})},tooltip:"Quantitative variable for which to compute statistic(s)"}),m()(V.a,{legend:"Second Variable:",defaultValue:this.state.secondVariable,options:r,style:{display:this.state.showSecondVarSelect?"inline":"none"},onChange:function(e){t.setState({secondVariable:e})},tooltip:"Second variable for computing bivariate statistic"}),n.length>0?m()(V.a,{legend:"Group By:",options:n,clearable:!0,defaultValue:this.state.group,menuPlacement:"top",onChange:function(e){t.setState({group:e})},tooltip:"Calculate the statistic(s) separately for observations from each category of a chosen grouping variable"}):null,m()(M.a,{legend:"Omit missing values",tooltip:"If not ticked, result will be null if variable contains missing values",defaultValue:this.state.omit,onChange:function(e){t.setState({omit:e})}}),m()(w.a,{variant:"primary",block:!0,onClick:this.generateStatistics,disabled:!i},void 0,"Calculate")))}}]),a}(S.Component);T.defaultProps={groupingVariables:[],defaultX:null,defaultY:null,defaultStatistic:"Mean",logAction:function(){},statistics:["Mean","Median","Min","Max","Range","Interquartile Range","Standard Deviation","Variance","Correlation","Skewness","Excess Kurtosis"]},e.default=T}}]);