/*! For license information please see Quiz.7ebfee71.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[245],{2322:function(e,t,n){"use strict";var i=n(0),s=n(420),o=n.n(s),r=n(427),a=n.n(r),c=n(448),u=n.n(c),l=n(622),d=n.n(l),h=n(551),p=n(1609),f=n(1616),v=n(1778),m=n(1613),b=n(1617),g=n(1618),w=n(1619),y=n(1620),k=o()("isle:convert-json");t.a=function e(t){k("Convert JSON ".concat(t.component," object to React element..."));var n=d()(t.children);if(a()(n))for(var s=0;s<n.length;s++){var o=n[s];u()(o)&&(n[s]=e(o))}else u()(n)&&(n=e(n));var r=t.component;switch(r){case"Fragment":r=i.Fragment;break;case"TeX":r=h.a;break;case"FreeTextQuestion":r=p.a;break;case"MultipleChoiceMatrix":r=v.a;break;case"MultipleChoiceQuestion":r=f.a;break;case"MatchListQuestion":r=m.a;break;case"NumberQuestion":r=b.a;break;case"OrderQuestion":r=g.a;break;case"RangeQuestion":r=w.a;break;case"SelectQuestion":r=y.a;break;default:r=t.component}var c=t.props||{};return Object(i.createElement)(r,c,n)}},457:function(e,t,n){"use strict";var i=n(487);e.exports=i},487:function(e,t,n){"use strict";var i=Math.ceil;e.exports=i},6476:function(e,t,n){"use strict";n.r(t);n(385),n(372),n(387);var i=n(513),s=n.n(i),o=n(370),r=n.n(o),a=(n(505),n(376)),c=n.n(a),u=n(380),l=n.n(u),d=n(394),h=n.n(d),p=n(383),f=n.n(p),v=n(384),m=n.n(v),b=n(382),g=n.n(b),w=n(373),y=n.n(w),k=n(0),S=n.n(k),C=(n(363),n(1752)),q=n.n(C),F=n(3808),x=n(2319),N=n.n(x),z=n(750),R=n(660),Q=n(400),j=n(1144),O=n(452),E=n(420),M=n.n(E),T=n(1078),I=n.n(T),P=n(427),D=n.n(P),B=n(448),H=n.n(B),V=n(1056),L=n.n(V),A=n(408),G=n(762),J=n.n(G),U=n(1621),X=n(1609),_=n(1616),K=n(1613),W=n(1617),Y=n(1618),Z=n(1619),$=n(1620),ee=n(796),te=n(438),ne=n(2322),ie=n(644),se=n(443),oe=n(396),re=n(764);function ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var s=g()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return m()(this,n)}}var ce=function(e){f()(n,e);var t=ae(n);function n(){var e;c()(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s)),y()(h()(e),"clickHide",(function(){e.props.onHide()})),y()(h()(e),"handleClick",(function(){e.props.onSubmit(),e.props.onHide()})),e}return l()(n,[{key:"render",value:function(){return r()(re.a,{onHide:this.clickHide,show:this.props.show,dialogClassName:"modal-w30"},void 0,r()(re.a.Header,{closeButton:!0},void 0,r()(re.a.Title,{as:"h4"},void 0,this.props.t("finish"),"?")),r()(re.a.Body,{},void 0,this.props.t("finish-prompt")),r()(re.a.Footer,{},void 0,r()(Q.a,{variant:"secondary",onClick:this.clickHide},void 0,this.props.t("cancel")),r()(Q.a,{variant:"warning",onClick:this.handleClick},void 0,this.props.t("confirm"))))}}]),n}(k.Component);ce.defaultProps={onHide:function(){},onSubmit:function(){}};var ue=ce;n(2320),n(307);function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=g()(e);if(t){var s=g()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return m()(this,n)}}Object(oe.a)("Quiz");var de=M()("isle:quiz"),he=Object(ie.a)("quiz"),pe={header:{fontSize:24,bold:!0,margin:[0,0,0,10]},author:{fontSize:16,italics:!0,margin:[0,0,0,10],alignment:"center"},date:{fontSize:16,italics:!0,alignment:"right",margin:[0,15,0,15]},subheader:{fontSize:18,bold:!0,margin:[0,30,0,10]},question:{fontSize:15,margin:[0,10,0,0],italics:!0},boldTitle:{fontSize:14,margin:[0,5,0,5],bold:!0}};function fe(e){return H()(e)&&e.component}var ve=r()("br",{}),me=function(e){f()(n,e);var t=le(n);function n(e){var i;c()(this,n),de("Instantiating quiz component..."),i=t.call(this,e),y()(h()(i),"toggleFinishModal",(function(){i.setState({showFinishModal:!i.state.showFinishModal})})),y()(h()(i),"handleFinishClick",(function(){i.setState({counter:i.state.count},(function(){i.handleNextClick()}))})),y()(h()(i),"handleNextClick",(function(){for(var e=i.quizBody.getElementsByClassName("submit-button"),t=0;t<e.length;t++)e[t].click();de("Display next question...");var n=i.state.questions[i.state.current],s=i.context;i.state.answered||s.log({id:n.props.id,type:se.Rb,value:!0}),n.props&&n.props.id&&i.state.selectedConfidence&&s.log({id:n.props.id+"_confidence",type:se.Qb,value:i.state.selectedConfidence}),i.props.onSubmit();var o={},r=i.state.counter;(r+=1)>=i.state.count?(de("No further questions should be shown..."),o.finished=!0,i.props.onFinished()):(r===i.state.count-1&&(o.last=!0),o.current=i.sample()[0],de("Selected question at index "+o.current)),o.answered=!1,o.selectedConfidence=null,o.answerSelected=!1,o.counter=r,i.setState(o)})),y()(h()(i),"markSelected",(function(){de("Mark answer as selected..."),i.setState({answerSelected:!0})})),y()(h()(i),"handleSubmission",(function(e){var t,n,s=i.state.questions[i.state.current],o=i.state.answers.slice();if(s.props){if(D()(s.props.answers)&&void 0!==s.props.solution){t=s.props.answers[e].content;var r=s.props.solution;if(D()(r)){n="";for(var a=0;a<r.length;a++)n+=s.props.answers[r[a]],n+="; "}else n=s.props.answers[r].content}else if(D()(s.props.elements)){de("Create answer and solution string for <MatchListQuestion />"),t="",n="";for(var c=0;c<s.props.elements.length;c++){for(var u=s.props.elements[c],l=0;l<e.length;l++){var d=e[l];if(d.a===u.a){t+="".concat(d.a,":").concat(d.b,"; ");break}}n+="".concat(u.a,":").concat(u.b,"; ")}}else if(D()(s.props.options)){t="",n="";for(var h=0;h<s.props.options.length;h++){var p=s.props.options[h],f=e[h];n+="".concat(p.text,"; "),t+="".concat(f.text,"; ")}}else t=e,n=s.props.solution,D()(n)&&(t=t.join(", "),n=n.join(", "));o[i.state.current]={question:s.props?s.props.question:null,answer:t,solution:n,counter:i.state.counter}}i.setState({answered:!0,answers:o})})),y()(h()(i),"handleConfidenceChange",(function(e){var t=e.target.value;de("Choosing confidence: "+t);var n=i.state.confidences.slice();n[i.state.current]=t,i.setState({selectedConfidence:t,confidences:n})})),y()(h()(i),"toggleInstructorView",(function(){i.setState({showInstructorView:!i.state.showInstructorView})})),i.id=e.id||he(e);var s=e.questions;e.questions||(s=[]);var o=null;if(s.length>0){var r=J()(0,s.length,1);i.sample=I.a.factory(r,{size:1,mutate:!0,replace:!1}),o=i.sample()[0]}return i.state={answers:new Array(s.length),answered:!1,confidences:new Array(s.length),current:o,count:e.count||s.length,counter:0,finished:!1,answerSelected:!1,last:!1,selectedConfidence:null,showInstructorView:!1,showFinishModal:!1,questions:[],questionIDs:[]},i}return l()(n,[{key:"componentDidUpdate",value:function(e){if(de("Component did update..."),this.props.count!==e.count||this.props.questions&&this.props.questions.length!==e.questions.length){de("Resetting component...");var t=J()(0,this.props.questions.length,1);this.sample=I.a.factory(t,{size:1,mutate:!0}),this.setState({count:this.props.count||this.prop.questions.length})}}},{key:"downloadResponsesFactory",value:function(e){var t=this;return function(){var n={content:[{text:t.props.t("answer-for",{id:t.id}),style:"header",alignment:"center"}],styles:pe},i=t.context;L()(i.user)||n.content.push({text:"".concat(t.props.t("by")," ").concat(i.user.name," (").concat(i.user.email,")"),style:"author"});var s=new Date;n.content.push({text:"".concat(s.toLocaleDateString()," - ").concat(s.toLocaleTimeString()),style:"date"});for(var o=0;o<e.length;o++){var r=e[o],a=r.question,c=r.answer,u=r.solution,l=r.confidence;a=Object(A.isPrimitive)(a)?a:N()(a),c=Object(A.isPrimitive)(c)?c:N()(c),u=Object(A.isPrimitive)(u)?u:N()(u),n.content.push({text:a,style:"question"}),n.content.push({text:"".concat(t.props.t("answer"),":"),style:"boldTitle"}),n.content.push({text:c,style:{color:c===u?"#3c763d":"#d9534f",margin:[0,0,0,10]}}),l&&(n.content.push({text:"".concat(t.props.t("your-confidence"),":"),style:"boldTitle"}),n.content.push({text:l})),n.content.push({text:"".concat(t.props.t("solution"),":"),style:"boldTitle"}),n.content.push({text:Object(A.isPrimitive)(u)?u:N()(u)})}q.a.createPdf(n).download("responses.pdf")}}},{key:"renderScoreboard",value:function(){var e=this;if(de("Rendering scoreboard..."),!this.props.provideFeedback)return r()("h3",{},void 0,this.props.t("quiz-finished"));for(var t=this.state.answers.slice(),n=0;n<t.length;n++)t[n]&&(t[n].confidence=this.state.confidences[n]);return t.sort((function(e,t){return e.counter>t.counter})),t=t.filter((function(e){return H()(e)})),r()("div",{},void 0,r()("p",{},void 0,this.props.duration?this.props.t("time-up"):this.props.t("quiz-finished"),this.props.t("summary-label"),":"),r()("table",{className:"table table-bordered"},void 0,r()("thead",{},void 0,r()("tr",{},void 0,r()("th",{},void 0,this.props.t("question")),r()("th",{},void 0,this.props.t("your-answer")),r()("th",{},void 0,this.props.t("solution")),this.props.confidence?r()("th",{},void 0,this.props.t("your-confidence")):null)),r()("tbody",{},void 0,t.map((function(t,n){var i;i=t.answer===t.solution?"quiz-right-answer":"quiz-wrong-answer";var s=t.question;fe(s)&&(s=Object(ne.a)(s));var o=t.answer;fe(o)&&(o=Object(ne.a)(o));var a=t.solution;return fe(a)&&(a=Object(ne.a)(a)),r()("tr",{className:i},n,r()("td",{},void 0,s),r()("td",{},void 0,o),r()("td",{},void 0,a),e.props.confidence?r()("td",{},void 0,t.confidence):null)})))),this.props.downloadButton?r()(Q.a,{onClick:this.downloadResponsesFactory(t)},void 0,this.props.t("download-pdf")):null)}},{key:"renderQuestion",value:function(e,t){if(!e)return null;var n=e.props||{};switch(fe(n.question)&&(de("Question property is an object, convert to JSX..."),n.question=Object(ne.a)(n.question)),e.component){case"Fragment":case"div":return Object(ne.a)(e);case"FreeTextQuestion":return S.a.createElement(X.a,s()({disableSubmitNotification:!0,feedback:!1,provideFeedback:!1},n,{onChange:this.markSelected,onSubmit:this.handleSubmission,id:t}));case"MultipleChoiceQuestion":return S.a.createElement(_.a,s()({disableSubmitNotification:!0,feedback:!1,provideFeedback:"none"},n,{onChange:this.markSelected,onSubmit:this.handleSubmission,id:t}));case"MatchListQuestion":return S.a.createElement(K.a,s()({disableSubmitNotification:!0,feedback:!1,showSolution:!1},n,{onChange:this.markSelected,onSubmit:this.handleSubmission,id:t}));case"NumberQuestion":return S.a.createElement(W.a,s()({disableSubmitNotification:!0,feedback:!1,provideFeedback:!1},n,{onChange:this.markSelected,onSubmit:this.handleSubmission,id:t}));case"OrderQuestion":return S.a.createElement(Y.a,s()({disableSubmitNotification:!0,feedback:!1,provideFeedback:!1},n,{onChange:this.markSelected,onSubmit:this.handleSubmission,id:t}));case"RangeQuestion":return S.a.createElement(Z.a,s()({disableSubmitNotification:!0,feedback:!1,provideFeedback:!1},n,{onChange:this.markSelected,onSubmit:this.handleSubmission,id:t}));case"SelectQuestion":return S.a.createElement($.a,s()({disableSubmitNotification:!0,feedback:!1,provideFeedback:!1},n,{onChange:this.markSelected,onSubmit:this.handleSubmission,id:t}));default:return S.a.createElement(e.type,s()({},e.props,n,{disableSubmitNotification:!0,feedback:!1,provideFeedback:!1,onChange:this.markSelected,onSubmit:this.handleSubmission,id:t}))}}},{key:"renderConfidenceSurvey",value:function(){return this.props.confidence?r()(O.a,{className:"center",style:{width:"75%"}},void 0,r()(z.a,{className:"center"},void 0,r()(j.a.Label,{},void 0,this.props.t("confidence-prompt")),ve,r()(j.a.Check,{type:"radio",label:this.props.t("guessed"),checked:"Guessed"===this.state.selectedConfidence,value:"Guessed",inline:!0,onClick:this.handleConfidenceChange})," ",r()(j.a.Check,{type:"radio",label:this.props.t("somewhat-sure"),checked:"Somewhat sure"===this.state.selectedConfidence,value:"Somewhat sure",inline:!0,onClick:this.handleConfidenceChange})," ",r()(j.a.Check,{type:"radio",label:this.props.t("confident"),checked:"Confident"===this.state.selectedConfidence,value:"Confident",inline:!0,onClick:this.handleConfidenceChange}))):null}},{key:"renderFooterNodes",value:function(e,t){var n,i=this;return e.props&&(n=e.props.id),n||(n="".concat(this.id,"-").concat(t)),S.a.Children.map(this.props.footerNodes,(function(e,t){return S.a.cloneElement(e,{id:"".concat(e.props.id,"-footer-").concat(n),key:"".concat(i.state.current,"-").concat(t)})}))}},{key:"render",value:function(){var e,t=this;if(de("Rendering component..."),e=!this.state.finished&&(this.state.answered||this.state.answerSelected||this.props.skippable),this.state.showInstructorView)return r()(O.a,{className:"quiz"},void 0,r()(O.a.Header,{},void 0,r()("span",{},void 0,r()("h3",{style:{display:"inline-block"}},void 0,this.props.t("instructor-view")),r()(Q.a,{variant:"secondary",style:{float:"right"},onClick:this.toggleInstructorView},void 0,this.props.t("close-instructor-view")))),r()(O.a.Body,{},void 0,this.state.questions.map((function(e,n){var i=t.state.questionIDs[n];return r()("div",{},n,r()("h3",{},void 0,t.props.t("question")," ",n+1,":"),t.renderQuestion(e,i),t.renderFooterNodes(e,n))}))),r()(Q.a,{className:"quiz-button",variant:"secondary",onClick:this.toggleInstructorView},void 0,this.props.t("close-instructor-view")));var n=this.state.questions[this.state.current],i=this.state.questionIDs[this.state.current];return r()(k.Fragment,{},void 0,this.props.duration?r()(U.a,{invisible:!0,id:this.id,active:this.props.active,duration:this.props.duration,onTimeUp:function(){de("Time is up..."),t.setState({finished:!0},(function(){t.props.onFinished()}))}}):null,r()(O.a,{className:"quiz"},void 0,r()(O.a.Header,{},void 0,this.state.finished?r()("h3",{},void 0,this.props.t("answer-summary")):r()("h3",{},void 0,this.props.t("question")," ",this.state.counter+1,"/",this.state.count)),r()(O.a.Body,{},void 0,S.a.createElement("div",{ref:function(e){t.quizBody=e}},this.state.finished?this.renderScoreboard():r()("span",{},this.state.current,this.renderQuestion(n,i)),this.state.finished?null:this.renderConfidenceSurvey(),n?this.renderFooterNodes(n):null,r()(R.a,{style:{float:"right"}},void 0,r()(ee.a,{owner:!0},void 0,r()(Q.a,{className:"quiz-button",variant:"secondary",onClick:this.toggleInstructorView,style:{marginRight:10}},void 0,this.props.t("open-instructor-view"))),!this.props.showFinishButton&&!this.state.last||this.state.finished?null:r()(Q.a,{style:{marginRight:10},className:"quiz-button",variant:"secondary",onClick:this.state.last?this.handleFinishClick:this.toggleFinishModal},void 0,this.props.finishLabel||this.props.t("finish-label")),e&&!this.state.last?r()(Q.a,{className:"quiz-button",variant:"primary",onClick:this.handleNextClick,disabled:this.props.forceConfidence&&!this.state.selectedConfidence&&this.state.answerSelected},void 0,this.props.nextLabel||this.props.t("next-question")):null)))),r()(ue,{show:this.state.showFinishModal,onSubmit:this.handleFinishClick,onHide:this.toggleFinishModal,t:this.props.t}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.questions&&e.questions.length!==t.questions.length){for(var n=e.questions.length,i=new Array(n),s=0;s<n;s++){var o=e.questions[s];o.props&&o.props.id?i[s]=o.props.id:i[s]="".concat(t.id,"-").concat(s)}return{questions:e.questions,questionIDs:i}}return null}}]),n}(k.Component);me.defaultProps={confidence:!1,forceConfidence:!1,count:null,active:!0,duration:null,skippable:!0,footerNodes:[],nextLabel:null,provideFeedback:!0,showFinishButton:!1,finishLabel:null,downloadButton:!0,onFinished:function(){},onSubmit:function(){}},me.contextType=te.a;t.default=Object(F.a)("Quiz")(me)},660:function(e,t,n){"use strict";var i=n(365),s=n(366),o=n(368),r=n.n(o),a=n(0),c=n.n(a),u=n(375),l=c.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.size,a=e.toggle,l=e.vertical,d=e.className,h=e.as,p=void 0===h?"div":h,f=Object(s.a)(e,["bsPrefix","size","toggle","vertical","className","as"]),v=Object(u.a)(n,"btn-group"),m=v;return l&&(m=v+"-vertical"),c.a.createElement(p,Object(i.a)({},f,{ref:t,className:r()(d,m,o&&v+"-"+o,a&&v+"-toggle")}))}));l.displayName="ButtonGroup",l.defaultProps={vertical:!1,toggle:!1,role:"group"},t.a=l},762:function(e,t,n){"use strict";var i=n(912);e.exports=i},912:function(e,t,n){"use strict";var i=n(457),s=n(409).isPrimitive,o=n(367),r=n(786);e.exports=function(e,t,n){var a,c,u,l;if(!s(e)||o(e))throw new TypeError("invalid argument. Start must be numeric. Value: `"+e+"`.");if(!s(t)||o(t))throw new TypeError("invalid argument. Stop must be numeric. Value: `"+t+"`.");if(arguments.length<3)u=1;else if(!s(u=n)||o(u))throw new TypeError("invalid argument. Increment must be numeric. Value: `"+u+"`.");if((c=i((t-e)/u))>r)throw new RangeError("invalid arguments. Generated array exceeds maximum array length.");if(c<=1)return[e];for((a=[]).push(e),l=1;l<c;l++)a.push(e+u*l);return a}}}]);