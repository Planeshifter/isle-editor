(window.webpackJsonp=window.webpackJsonp||[]).push([[226],{1188:function(e,t,n){"use strict";var s=n(369),r=Object(s.a)((function(){return Promise.all([n.e(0),n.e(6),n.e(363),n.e(169)]).then(n.bind(null,1661))}));t.a=r},2305:function(e,t,n){"use strict";var s=n(427),r=n.n(s),i=n(717),a=n.n(i);t.a=function(e,t,n){if(a()(e)){var s=e[t];if(r()(s)&&(s=s.filter((function(e){return e.type===n}))).length>0)return s[0].value}return null}},2322:function(e,t,n){"use strict";var s=n(0),r=n(420),i=n.n(r),a=n(427),o=n.n(a),c=n(448),l=n.n(c),u=n(622),p=n.n(u),d=n(551),v=n(1609),b=n(1616),h=n(1778),f=n(1613),m=n(1617),w=n(1618),g=n(1619),k=n(1620),S=i()("isle:convert-json");t.a=function e(t){S("Convert JSON ".concat(t.component," object to React element..."));var n=p()(t.children);if(o()(n))for(var r=0;r<n.length;r++){var i=n[r];l()(i)&&(n[r]=e(i))}else l()(n)&&(n=e(n));var a=t.component;switch(a){case"Fragment":a=s.Fragment;break;case"TeX":a=d.a;break;case"FreeTextQuestion":a=v.a;break;case"MultipleChoiceMatrix":a=h.a;break;case"MultipleChoiceQuestion":a=b.a;break;case"MatchListQuestion":a=f.a;break;case"NumberQuestion":a=m.a;break;case"OrderQuestion":a=w.a;break;case"RangeQuestion":a=g.a;break;case"SelectQuestion":a=k.a;break;default:a=t.component}var c=t.props||{};return Object(s.createElement)(a,c,n)}},3779:function(e,t,n){"use strict";n.r(t);n(414),n(413),n(402),n(399),n(410),n(385),n(372),n(387);var s=n(370),r=n.n(s),i=n(376),a=n.n(i),o=n(380),c=n.n(o),l=n(394),u=n.n(l),p=n(383),d=n.n(p),v=n(384),b=n.n(v),h=n(382),f=n.n(h),m=n(373),w=n.n(m),g=n(0),k=n.n(g),S=(n(363),n(3808)),y=n(400),O=n(1304),C=n(452),j=n(420),x=n.n(j),A=n(427),P=n.n(A),N=n(409),F=n(539),E=n(670),q=n.n(E),D=n(495),Q=n.n(D),M=n(979),z=n(775),R=n(987),T=n(765),I=n(1170),J=n(1188),L=n(438),B=n(2281),U=n.n(B);var H=function(e){switch(e=U()(e)){case"zeroth":case"zero":case"0":return 0;case"first":case"one":case"1":return 1;case"second":case"two":case"2":return 2;case"third":case"three":case"3":return 3;case"fourth":case"four":case"4":return 4;case"fifth":case"five":case"5":return 5;case"sixth":case"six":case"6":return 6;case"sevent":case"seven":case"7":return 7;case"eighth":case"eight":case"8":return 8;case"ninth":case"nine":case"9":return 9;case"tenth":case"ten":case"10":return 10}},W=n(644),X=n(2305),_=n(443),G=n(620),K=n(396),V=n(5241),Y=n(1047),Z=n(552),$=n(448),ee=n.n($),te=n(1024),ne=n(2322);n(80);var se=function(e){var t;!0===e.correct?t="success":!1===e.correct?t="danger":!0===e.solution&&(t="warning");var n,s=(n=e.answerContent,ee()(n)&&n.component?Object(ne.a)(e.answerContent):e.answerContent),i=r()(Z.a,{id:e.no},void 0,r()("strong",{},void 0,e.solution?"Correct answer":"Incorrect answer",e.answerExplanation?": ":""),e.answerExplanation);return e.disabled?r()(Y.a,{className:"multiple-choice-answer",variant:t,disabled:!0},void 0,s):e.submitted?r()(te.a,{trigger:["click","hover"],placement:"auto",overlay:i},void 0,r()(Y.a,{className:"multiple-choice-answer",onClick:e.onAnswerSelected,variant:t},void 0,s)):r()(Y.a,{className:"multiple-choice-answer",onClick:e.onAnswerSelected,active:e.active},void 0,s)};se.defaultProps={correct:null};var re=se;var ie=function(e){var t;!0===e.correct?t="success":!1===e.correct&&(t="danger");var n,s=(n=e.answerContent,ee()(n)&&n.component?Object(ne.a)(e.answerContent):e.answerContent);if(e.disabled)return r()(Y.a,{className:"multiple-choice-answer",variant:t,disabled:!0},void 0,s);if(Object(F.isPrimitive)(e.correct)||e.isSolved){var i=r()(Z.a,{id:e.no},void 0,r()("strong",{},void 0,e.solution?"Correct answer":"Incorrect answer",e.answerExplanation?": ":""),e.answerExplanation);return r()(te.a,{trigger:["click","hover"],placement:"auto",overlay:i},void 0,r()(Y.a,{className:"multiple-choice-answer",onClick:e.onAnswerSelected,variant:t},void 0,s))}return r()(Y.a,{className:"multiple-choice-answer",onClick:e.onAnswerSelected,active:e.active},void 0,s)};ie.defaultProps={correct:null};var ae=ie;var oe=function(e){var t;Object(F.isPrimitive)(e.correct)&&(t="info");var n,s=(n=e.answerContent,ee()(n)&&n.component?Object(ne.a)(e.answerContent):e.answerContent);return e.disabled?r()(Y.a,{className:"multiple-choice-answer",variant:t,disabled:!0},void 0,s):r()(Y.a,{className:"multiple-choice-answer",variant:t,onClick:e.onAnswerSelected,active:e.active},void 0,s)};oe.defaultProps={correct:null};var ce=oe,le=n(408),ue=r()("br",{}),pe=function(e){var t=e.content;return Object(le.isPrimitive)(t)&&(t=r()("label",{},void 0,t)),r()("span",{className:"question"},void 0,t,ue,r()("i",{style:{fontSize:"0.8rem"}},void 0,e.task,":"))};function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){w()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return b()(this,n)}}Object(K.a)("MultipleChoiceQuestion");var he=x()("isle:multiple-choice-question"),fe=Object(W.a)("multiple-choice-question"),me=function(e){d()(n,e);var t=be(n);function n(e,s){var i;a()(this,n),i=t.call(this,e),w()(u()(i),"logHint",(function(e){he("Logging hint..."),i.context.log({id:i.id,type:_.zb,value:e})})),w()(u()(i),"sendSubmitNotification",(function(e,t,n){var s,r=i.context,a=i.props.solution,o=!q()(a),c=o&&P()(a),l="success";"incremental"===i.props.provideFeedback&&o?e?s=i.props.t("answer-correct"):(l="error",s=0!==t&&c?n<a.length?i.props.t("answer-incorrect-incremental-missing"):n===a.length?i.props.t("answer-incorrect-incremental-equal"):i.props.t("answer-incorrect-incremental-extra"):i.props.t("answer-incorrect-incremental")):"full"===i.props.provideFeedback&&o?e?s=i.props.t("answer-correct"):(s=i.props.t("answer-incorrect-full"),function(e){for(var t=0;t<e.length;t++)if(e[t].explanation)return!0;return!1}(i.props.answers)&&(s+=i.props.t("answer-incorrect-explanations")),l="error"):s=i.props.t("answer-submitted-nofeedback"),r.addNotification({title:i.props.t("answer-submitted"),message:s,level:l})})),w()(u()(i),"submitQuestion",(function(){var e=i.props.solution,t=q()(e),n=i.context,s="incremental"!==i.props.provideFeedback||t?new Array(i.props.answers.length):i.state.correct.slice();n.log({id:i.id,type:_.Ab,value:i.state.active});var r=!1;if(P()(e)){for(var a=0;a<i.state.active.length;a++)!0===i.state.active[a]&&(Q()(e,a)?s[a]=!0:s[a]=!1);for(var o=0,c=0,l=0;l<s.length;l++)Object(F.isPrimitive)(s[l])&&(o+=1,s[l]&&(c+=1));r=!(c<e.length||o>e.length);var u=new Array(i.props.answers.length);i.props.disableSubmitNotification||i.sendSubmitNotification(r,c,o),i.setState({correct:s,submitted:!0,isSolved:r,active:u})}else{for(var p=0;p<s.length;p++)i.state.active===p&&(p===e||t?(s[p]=!0,r=!0):s[p]=!1);i.props.disableSubmitNotification||i.sendSubmitNotification(r),i.setState({correct:s,submitted:!0,active:null,isSolved:r})}i.props.onSubmit(i.state.active)})),w()(u()(i),"checkDisabledStatus",(function(){var e=P()(i.props.solution)&&P()(i.state.active);if(i.props.disabled)return!0;if(!e&&!Object(N.isPrimitive)(i.state.active))return!0;if(q()(i.props.solution))return!1;switch(i.props.provideFeedback){case"full":return e?i.state.submitted:i.state.submitted||!i.state.answerSelected;case"incremental":return!!q()(i.state.active)||!!i.state.submitted&&i.state.isSolved}return!1})),w()(u()(i),"triggerFocusEvent",(function(){var e=i.context;e.log({type:G.h,value:e.user.email,id:i.id,noSave:!0},"owners")})),w()(u()(i),"renderAnswerOptionsMultiple",(function(e,t){if("none"===i.props.provideFeedback||q()(i.props.solution))return r()(ce,{answerContent:e.content,active:i.state.active[t],correct:i.state.correct[t],disabled:i.props.disabled,onAnswerSelected:function(){i.triggerFocusEvent();var e=i.state.active.slice();e[t]=!e[t],i.setState({active:e}),i.props.onChange(e)}},"".concat(e.content,"-").concat(t));var n=Q()(i.props.solution,t),s={key:"".concat(e.content,"-").concat(t),no:t,answerContent:e.content,answerExplanation:e.explanation,active:i.state.active[t],correct:i.state.correct[t],disabled:i.props.disabled,submitted:i.state.submitted,solution:n,isSolved:i.state.isSolved,onAnswerSelected:function(){if(i.triggerFocusEvent(),!i.state.submitted||"incremental"===i.props.provideFeedback){var e=i.state.active.slice(),n=i.state.correct.slice();!1===i.state.correct[t]?n[t]=void 0:e[t]=!e[t],i.setState({correct:n,active:e}),i.props.onChange(e)}}};return"full"===i.props.provideFeedback?k.a.createElement(re,s):k.a.createElement(ae,s)})),w()(u()(i),"renderAnswerOptionsSingle",(function(e,t){if("none"===i.props.provideFeedback||q()(i.props.solution))return r()(ce,{answerContent:e.content,active:i.state.active===t,correct:i.state.correct[t],disabled:i.props.disabled,onAnswerSelected:function(){i.triggerFocusEvent(),i.setState({active:t,answerSelected:!0}),i.props.onChange(t)}},t);var n=i.props.solution===t,s={key:"".concat(e.content,"-").concat(t),no:t,answerContent:e.content,answerExplanation:e.explanation,active:i.state.active===t,correct:i.state.correct[t],disabled:i.props.disabled,submitted:i.state.submitted,solution:n,isSolved:i.state.isSolved,onAnswerSelected:function(){if(i.triggerFocusEvent(),!i.state.submitted||"incremental"===i.props.provideFeedback){var e=i.state.correct.slice();!1===i.state.correct[t]&&(e[t]=void 0),i.setState({active:t,correct:e,answerSelected:!0}),i.props.onChange(t)}}};return"full"===i.props.provideFeedback?k.a.createElement(re,s):k.a.createElement(ae,s)})),i.id=e.id||fe(e);var o=s.currentUserActions,c=Object(X.a)(o,i.id,_.Ab);return i.state={correct:new Array(e.answers.length),answerSelected:!1,question:e.question,isSolved:!1},e.displaySolution?(i.state.submitted=!0,i.state.active=i.props.solution):P()(c)||Object(N.isPrimitive)(c)?(i.state.active=c,i.state.submitted=!0):(i.state.active=P()(i.props.solution)?new Array(e.answers.length):null,i.state.submitted=!1),i}return c()(n,[{key:"componentDidMount",value:function(){var e=this;this.props.displaySolution&&this.submitQuestion();var t=this.context;t&&(this.unsubscribe=t.subscribe((function(t,n){if(t===G.A){var s=n[e.id];if(P()(s)&&(s=s.filter((function(e){return e.type===_.Ab}))).length>0){var r=s[0].value;e.setState({active:r,submitted:"none"===e.props.provideFeedback})}}})))}},{key:"componentDidUpdate",value:function(e){if(e.solution!==this.props.solution||e.answers.length!==this.props.answers.length){var t=P()(this.props.solution)?new Array(this.props.answers.length):null;this.setState({active:t})}}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"selectAnswer",value:function(e){he("Parse input: ".concat(e)),e=H(e)-1,he("Select answer at position ".concat(e)),this.setState({active:e,answerSelected:!0})}},{key:"renderSubmitButton",value:function(){var e,t=this.context;if(this.props.until&&t.startTime>this.props.until)return r()("span",{className:"title",style:{marginLeft:4}},void 0,this.props.t("question-closed"));if(this.state.submitted)switch(this.props.provideFeedback){case"none":e=this.props.t("resubmit");break;case"full":default:e=this.props.t("submitted");break;case"incremental":e=this.props.t("submit")}else e=this.props.t("submit");return r()(y.a,{className:"submit-button",size:"small",onClick:this.submitQuestion,disabled:this.checkDisabledStatus(),block:!0},void 0,e)}},{key:"render",value:function(){var e=this.props,t=e.answers,n=e.hints,s=e.chat,i=e.hintPlacement,a=e.question,o=P()(this.props.solution)&&P()(this.state.active),c=n.length,l={};return this.props.feedback?(l.width="calc(100%-60px)",l.display="inline-block"):l.width="100%",r()(C.a,{id:this.id,className:"multiple-choice-question-container",style:ve({},this.props.style)},void 0,r()(C.a.Body,{style:l},void 0,r()(pe,{content:a,task:o?this.props.t("chose-all-apply"):this.props.t("select-answer")}),r()(O.a,{},void 0,o?t.map(this.renderAnswerOptionsMultiple):t.map(this.renderAnswerOptionsSingle)),r()("div",{className:"multiple-choice-question-toolbar"},void 0,this.renderSubmitButton(),c>0?r()(R.a,{size:"small",onClick:this.logHint,hints:n,placement:i}):null,s&&this.id?r()("div",{style:{display:"inline-block"}},void 0,r()(z.a,{size:"small",for:this.id})):null,r()(I.a,{reference:this,id:this.props.voiceID,commands:V})),this.id?r()("div",{style:{marginTop:"6px"}},void 0,r()(M.a,{buttonLabel:this.props.t("answers"),id:this.id,data:{type:"factor",levels:this.props.answers.map((function(e){return e.content})),question:this.props.question,solution:this.props.solution},info:_.Ab,points:this.props.points}),this.props.feedback?r()(T.a,{id:this.id+"_feedback"}):null):null,r()(J.a,{for:this.id,points:this.props.points})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.question!==t.question?{submitted:!1,question:e.question}:null}}]),n}(g.Component);me.defaultProps={question:"",solution:null,hints:[],hintPlacement:"bottom",feedback:!0,disabled:!1,displaySolution:!1,chat:!1,provideFeedback:"incremental",disableSubmitNotification:!1,voiceID:null,until:null,points:10,style:{},onChange:function(){},onSubmit:function(){}},me.contextType=L.a;t.default=Object(S.a)("MultipleChoiceQuestion")(me)},5241:function(e){e.exports=JSON.parse('[{"command":"selectAnswer","trigger":["choose","pick","take"],"description":"Select an answer","params":["no"],"regexp":["/(?:choose|pick|take) (?:the )?(?<no>[\\\\s\\\\S]*) answer/i","/(?:choose|pick|take) (?:[\\\\s\\\\S]*?)?answer (?:number )?(?<no>[\\\\s\\\\S]*)/i"]},{"command":"submitQuestion","trigger":["submit"],"description":"Submit answer"}]')},775:function(e,t,n){"use strict";var s=n(369),r=Object(s.a)((function(){return n.e(143).then(n.bind(null,1238))}));t.a=r},987:function(e,t,n){"use strict";var s=n(369),r=Object(s.a)((function(){return n.e(172).then(n.bind(null,1392))}));t.a=r}}]);