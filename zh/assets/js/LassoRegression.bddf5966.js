/*! For license information please see LassoRegression.bddf5966.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[25474],{338586:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return Et}});var i=r(264659),a=r(904730),n=r(673989),s=r(175663),o=r(750591),u=r(575630),c=r(151119),v=r(858255),l=(r(319371),r(111246),r(382139),r(627476),r(95767),r(898837),r(694882),r(298351),r(202784)),f=(r(213980),r(198)),h=r(822736),d=r(636150),p=r.n(d),m=r(801420),b=r.n(m),y=r(817729),g=r.n(y),Z=r(453339),w=r.n(Z),x=r(861712),P=r.n(x),E=r(382470),O=r.n(E),k=r(989202),A=r.n(k),T=r(770561),N=r(150275),S=r(122081),j=r(385854),q=r.n(j);var F=function(t,e){var r=q()(e);if(!q()(t))throw new TypeError("invalid input argument. Must provide an array. Value: `"+t+"`.");if(!r&&!(0,y.isPrimitive)(e))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+e+"`.");var i=t.length,a=new Array(i);if(r){if(i!==e.length)throw new Error("invalid input argument. Array to be multiplied must have a length equal to that of the input array.");for(var n=0;n<i;n++)a[n]=t[n]*e[n]}else for(var s=0;s<i;s++)a[s]=t[s]*e;return a},V=r(797479),z=(r(850110),r(821337)),R=r(243644),D=r(214807),M=r.n(D);var C=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=(0,z.Z)(t),a=(0,R.Z)(t),n=t.length,s=new Array(n);if(e)if(r)for(var o=0;o<n;o++)s[o]=(t[o]-i)/a;else for(var u=0;u<n;u++)s[u]=t[u]-i;else if(r)for(var c=0;c<n;c++)s[c]=t[c]/a;else t.slice(),(0,V.Z)("out");return M()(s,"mu",i),M()(s,"sigma",a),s},K=r(320765),_=r(432261),B=(r(927299),r(733834),r(911755)),W=r.n(B),X=r(685267),G=r.n(X),H=r(138933),I=r.n(H),J=r(351073),L=r.n(J),Q=r(187103),U=r.n(Q),Y=r(78333),$=r.n(Y),tt=r(557493),et=r.n(tt),rt=r(656523),it=r.n(rt),at=r(273856),nt=r(272336),st=r(31388);var ot=function(t,e,r){var i=q()(e);if(!q()(t))throw new TypeError("invalid input argument. Must provide an array. Value: `"+t+"`.");if(!i&&!(0,y.isPrimitive)(e))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+e+"`.");var a=t.length,n=new Array(a);if(i){if(a!==e.length)throw new Error("invalid input argument. Array to be divided must have a length equal to that of the input array.");for(var s=0;s<a;s++)n[s]=t[s]/e[s]}else for(var o=0;o<a;o++)n[o]=t[o]/e;return n};var ut=function(t,e,r){for(var i=0,a=t.shape[0],n=0;n<a;n++){var s=t.get(n,r),o=e.get(n,r);0!==s&&0!==o&&(i+=s*o)}return i};var ct=function(t,e){for(var r=t.length,i=0,a=0;a<r;a++)i+=t[a]*e[a];return i};var vt=function(t,e){return t>e?t-e:t<-e?t+e:0},lt=W()("isle:lasso"),ft=$()("generic",2),ht=1e-9,dt=function(t,e){for(var r=new Float64Array(t.shape[0]),i=0;i<r.length;i++)r[i]=t.get(i,e);return r};function pt(t,e,r){var i=this;this.y=t,this.x=e,this.lambda=r,this.N=e.shape[0],this.p=e.shape[1],this.beta=new Float64Array(this.p),this.betast=new Float64Array(this.p),this.active=G()(0,this.beta.length,1),this.nonactive=[],this.presid=ft(new Float64Array(e._buffer.length),e.shape,e.strides,e.offset,e.order),this.init=function(){i.iteration=0,i.iterate()},this.init()}pt.prototype.testKKT=function(){for(var t=this.beta,e=this.N,r=this.x,i=this.y,a=(0,st.Z)(i,(0,at.Z)(r,t)),n=ot((0,at.Z)((0,nt.Z)(r),a),e),s=0;s<t.length;s++)if(0===t[s]){if(it()(n[s])>this.lambda+ht)return!1}else if(t[s]>0&&n[s]-this.lambda*I()(t[s])>ht)return!1;return!0},pt.prototype.testActiveSet=function(){for(var t=!1,e=this.predict(this.x).residuals,r=0;r<this.nonactive.length;r++){var i=this.nonactive[r],a=dt(this.x,i);it()(ct(a,e))/this.N>this.lambda&&(this.active.push(i),this.nonactive.splice(r,1),t=!0)}return lt("Active set changes..."),t},pt.prototype.iterate=function(){var t=this.N,e=this.p,r=this.x,i=this.y;if(this.iteration+=1,!(this.iteration>1e4)){for(var a=!0,n=0;n<this.active.length;n++){for(var s=this.active[n],o=0;o<t;o++){for(var u=i[o],c=0;c<e;c++)u-=s!==c?r.get(o,c)*this.beta[c]:0;this.presid.set(o,s,u)}this.betast[s]=1/t*ut(r,this.presid,s);var v=this.beta[s],l=vt(this.betast[s],this.lambda);it()(l-v)>ht&&(a=!1),this.beta[s]=l}for(var f=this.active.length-1;f>=0;f--){var h=this.active[f];it()(this.beta[h])<ht&&(this.active.splice(f,1),this.nonactive.push(h))}(!1===a||this.testActiveSet())&&this.iterate()}},pt.prototype.predict=function(t){L()(t)&&(t=et()(t));for(var e=(0,at.Z)(t,this.beta),r=new Array(this.N),i=0;i<this.N;i++)r[i]=this.y[i]-e[i];return{fitted:e,residuals:r}};var mt=function(t,e,r){if(!g())throw new TypeError("invalid input argument. The third argument must be a number primitive. Value: `"+r+"`");if(!q()(e))throw new TypeError("invalid input argument. The second argument must be array-like. Value: `"+e+"`");if(L()(t))t=et()(t);else if(!U()(t)){throw new TypeError("invalid input argument. The first argument must be a matrix or an array-of-arrays. Value: `"+t+"`")}return new pt(e,t,r)};function bt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function yt(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(r),!0).forEach((function(e){(0,c.Z)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,i=(0,u.Z)(t);if(e){var a=(0,u.Z)(this).constructor;r=Reflect.construct(i,arguments,a)}else r=i.apply(this,arguments);return(0,o.Z)(this,r)}}(0,K.E4)("StatisticalModels");var Zt=0;function wt(t,e,r,i){b()(t)||(t=[t]);for(var a=[],n=[],s={},o={},u={},c=e[t[0]].length,v=0;v<t.length;v++)if(p()(r,t[v])){var l=C(e[t[v]]);o[t[v]]=l,n.push(t[v])}else{for(var f=e[t[v]],h=w()(f,P()),d=t[v].categories||O()(h),m=i?1:0;m<d.length;m++){var y="".concat(t[v],"_").concat(d[m]);n.push(y);var g=h[d[m]]/c;u[y]={mu:g,sigma:A()(g*(1-g))}}s[t[v]]=d}for(var Z=0;Z<c;Z++){var x=[];i&&x.push(1);for(var E=0;E<t.length;E++)if(p()(r,t[E])){var k=o[t[E]];x.push(k[Z])}else for(var T=e[t[E]],N=s[t[E]],S=T[Z],j=i?1:0;j<N.length;j++){var q=u["".concat(t[E],"_").concat(N[j])],F=q.mu,V=q.sigma;x.push(S===N[j]?(1-F)/V:-F/V)}a.push(x)}return{matrix:a,predictors:n,categoricalStats:u,standardized:o}}var xt=function(t){var e=t.x,r=t.y,i=t.lambda,a=t.data,n=t.quantitative,s=t.intercept;try{var o=a[r];o=C(o,!1,!0);var u=wt(e,a,n,s),c=u.matrix,v=u.predictors,l=u.categoricalStats,f=u.standardized,h=new mt(c,o,i);if(s){for(var d=0,m=1;m<h.beta.length;m++){var b=v[m-1];p()(n,b)?(h.beta[m]*=o.sigma/f[b].sigma,d+=h.beta[m]*f[b].mu):(h.beta[m]*=o.sigma/l[b].sigma,d+=h.beta[m]*l[b].mu)}h.beta[0]=o.mu-d}else for(var y=0;y<h.beta.length;y++){var g=v[y];p()(n,g)?h.beta[y]*=o.sigma/f[g].sigma:h.beta[y]*=o.sigma/l[g].sigma}return{predictors:v,result:h,yvalues:o}}catch(Z){return{}}},Pt=function(t){(0,s.Z)(r,t);var e=gt(r);function r(t){var a;(0,i.Z)(this,r),a=e.call(this,t),(0,c.Z)((0,n.Z)(a),"handlePredict",(function(){var t=wt(a.props.x,a.props.data,a.props.quantitative,a.props.intercept).matrix,e=a.state.result.predict(t),r=e.fitted,i=e.residuals;r=F(r,a.state.yvalues.sigma),i=F(i,-a.state.yvalues.sigma),a.props.onPredict(r,i,Zt)})),Zt+=1;var s=t.x,o=t.y,u=t.lambda,v=t.data,l=t.quantitative,f=t.intercept;return a.state=yt(yt({},xt({x:s,y:o,lambda:u,data:v,quantitative:l,intercept:f})),t),a}return(0,a.Z)(r,[{key:"render",value:function(){var t=this.props,e=t.y,r=t.intercept,i=t.lambda,a=t.onPredict,n=t.t,s=this.state,o=s.result,u=s.predictors;return o?(0,y.isPrimitive)(i)?(0,v.Z)("div",{style:{overflowX:"auto",width:"100%"}},void 0,(0,v.Z)("span",{className:"title"},void 0,n("lasso-title",{y:e,lambda:i.toFixed(4),counter:Zt})),function(t,e,r,i){return(0,v.Z)(S.Z,{bordered:!0,size:"sm"},void 0,(0,v.Z)("thead",{},void 0,(0,v.Z)("tr",{},void 0,(0,v.Z)("th",{},void 0,i("predictor")),(0,v.Z)("th",{},void 0,i("coefficient")))),(0,v.Z)("tbody",{},void 0,e?(0,v.Z)("tr",{},void 0,(0,v.Z)("th",{},void 0,i("intercept")),(0,v.Z)("td",{},void 0,r.beta[0].toFixed(6))):null,t.map((function(t,i){return(0,v.Z)("tr",{},i,(0,v.Z)("th",{},void 0,t),(0,v.Z)("td",{},void 0,r.beta[i+Number(e)].toFixed(6)))}))))}(u,r,o,n),(0,v.Z)("p",{},void 0,o.testKKT()?n("kkt-satisfied"):n("kkt-not-satisfied")),a?(0,v.Z)(N.Z,{tooltip:n("use-model-to-predict-tooltip")},void 0,(0,v.Z)(T.Z,{variant:"secondary",size:"sm",onClick:this.handlePredict},void 0,this.props.t("use-model-to-predict"))):null):(0,v.Z)(h.Z,{variant:"danger"},void 0,n("lambda-not-number")):(0,v.Z)(h.Z,{variant:"danger"},void 0,n("missing-attributes"))}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(t.data!==e.data||t.quantitative!==e.quantitative||t.x!==e.x||t.y!==e.y||t.intercept!==e.intercept||t.lambda!==e.lambda){var r=t.x,i=t.y,a=t.lambda,n=t.data,s=t.quantitative,o=t.intercept;return yt(yt({},xt({x:r,y:i,lambda:a,data:n,quantitative:s,intercept:o})),t)}return null}}]),r}(l.Component);Pt.defaultProps={lambda:.001,intercept:!0,onPredict:function(){}};var Et=(0,f.Z)("StatisticalModels")((0,_.W)(Pt))},273856:function(t,e,r){"use strict";r(733834);e.Z=function(t,e){for(var r=t.shape[0],i=t.shape[1],a=new Float64Array(r),n=0;n<r;n++){for(var s=0,o=0;o<i;o++)s+=t.get(n,o)*e[o];a[n]=s}return a}},31388:function(t,e,r){"use strict";var i=r(385854),a=r.n(i),n=r(817729);e.Z=function(t,e){var r=a()(e);if(!a()(t))throw new TypeError("invalid input argument. Must provide an array. Value: `"+t+"`.");if(!r&&!(0,n.isPrimitive)(e))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+e+"`.");var i=t.length,s=new Array(i);if(r){if(i!==e.length)throw new Error("invalid input argument. Array to be added must have a length equal to that of the input array.");for(var o=0;o<i;o++)s[o]=t[o]-e[o]}else for(var u=0;u<i;u++)s[u]=t[u]-e;return s}},272336:function(t,e,r){"use strict";var i=r(78333),a=r.n(i)()("float64",2);e.Z=function(t){var e=[t.shape[1],t.shape[0]],r=[t.strides[1],t.strides[0]],i=t.offset,n=t.order;return a(t._buffer,e,r,i,n)}},733834:function(t,e,r){r(778440)("Float64",8,(function(t){return function(e,r,i){return t(this,e,r,i)}}))},797479:function(t,e,r){"use strict";function i(t){throw new TypeError('"'+t+'" is read-only')}r.d(e,{Z:function(){return i}})},351073:function(t,e,r){"use strict";var i=r(251116);t.exports=i},251116:function(t,e,r){"use strict";var i=r(31020)(r(801420));t.exports=i},214807:function(t,e,r){"use strict";var i=r(211124);t.exports=i},211124:function(t,e,r){"use strict";var i=r(856574);t.exports=function(t,e,r){i(t,e,{configurable:!0,enumerable:!1,writable:!0,value:r})}},770561:function(t,e,r){"use strict";var i=r(607560),a=r(998283),n=r(72779),s=r.n(n),o=r(202784),u=r(429658),c=r(482695),v=o.forwardRef((function(t,e){var r=t.bsPrefix,n=t.variant,v=t.size,l=t.active,f=t.className,h=t.block,d=t.type,p=t.as,m=(0,a.Z)(t,["bsPrefix","variant","size","active","className","block","type","as"]),b=(0,u.vE)(r,"btn"),y=s()(f,b,l&&"active",n&&b+"-"+n,h&&b+"-block",v&&b+"-"+v);if(m.href)return o.createElement(c.Z,(0,i.Z)({},m,{as:p,ref:e,className:s()(y,m.disabled&&"disabled")}));e&&(m.ref=e),d?m.type=d:p||(m.type="button");var g=p||"button";return o.createElement(g,(0,i.Z)({},m,{className:y}))}));v.displayName="Button",v.defaultProps={variant:"primary",active:!1,disabled:!1},e.Z=v}}]);