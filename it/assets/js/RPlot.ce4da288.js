(self.webpackChunk=self.webpackChunk||[]).push([[8922],{562020:function(e,t,n){"use strict";n.r(t);var a,o=n(607560),i=n(858255),r=n(574315),l=n(454530),c=n(202784),d=(n(213980),n(376699)),s=n(108195),u=n(238534),m=n.n(u),g=n(614972),p=n.n(g),b=n(760977),f=n(71816),v=n(472132),y=n(741319),Z=n(806258),h=n(320765),C=n(432261);function w(e){var t,n=e.id,a=e.meta,o=e.plot;return a?(a=m()(a,(function(e,t){return p()(t)})),a=s.ZP.dump(a),t='<img src="'.concat(o,'" style="display: block; margin: 0 auto;" data-plot-id="').concat(n,'" data-plot-meta="').concat(a,'"></img>')):t='<img src="'.concat(o,'" alt="R Plot" style="display: block; margin: 0 auto;" />'),t}(0,h.E4)("R");var k=function(e){var t=e.code,n=e.className,s=e.draggable,u=e.id,m=e.libraries,g=e.prependCode,p=e.fileType,h=e.meta,C=e.onDone,k=(0,l.Z)(e,["code","className","draggable","id","libraries","prependCode","fileType","meta","onDone"]),R=(0,d.$)("R").t,N=(0,c.useState)(!1),D=(0,r.Z)(N,2),E=D[0],S=D[1],T=(0,c.useState)({img:null,body:null}),x=(0,r.Z)(T,2),P=x[0],j=x[1],H=(0,c.useContext)(y.Z);(0,c.useEffect)((function(){S(!0);var e=(0,b.Z)(m,g,H)+t;H.getRPlot(e,p,(function(e,t,n){e?C(e):(j({img:t,body:n}),S(!1),C(null,t,n))}))}),[t,p,m,g,H,C]);var A=null;return s&&(A=(0,i.Z)("button",{className:"rplot-draggable-bar",draggable:!0,onDragStart:function(e){var t=w({id:u,meta:h,plot:P.body});e.dataTransfer.setData("text/html",t)},onClick:function(){var e=w({id:u,meta:h,plot:P.body});(0,Z.Z)(e)}},void 0,R("drag-plot"))),(0,i.Z)("div",{className:"rplot ".concat(n),style:{minHeight:128,cursor:"pointer"}},void 0,(0,i.Z)(f.Z,{running:E,width:256,height:128}),E?a||(a=(0,i.Z)("span",{})):(0,i.Z)(c.Fragment,{},void 0,A,c.createElement(v.Z,(0,o.Z)({src:P.img,body:P.body,title:R("r-plot")},k))))};k.defaultProps={code:"",width:600,height:"auto",draggable:!1,fileType:"svg",libraries:[],prependCode:"",meta:null,className:"",onDone:function(){}},t.default=(0,C.W)(k)},760977:function(e,t,n){"use strict";n(319371);var a=n(801420),o=n.n(a);t.Z=function(e,t,n){var a=n.config.rshell;a&&a.libraries&&(e=e.concat(a.libraries));var i=function(e){return e.map((function(e){return"library("+e+");"})).join(" ")}(e);return a&&a.global&&(i+=a.global+"\n"),t=o()(t)?t.join("\n"):t,i+=t+="\n"}},806258:function(e,t){"use strict";t.Z=function(e){var t=document.createElement("div");t.innerHTML=e,t.style.position="fixed",t.style.opacity=0,t.style.pointerEvents="none",document.body.appendChild(t),window.getSelection().removeAllRanges();var n=document.createRange();n.selectNode(t),window.getSelection().addRange(n),document.execCommand("copy"),document.body.removeChild(t)}}}]);