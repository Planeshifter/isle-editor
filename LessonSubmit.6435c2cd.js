(window.webpackJsonp=window.webpackJsonp||[]).push([[200],{1769:function(e,t,n){"use strict";var o=function(e,t){return e+i(t)},i=function(e){return null===e||"boolean"==typeof e||void 0===e?"":"number"==typeof e?e.toString():"string"==typeof e?e:Array.isArray(e)?e.reduce(o,""):function(e){return Object.prototype.hasOwnProperty.call(e,"props")}(e)&&Object.prototype.hasOwnProperty.call(e.props,"children")?i(e.props.children):""};i.default=i,e.exports=i},3295:function(e,t,n){"use strict";var o=n(348),i=Object(o.a)((function(){return Promise.all([n.e(6),n.e(363)]).then(n.bind(null,4512))}));t.a=i},3296:function(e,t,n){"use strict";var o=n(348),i=Object(o.a)((function(){return Promise.all([n.e(0),n.e(6),n.e(373)]).then(n.bind(null,4513))}));t.a=i},405:function(e,t,n){"use strict";function o(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var i={};function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&i[t[0]]||("string"==typeof t[0]&&(i[t[0]]=new Date),o.apply(void 0,t))}function s(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return r("i18n.languages were undefined or empty",t.languages),!0;var o=t.languages[0],i=!!t.options&&t.options.fallbackLng,s=t.languages[t.languages.length-1];if("cimode"===o.toLowerCase())return!0;var a=function(e,n){var o=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===o||2===o};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(o,e)||(!t.services.backendConnector.backend||!(!a(o,e)||i&&!a(s,e))))}function c(e){return e.displayName||e.name||("string"==typeof e&&e.length>0?e:"Unknown")}},5182:function(e){e.exports=JSON.parse('{"DE":{"authentication":"Authentifizierung","authentication-prompt":"Um diese Lektion abzuschlie\xdfen, logge Dich bitte in Dein ISLE-Konto ein. Wenn Du noch kein Konto eingerichtet hast, melde Dich bitte an und erhalte Zugang zur vollen Funktionalit\xe4t von ISLE","by":"von","choice":"Wahl","completed":"Abgeschlossen","confirmation-email":" Du erh\xe4lst in K\xfcrze eine Best\xe4tigungs-E-Mail.","download-pdf":"PDF der Antworten herunterladen","elapsed":"verstrichen","lesson-successfully-completed":"Lektion erfolgreich abgeschlossen.","lesson-submitted":"Lektion abgeschlossen!","login":"Anmelden","responses-header":"Antworten f\xfcr die ISLE-Lektion","signup":"Registrieren","submit":"Abschicken"},"EN":{"authentication":"Authentication","authentication-prompt":"To finalize this lesson, please login in to your ISLE account. If you have not created one, please sign up and get access to the full functionality of ISLE.","by":"by","choice":"Choice","completed":"Completed","confirmation-email":" You will receive a confirmation email shortly.","download-pdf":"Download PDF of Responses","elapsed":"elapsed","lesson-successfully-completed":"Lesson successfully completed.","lesson-submitted":"Lesson submitted!","login":"Login","responses-header":"Responses for ISLE lesson","signup":"Sign up","submit":"Submit"},"ES":{"authentication":"Autenticaci\xf3n","authentication-prompt":"Para finalizar esta lecci\xf3n, por favor entre en su cuenta de ISLE. Si no ha creado una, por favor reg\xedstrese y acceda a la funcionalidad completa de ISLE.","by":"por","choice":"Elecci\xf3n","completed":"Completado","confirmation-email":" Recibir\xe1 un correo electr\xf3nico de confirmaci\xf3n en breve.","download-pdf":"Descargar PDF de respuestas","elapsed":"transcurrido","lesson-successfully-completed":"Lecci\xf3n completada con \xe9xito.","lesson-submitted":"\xa1Lecci\xf3n presentada!","login":"Login","responses-header":"Respuestas para la lecci\xf3n de ISLE","signup":"Inscripci\xf3n","submit":"Presentar"}}')},5827:function(e,t,n){"use strict";n.r(t);n(396),n(390),n(378),n(377),n(391),n(357),n(350),n(360);var o=n(358),i=n.n(o),r=n(351),s=n.n(r),a=n(352),c=n.n(a),u=n(365),l=n.n(u),p=n(354),f=n.n(p),d=n(355),g=n.n(d),b=n(353),h=n.n(b),m=n(349),v=n.n(m),y=(n(463),n(0)),O=n(387),w=n.n(O),j=(n(341),n(670)),S=n(1768),P=n.n(S),L=n(1769),x=n.n(L),k=n(388),D=n(625),E=n(384),R=n(643),C=n.n(R),z=n(402),N=n.n(z),I=n(484),A=n.n(I),U=n(1702),T=n(3295),M=n(3296),F=n(413),B=n(564),q=n(419),W=(n(2510),n(519)),J=n(5182);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return g()(this,n)}}W.a.addResources("de","lesson-submit",J.DE),W.a.addResources("en","lesson-submit",J.EN),W.a.addResources("es","lesson-submit",J.ES);var Y=w()("isle:lesson-submit");var Z=function(e){f()(n,e);var t=V(n);function n(e){var o;return s()(this,n),o=t.call(this,e),v()(l()(o),"createReponseSummaryDoc",(function(){var e=o.context,t={content:[{text:"".concat(o.props.t("responses-header")," ").concat(e.namespaceName+"/"+e.lessonName),style:"header",alignment:"center"}],styles:{header:{fontSize:24,bold:!0,margin:[0,0,0,10]},author:{fontSize:16,italics:!0,margin:[0,0,0,10],alignment:"center"},date:{fontSize:16,italics:!0,alignment:"right",margin:[0,15,0,15]},elapsed:{fontSize:16,italics:!0,alignment:"right",margin:[0,15,0,15]},subheader:{fontSize:18,bold:!0,margin:[0,30,0,10]},question:{fontSize:15,margin:[0,0,0,10],italics:!0}}};C()(e.user)||t.content.push({text:"".concat(o.props.t("by")," ").concat(e.user.name," (").concat(e.user.email,")"),style:"author"});var n=new Date;if(t.content.push({text:"".concat(n.toLocaleDateString()," - ").concat(n.toLocaleTimeString()),style:"date"}),t.content.push({text:"".concat(o.props.t("elapsed"),": ").concat(A()(e.duration/6e4),"min"),style:"elapsed"}),e.currentUserActions)for(var i=e.responseVisualizerIds,r=0;r<i.length;r++){var s=e.responseVisualizers[i[r]];t.content.push({text:i[r],style:"subheader"}),s&&function(){var n=s.type,a=s.ref.props.data.question,c=s.ref.props.data.type;t.content.push({text:Object(E.isPrimitive)(a)?a:x()(a),style:"question"});var u=e.currentUserActions[i[r]];if(u){var l=(u=(u=u.filter((function(e){return e.type===n}))).sort((function(e,t){return e.absoluteTime-t.absoluteTime})))[u.length-1];if("image"===c)t.content.push({image:l.value,width:500});else if("factor"===c){var p,f=s.ref.props.data.levels;f=f.map((function(e,t){var n=Object(E.isPrimitive)(e)?e:x()(e);return n||(n="".concat(o.props.t("choice")," ").concat(t+1)),n})),p=N()(l.value)?l.value.map((function(e){return f[e]})).join(", "):f[l.value],t.content.push({text:p})}else t.content.push({text:l.value})}}()}P.a.createPdf(t).download("responses.pdf")})),v()(l()(o),"closeUserModal",(function(){o.setState({showUserModal:!1,visibleLogin:!1,visibleSignup:!1})})),v()(l()(o),"login",(function(e){e.stopPropagation(),o.setState({visibleLogin:!0,visibleSignup:!1})})),v()(l()(o),"signup",(function(e){e.stopPropagation(),o.setState({visibleSignup:!0,visibleLogin:!1})})),v()(l()(o),"closeSignup",(function(){o.setState({visibleSignup:!1,showUserModal:!1})})),v()(l()(o),"closeLogin",(function(){o.setState({visibleLogin:!1,showUserModal:!1})})),v()(l()(o),"finalizeSession",(function(){Y("Finalizing session...");for(var e=o.context,t=document.getElementsByClassName("submit-button"),n=0;n<t.length;n++)t[n].innerText===o.props.t("submit")&&t[n].click();e.finalize();var r=o.props.t("lesson-successfully-completed");if(!C()(e.user)&&o.props.sendConfirmationEmail){r+=o.props.t("confirmation-email");var s=function(e,t){var n=t||"";return{text:"Dear ".concat(e.user.name,', this is an automatic confirmation email to inform you that you have successfully completed lesson "').concat(e.lessonName,'" of course "').concat(e.namespaceName,'". ').concat(n),subject:"".concat(e.lessonName," successfully completed!")}}(e,o.props.message);e.sendMail(s,e.user.email)}e.addNotification({title:o.props.t("completed"),message:r,level:"success",position:"tr",autoDismiss:0,dismissible:"button",children:i()("div",{style:{marginBottom:"40px"}},void 0,i()(k.a,{variant:"success",size:"sm",style:{float:"right",marginRight:"10px",marginTop:"10px"},onClick:o.createReponseSummaryDoc},void 0,o.props.t("download-pdf"))),onRemove:function(){o.setState({disabled:!1})}}),e.log({id:e.lessonName,type:q.vb,value:o.props.t("lesson-submitted")}),o.setState({disabled:!0}),window.removeEventListener("beforeunload",U.a)})),v()(l()(o),"handleClick",(function(){o.props.onClick();var e=o.context;if(o.props.requireLogin&&C()(e.user))return o.setState({showUserModal:!0});o.finalizeSession()})),o.state={showUserModal:!1,visibleLogin:!1,visibleSignup:!1},o}return c()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.context;this.unsubsribe=t.subscribe((function(t){t!==B.w&&t!==B.j&&t!==B.k||e.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){this.unsubsribe()}},{key:"render",value:function(){var e=!this.context.live||this.state.disabled;return i()("div",{className:"bg-light ".concat(this.props.className),style:H({maxWidth:400,margin:"0 auto 0px",padding:"20px",fontFamily:"Arial"},this.props.style)},void 0,i()(k.a,{disabled:e,variant:"primary",size:"large",onClick:this.handleClick,block:!0},void 0,this.props.label),i()(D.a,{show:this.state.showUserModal,onHide:this.closeUserModal},void 0,i()(D.a.Header,{closeButton:!0},void 0,i()(D.a.Title,{},void 0,this.props.t("authentication"))),i()(D.a.Body,{},void 0,i()("p",{},void 0,this.props.t("authentication-prompt"))),i()(D.a.Footer,{style:{textAlign:"center"}},void 0,i()(k.a,{variant:"primary",onClick:this.login.bind(this),style:{marginRight:"10px"}},void 0,this.props.t("login")),i()(k.a,{onClick:this.signup.bind(this)},void 0,this.props.t("signup")))),i()(M.a,{show:this.state.visibleLogin,onClose:this.closeLogin}),i()(T.a,{show:this.state.visibleSignup,onClose:this.closeSignup}))}}]),n}(y.Component);Z.defaultProps={label:"Finish lesson",message:"",requireLogin:!0,sendConfirmationEmail:!0,className:"",style:{},onClick:function(){}},Z.contextType=F.a;t.default=Object(j.a)("lesson-submit")(Z)},670:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var o=n(349),i=n.n(o),r=n(424),s=n.n(r),a=n(431),c=n.n(a),u=n(0),l=n.n(u),p=n(609),f=n(405);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,o=Object(u.useContext)(p.a)||{},i=o.i18n,r=o.defaultNS,a=n||i||Object(p.d)();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new p.b),!a){Object(f.e)("You will need to pass in an i18next instance by using initReactI18next");var c=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[c,{},!1];return l.t=c,l.i18n={},l.ready=!1,l}var d=g(g(g({},Object(p.c)()),a.options.react),t),b=d.useSuspense,h=e||r||a.options&&a.options.defaultNS;h="string"==typeof h?[h]:h||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(h);var m=(a.isInitialized||a.initializedStoreOnce)&&h.every((function(e){return Object(f.b)(e,a,d)}));function v(){return{t:a.getFixedT(null,"fallback"===d.nsMode?h:h[0])}}var y=Object(u.useState)(v()),O=s()(y,2),w=O[0],j=O[1],S=Object(u.useRef)(!0);Object(u.useEffect)((function(){var e=d.bindI18n,t=d.bindI18nStore;function n(){S.current&&j(v())}return S.current=!0,m||b||Object(f.c)(a,h,(function(){S.current&&j(v())})),e&&a&&a.on(e,n),t&&a&&a.store.on(t,n),function(){S.current=!1,e&&a&&e.split(" ").forEach((function(e){return a.off(e,n)})),t&&a&&t.split(" ").forEach((function(e){return a.store.off(e,n)}))}}),[h.join()]);var P=[w.t,a,m];if(P.t=w.t,P.i18n=a,P.ready=m,m)return P;if(!m&&!b)return P;throw new Promise((function(e){Object(f.c)(a,h,(function(){e()}))}))}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function o(o){var i=o.forwardedRef,r=c()(o,["forwardedRef"]),a=b(e,r),u=s()(a,3),p=u[0],f=u[1],d=u[2],g=m(m({},r),{},{t:p,i18n:f,tReady:d});return t.withRef&&i?g.ref=i:!t.withRef&&i&&(g.forwardedRef=i),l.a.createElement(n,g)}o.displayName="withI18nextTranslation(".concat(Object(f.a)(n),")"),o.WrappedComponent=n;return t.withRef?l.a.forwardRef((function(e,t){return l.a.createElement(o,Object.assign({},e,{forwardedRef:t}))})):o}}},959:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(0);function i(e){var t=Object(o.useRef)(null);return Object(o.useEffect)((function(){t.current=e})),t.current}}}]);