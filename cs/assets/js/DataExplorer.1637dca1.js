(self.webpackChunk=self.webpackChunk||[]).push([[4669],{123950:function(t){"use strict";t.exports=JSON.parse('["exp","ln","power","round","sqrt"]')},612249:function(t,e,a){"use strict";var r,i=a(858255),n=(a(202784),a(213980),a(770561)),o=a(150275),s=function(t){return(0,i.Z)(o.Z,{id:"clear_tooltip",placement:t.tooltipPlacement,tooltip:t.t("DataExplorer:delete")},void 0,(0,i.Z)(n.Z,{variant:"outline-danger",size:"sm",onClick:t.onClick,style:t.style,disabled:t.disabled},void 0,r||(r=(0,i.Z)("div",{className:"fa fa-times"}))))};s.defaultProps={tooltipPlacement:"bottom",style:{},disabled:!1,t:function(){}},e.Z=s},128772:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return Pa}});a(382139),a(627476),a(95767),a(694882),a(298351);var r=a(607560),i=a(858255),n=a(264659),o=a(904730),s=a(673989),l=a(175663),c=a(750591),u=a(575630),d=a(151119),p=(a(6059),a(850110),a(319371),a(898837),a(798184),a(39115),a(296253),a(856997),a(991181),a(448977),a(202784)),f=(a(213980),a(911755)),v=a.n(f),h=a(387612),Z=a(198),g=a(805312),m=a(822736),y=a(770561),b=a(22637),E=a(458264),R=a(312594),S=a(81982),A=a(569862),O=a(260952),T=a(31071),P=a(671655),_=a(833119),C=a.n(_),k=a(708957),D=a.n(k),x=a(781949),L=a.n(x),w=a(951735),N=a.n(w),q=a(801420),F=a.n(q),I=a(636150),H=a.n(I),B=a(917779),X=a.n(B),V=a(614972),M=a.n(V),j=a(641847),z=a.n(j),U=a(919031),Q=a.n(U),G=a(800562),K=a.n(G),W=a(394606),J=a.n(W),Y=a(382470),$=a.n(Y),tt=a(685267),et=a.n(tt),at=a(42111),rt=a(927447),it=a(607615),nt=a(471275),ot=a(730641),st=a.n(ot);function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=(0,u.Z)(t);if(e){var i=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}var ct=function(t){(0,l.Z)(a,t);var e=lt(a);function a(){return(0,n.Z)(this,a),e.apply(this,arguments)}return(0,o.Z)(a,[{key:"render",value:function(){for(var t=st()(this.props.children,4),e=0;e<t.length;e++)for(var a=t[e],r=0;r<a.length;r++)a[r]?a[r]=(0,i.Z)(R.Z,{xs:6,md:3},"cell".concat(e).concat(r),a[r]):a[r]=null;return(0,i.Z)(nt.Z,{},void 0,t.map((function(t,e){return(0,i.Z)(E.Z,{},"row".concat(e),t)})))}}]),a}(p.Component),ut=a(589826),dt=a(778886),pt=a(542061),ft=a(292682),vt=a(975249),ht=(0,a(844601).Z)((function(){return Promise.all([a.e(9777),a.e(459)]).then(a.bind(a,515490))})),Zt=a(961274),gt=a(799962),mt=a(741319),yt=a(717932);function bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=(0,u.Z)(t);if(e){var i=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}var Et=function(t){(0,l.Z)(a,t);var e=bt(a);function a(){return(0,n.Z)(this,a),e.apply(this,arguments)}return(0,o.Z)(a,[{key:"scrollToBottom",value:function(){this.outputPanel&&(0,yt.Z)(this.outputPanel,this.outputPanel.scrollHeight,1e3)}},{key:"render",value:function(){var t=this;return p.createElement("div",{className:"data-explorer-output-panel",style:{height:.9*window.innerHeight-80},ref:function(e){t.outputPanel=e}},this.props.output)}}]),a}(p.Component),Rt=(a(283946),a(976142),a(438802)),St=a.n(Rt),At=a(278141),Ot=a.n(At),Tt=a(912860),Pt=a(435376),_t=a(203858),Ct=a(175891),kt=a(109361),Dt=a(636734),xt=a.n(Dt),Lt=a(63417),wt=a.n(Lt),Nt=a(309409),qt=a.n(Nt),Ft=a(610077),It=a.n(Ft),Ht=a(144292),Bt=a(655421),Xt=a(348355),Vt=a(570664),Mt=a(271768),jt=a(794589),zt=a(951124),Ut=a(520915),Qt=a(308490),Gt=a(920892),Kt=a(208678),Wt=a(894998),Jt=a(705286),Yt=a(615295),$t=a(395846),te=a(464737),ee=a(22049),ae=a(701745),re=a(414438),ie=a(536258),ne=a(423755),oe=a(982349),se=a(42188),le=a(83975),ce=a(149969),ue=a(361324),de=a(371152),pe=a(65034),fe=a(408219),ve=a(824626),he=a(77948),Ze=a(714457),ge=a(282377),me=a(109203),ye=a(26266),be=a(10863);function Ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=(0,u.Z)(t);if(e){var i=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}var Re=function(t){(0,l.Z)(a,t);var e=Ee(a);function a(){var t;return(0,n.Z)(this,a),t=e.call(this),(0,d.Z)((0,s.Z)(t),"handleSearch",(function(e){t.setState({search:e.target.value}),t.props.onClick(e.target.value)})),t.state={search:""},t}return(0,o.Z)(a,[{key:"render",value:function(){return(0,i.Z)(be.Z,{},void 0,(0,i.Z)(me.Z,{size:"small"},void 0,(0,i.Z)(ye.Z,{type:"text",placeholder:"Search actions...",onChange:this.handleSearch,onKeyPress:this.handleKeyPress,value:this.state.search})))}}]),a}(p.Component);Re.defaultProps={onClick:function(){}};var Se=Re,Ae=a(454319);function Oe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=(0,u.Z)(t);if(e){var i=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}var Te=function(t){return{label:t,value:t}},Pe=function(t){(0,l.Z)(a,t);var e=Oe(a);function a(t){var r;return(0,n.Z)(this,a),r=e.call(this,t),(0,d.Z)((0,s.Z)(r),"handleChange",(function(t){r.props.onChange(t),r.setState({value:t})})),(0,d.Z)((0,s.Z)(r),"handleSubmission",(function(){r.props.onSubmit(r.state.value)})),r.state={value:null},r}return(0,o.Z)(a,[{key:"render",value:function(){return(0,i.Z)(p.Fragment,{},void 0,(0,i.Z)(Ae.ZP,{inputId:this.props.id,isClearable:this.props.isClearable,onChange:this.handleChange,options:this.props.options.map(Te),placeholder:"Leave note..."}),(0,i.Z)(y.Z,{size:"sm",onClick:this.handleSubmission,style:{marginTop:4}},void 0,this.props.t("submit")))}}]),a}(p.Component);Pe.defaultProps={options:[],isClearable:!1,onChange:function(){},onSubmit:function(){}};var _e,Ce,ke=Pe;function De(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function xe(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?De(Object(a),!0).forEach((function(e){(0,d.Z)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):De(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=(0,u.Z)(t);if(e){var i=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}function we(t,e){for(var a=new RegExp(e,"i"),r=[],i=0;i<t.length;i++){var n=t[i],o=!1;if(n.type.search(a)>-1)o=!0;else for(var s in n.value)if(s.search(a)>-1||String(n.value[s]).search(a)>-1){o=!0;break}o&&r.push(n)}return r}var Ne=function(t){(0,l.Z)(a,t);var e=Le(a);function a(t){var r;return(0,n.Z)(this,a),r=e.call(this,t),(0,d.Z)((0,s.Z)(r),"handleSearch",(function(t){qt()(t,"")?r.setState({filtered:r.props.actions,searchWords:[]}):r.setState({filtered:we(r.props.actions,t),searchWords:[t]})})),(0,d.Z)((0,s.Z)(r),"renderListGroupItem",(function(t,e){var a=r.state.filtered.length-1,n=r.state.filtered[a-t],o=new Date(n.absoluteTime),s="",l=n.value,c="".concat(n.type," | Time: ").concat(o.toLocaleTimeString()," - ").concat(o.toLocaleDateString());for(var u in l)if(xt()(l,u)&&"showDecision"!==u){var d=l[u];wt()(d)||"plotId"===u||(s+="".concat(u,": ").concat(It()(d)?JSON.stringify(d):d),s+="\t")}var p=(0,i.Z)(Pt.Z,{id:"history-note-popover-".concat(t),style:{width:250}},void 0,(0,i.Z)(_t.Z,{},void 0,r.props.t("leave-note")),(0,i.Z)(Ct.Z,{},void 0,(0,i.Z)(ke,{options:["Did you consider any confounding variables?","You should check model diagnostics"],onSubmit:function(e){var a=e.value,i=xe({},r.state.notes);i[t]?i[t]+="\n".concat(a):i[t]=a,r.setState({notes:i})},t:r.props.t})));return(0,i.Z)(Tt.Z,{},void 0,(0,i.Z)("div",{className:"actionNote"},void 0,(0,i.Z)("span",{className:"title"},void 0,(0,i.Z)(Ot(),{searchWords:r.state.searchWords,autoEscape:!0,textToHighlight:c}))),(0,i.Z)("div",{className:"actionNote"},void 0,(0,i.Z)(Ot(),{searchWords:r.state.searchWords,autoEscape:!0,textToHighlight:s})),r.state.notes[t]?(0,i.Z)(m.Z,{variant:"warning"},void 0,r.state.notes[t]):null,r.props.instructorFeedback?(0,i.Z)(kt.Z,{trigger:"click",placement:"left",rootClose:!0,overlay:p},void 0,(0,i.Z)(y.Z,{variant:"info",size:"sm",style:{position:"absolute",top:5,right:45}},void 0,_e||(_e=(0,i.Z)("i",{className:"fas fa-sticky-note"})))):null,(0,i.Z)(y.Z,{variant:"success",size:"sm",onClick:r.handleRecreationFactory(t),style:{position:"absolute",top:5,right:5}},void 0,Ce||(Ce=(0,i.Z)("i",{className:"fas fa-redo"}))))})),(0,d.Z)((0,s.Z)(r),"handleRecreationFactory",(function(t){var e=r.state.filtered.length-1,a=r.state.filtered[e-t];return function(){var t,e=xe(xe({},r.props),a.value);switch(a.type){case"DATA_EXPLORER_BARCHART":t=p.createElement(Bt.Z,e);break;case"DATA_EXPLORER_BOXPLOT":t=p.createElement(Ht.Z,e);break;case"DATA_EXPLORER_CONTOURPLOT":t=p.createElement(Xt.Z,e);break;case"DATA_EXPLORER_HISTOGRAM":t=p.createElement(Mt.Z,e);break;case"DATA_EXPLORER_HEATMAP":t=p.createElement(Vt.Z,e);break;case"DATA_EXPLORER_LINEPLOT":t=p.createElement(jt.Z,e);break;case"DATA_EXPLORER_MAP":t=p.createElement(zt.Z,e);break;case"DATA_EXPLORER_MOSAIC":t=p.createElement(Ut.Z,e);break;case"DATA_EXPLORER_PIECHART":t=p.createElement(Qt.Z,e);break;case"DATA_EXPLORER_QQPLOT":t=p.createElement(Gt.Z,e);break;case"DATA_EXPLORER_SCATTERPLOT":t=p.createElement(Wt.Z,e);break;case"DATA_EXPLORER_SPLOM":t=p.createElement(Kt.Z,e);break;case"DATA_EXPLORER_VIOLINPLOT":t=p.createElement(Jt.Z,e);break;case"DATA_EXPLORER_FREQUENCY_TABLE":t=p.createElement(Yt.Z,e);break;case"DATA_EXPLORER_CONTINGENCY_TABLE":t=p.createElement($t.Z,e);break;case"DATA_EXPLORER_TESTS_ANOVA":t=p.createElement(te.Z,e);break;case"DATA_EXPLORER_TESTS_KRUSKAL":t=p.createElement(re.Z,e);break;case"DATA_EXPLORER_TESTS_MEAN":t=p.createElement(ie.Z,e);break;case"DATA_EXPLORER_TESTS_TWO_SAMPLE_MEAN":t=p.createElement(ne.Z,e);break;case"DATA_EXPLORER_TESTS_CHISQUARE":t=p.createElement(ee.Z,e);break;case"DATA_EXPLORER_TESTS_CORRTEST":t=p.createElement(ae.Z,e);break;case"DATA_EXPLORER_TESTS_PROPTEST":t=p.createElement(oe.Z,e);break;case"DATA_EXPLORER_TESTS_TWO_SAMPLE_PROPTEST":t=p.createElement(se.Z,e);break;case"DATA_EXPLORER_KMEANS":t=p.createElement(Ze.Z,e);break;case"DATA_EXPLORER_HIERARCHICAL_CLUSTERING":t=p.createElement(he.Z,e);break;case"DATA_EXPLORER_DECISION_TREE":t=p.createElement(le.Z,e);break;case"DATA_EXPLORER_LASSO_REGRESSION":t=p.createElement(ce.Z,e);break;case"DATA_EXPLORER_LINEAR_REGRESSION":t=p.createElement(fe.Z,e);break;case"DATA_EXPLORER_LOGISTIC_REGRESSION":t=p.createElement(ue.Z,e);break;case"DATA_EXPLORER_MULTIPLE_REGRESSION":t=p.createElement(de.Z,e);break;case"DATA_EXPLORER_NAIVE_BAYES":t=p.createElement(ge.Z,e);break;case"DATA_EXPLORER_PCA":t=p.createElement(ve.Z,e);break;case"DATA_EXPLORER_RANDOM_FOREST":t=p.createElement(pe.Z,e)}r.props.onCreated(t)}})),r.state={filtered:t.actions,searchWords:[],nActions:t.actions.length,notes:{}},r}return(0,o.Z)(a,[{key:"render",value:function(){return this.state.filtered?(0,i.Z)("div",{style:this.props.style},void 0,(0,i.Z)(Se,{onClick:this.handleSearch}),(0,i.Z)("div",{style:{marginLeft:0,overflowY:"scroll",height:.75*window.innerHeight,border:"solid 1px rgba(0,0,0,0.125)"}},void 0,(0,i.Z)(St(),{initialIndex:0,itemRenderer:this.renderListGroupItem,length:this.state.filtered.length,type:"simple",pageSize:50,minSize:10})),(0,i.Z)("span",{className:"title",style:{float:"right",marginRight:20}},void 0,this.state.filtered.length," ",this.props.t("actions"))):null}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.actions.length>e.nActions?{filtered:t.actions,nActions:t.actions.length}:null}}]),a}(p.Component);Ne.defaultProps={actions:[],instructorFeedback:!1};var qe,Fe=Ne,Ie=a(320765),He=a(423184),Be=a(431926),Xe=a.n(Be),Ve=a(308473),Me=a(806258),je=a(612249),ze=a(150275);function Ue(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=(0,u.Z)(t);if(e){var i=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}var Qe=function(t){(0,l.Z)(a,t);var e=Ue(a);function a(){var t;return(0,n.Z)(this,a),t=e.call(this),(0,d.Z)((0,s.Z)(t),"toggleFullscreen",(function(){t.setState({fullscreen:!t.state.fullscreen})})),t.state={fullscreen:!1},t}return(0,o.Z)(a,[{key:"render",value:function(){var t=this.props.t;return(0,i.Z)(p.Fragment,{},void 0,(0,i.Z)(ze.Z,{id:"fullscreen_tooltip",placement:"bottom",tooltip:t("toggle-fullscreen")},void 0,(0,i.Z)(y.Z,{variant:"outline-danger",size:"sm",onClick:this.toggleFullscreen},void 0,qe||(qe=(0,i.Z)("div",{className:"fa fa-window-maximize"})))),(0,i.Z)(S.Z,{show:this.state.fullscreen,onHide:this.toggleFullscreen,dialogClassName:"modal-100w"},void 0,(0,i.Z)(S.Z.Header,{closeButton:!0},void 0,(0,i.Z)(S.Z.Title,{as:"h1"},void 0,this.props.header?this.props.header:t("fullscreen-display"))),(0,i.Z)(S.Z.Body,{className:"data-explorer-fullscreen-output",style:{height:.75*window.innerHeight}},void 0,this.props.body),(0,i.Z)(S.Z.Footer,{},void 0,(0,i.Z)(y.Z,{onClick:this.toggleFullscreen},void 0,t("close")))))}}]),a}(p.Component);Qe.defaultProps={header:null};var Ge,Ke,We=Qe,Je=a(454530),Ye=a(618245),$e=a(188304),ta=a(223444),ea=function(t){for(var e=[],a=function(a){var r,n=t.filters[a],o=void 0;if(F()(n.value))o=n.value.map((function(t,e){return(0,i.Z)(ta.Z,{variant:"secondary",style:{marginRight:4}},e,t)}));else if(It()(n.value)){var s=$()(n.value);o=new Array(s.length);for(var l=0;l<s.length;l++){var c=s[l];o[l]=(0,i.Z)(ta.Z,{variant:"secondary",style:{marginRight:4}},c,r||(r=(0,i.Z)("b",{},void 0,c,": ")),n.value[c])}}e.push((0,i.Z)($e.Z.Item,{},a,(0,i.Z)("span",{className:"title"},void 0,n.id,": "),o,t.removeButtons?(0,i.Z)(y.Z,{variant:"danger",size:"sm",style:{float:"right"},onClick:function(){t.onRemove(a)}},void 0,Ge||(Ge=(0,i.Z)("i",{className:"fas fa-times"}))):null))},r=0;r<t.filters.length;r++)a(r);return(0,i.Z)($e.Z,{},void 0,e)};function aa(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function ra(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=(0,u.Z)(t);if(e){var i=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}var ia=function(t){(0,l.Z)(a,t);var e=ra(a);function a(){var t;return(0,n.Z)(this,a),t=e.call(this),(0,d.Z)((0,s.Z)(t),"toggleOverlay",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J();t.setState({show:!t.state.show},e)})),t.state={show:!1},t}return(0,o.Z)(a,[{key:"render",value:function(){var t=this;return(0,i.Z)(p.Fragment,{},void 0,(0,i.Z)(ze.Z,{id:"filter_info_tooltip",placement:"bottom",tooltip:this.props.t("show-dataset-info")},void 0,p.createElement(y.Z,{variant:"outline-danger",size:"sm",ref:function(e){t.button=e},style:this.props.style,onClick:function(){t.toggleOverlay((function(){t.state.show?t.timeout=setTimeout(t.toggleOverlay,5e3):t.timeout&&clearTimeout(t.timeout)}))}},Ke||(Ke=(0,i.Z)("i",{className:"fas fa-info"})))),(0,i.Z)(Ye.Z,{target:this.button,show:this.state.show,placement:"left"},void 0,(function(e){e.placement,e.scheduleUpdate,e.arrowProps;var a=(0,Je.Z)(e,["placement","scheduleUpdate","arrowProps"]),n=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?aa(Object(a),!0).forEach((function(e){(0,d.Z)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):aa(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({backgroundColor:"lightcoral",padding:"10px 10px",marginRight:"5px",borderRadius:3,zIndex:1002},a.style);return t.props.filters?p.createElement("pre",(0,r.Z)({},a,{style:n}),(0,i.Z)(ea,{filters:t.props.filters}),t.props.restoreButton?(0,i.Z)(ze.Z,{tooltip:t.props.t("restore-dataset-tooltip"),placement:"right"},void 0,(0,i.Z)(y.Z,{size:"sm",variant:"danger",onClick:function(){t.props.onActivateFilters(t.props.filters)},style:{marginTop:12}},void 0,t.props.t("restore-dataset"))):null):p.createElement("pre",(0,r.Z)({},a,{style:n}),t.props.t("entire-dataset-used"))})))}}]),a}(p.Component);ia.defaultProps={filters:null,onActivateFilters:function(){},restoreButton:!1,style:{}};var na=ia,oa=v()("isle:data-explorer"),sa=/<button[\s\S]*<\/button>/,la=function(t,e,a,r,n,o,s){return(0,i.Z)(He.Z,{style:{float:"right",top:"-4px",zIndex:2}},void 0,(0,i.Z)(na,{filters:n,onActivateFilters:o,t:s}),(0,i.Z)(We,{header:t,body:e,t:s}),(0,i.Z)(je.Z,{onClick:function(){oa("Clear element with ID ".concat(r)),a(r)},t:s}))},ca=function(t){return(0,i.Z)(p.Fragment,{},void 0,(0,i.Z)("button",{draggable:!0,className:"data-explorer-draggable-bar",onDragStart:function(t){var e=t.target.nextSibling.innerHTML;e=Xe()(e,sa,""),t.dataTransfer.setData("text/plain",e),t.dataTransfer.setData("text/html",e)},onClick:function(t){var e=t.target.nextSibling.outerHTML;e=Xe()(e,sa,""),(0,Me.Z)(e)}},void 0,Ie.a.t("data-explorer:drag-table")),t)};var ua,da,pa=function(t,e,a,r,n,o){var s;if(t.type===Ht.Z||t.type===Bt.Z||t.type===Xt.Z||t.type===Vt.Z||t.type===Mt.Z||t.type===jt.Z||t.type===zt.Z||t.type===Ut.Z||t.type===Qt.Z||t.type===Gt.Z||t.type===Wt.Z||t.type===Kt.Z||t.type===Jt.Z||t.type===ft.Z){var l=t.props;return l.meta&&!l.meta.filters&&(l.meta.filters=r),(0,i.Z)("div",{},e,(0,i.Z)(He.Z,{style:{float:"right",padding:"0.1rem 0.3rem",zIndex:2}},void 0,s||(s=(0,i.Z)(na,{filters:r,onActivateFilters:n,t:o})),(0,i.Z)(je.Z,{onClick:function(){a(e)},t:o})),(0,i.Z)("div",{style:{position:"relative",height:l.layout&&l.layout.height?l.layout.height:300,marginTop:0,marginBottom:40,marginRight:25}},void 0,t))}return t.type===te.Z||t.type===ae.Z||t.type===ee.Z||t.type===re.Z||t.type===ie.Z||t.type===ne.Z||t.type===oe.Z||t.type===se.Z?(0,i.Z)("pre",{},e,la("Test Output",t,a,e,r,n,o),t):t.type===$t.Z||t.type===Yt.Z?(0,i.Z)("pre",{},e,la("Table Output",t,a,e,r,n,o),ca(t)):t.type===fe.Z||t.type===de.Z||t.type===ce.Z||t.type===ue.Z||t.type===ve.Z||t.type===Ze.Z||t.type===ge.Z||t.type===pe.Z?(0,i.Z)("pre",{},e,la("Model Output",t,a,e,r,n,o),ca(t)):t.type===le.Z||t.type===he.Z?(0,i.Z)("pre",{},e,(0,i.Z)(He.Z,{style:{float:"right",padding:"0.1rem 0.3rem",top:"-1px",zIndex:2}},void 0,(0,i.Z)(na,{filters:r,onActivateFilters:n,style:{right:55,position:"absolute"},t:o}),(0,i.Z)(je.Z,{onClick:function(){a(e)},style:{right:-5,position:"absolute"},t:o})),(0,i.Z)("div",{style:{marginTop:25}},void 0,t)):t.type===Ve.Z?(0,i.Z)("pre",{},e,la(t.type,t,a,e,r,n,o),ca(t)):null},fa=a(693171),va=a(938036),ha=a(833562),Za=a(5140),ga=a(964909),ma=a(432261);function ya(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function ba(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ya(Object(a),!0).forEach((function(e){(0,d.Z)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ya(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function Ea(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var a,r=(0,u.Z)(t);if(e){var i=(0,u.Z)(this).constructor;a=Reflect.construct(r,arguments,i)}else a=r.apply(this,arguments);return(0,c.Z)(this,a)}}var Ra=(0,p.lazy)((function(){return Promise.all([a.e(7209),a.e(5771)]).then(a.bind(a,771212))})),Sa=v()("isle:data-explorer"),Aa=(0,at.Z)("data-explorer");function Oa(t,e){if(0===e.length)return!0;for(var a=$()(t),r=0;r<e.length;r++)if(!H()(a,String(e[r])))return!1;return!0}var Ta=function(t){(0,l.Z)(a,t);var e=Ea(a);function a(t){var r;(0,n.Z)(this,a),r=e.call(this,t),(0,d.Z)((0,s.Z)(r),"restoreTransformations",(function(t){var e=r.state;Sa("Restoring transformations...");for(var a=t.length-1;a>=0;a--){var i=t[a];switch(i.type){case Za.gx:if(Sa("Should add transformed variable ".concat(i.value.name)),!Q()(r.props.data,i.value.name)){var n=(0,fa.Z)(i.value.code,e.data);e=r.transformVariable(i.value.name,n,e)}break;case Za.dU:var o=i.value,s=o.name,l=o.variable,c=o.breaks,u=o.catNames;if(Sa("Should add binned variable ".concat(s)),!Q()(r.props.data,s)){var d=e.data[l],p=(0,va.Z)(d,u,c);e=r.transformVariable(s,p,e)}break;case Za.CS:var f=i.value,v=f.name,h=f.firstVar,Z=f.secondVar,g=f.nameMappings,m=f.castNumeric;if(Sa("Should add recoded variable ".concat(v)),!Q()(r.props.data,v)&&e.data[h]){var y=(0,ha.Z)(h,Z,g,e.data,m);e=r.transformVariable(v,y,e)}break;case Za.Jz:e=r.deleteVariable(i.value,e)}}e.data=K()(e.data,1),r.setState(e)})),(0,d.Z)((0,s.Z)(r),"resetStorage",(function(){r.context.store.removeItem(r.id),r.setState({data:null,categorical:[],quantitative:[],ready:!1})})),(0,d.Z)((0,s.Z)(r),"shareData",(function(){var t=r.context;if(t.metadata.store[r.id])t.updateMetadata("store",r.id,null),r.forceUpdate();else{var e={data:r.state.data,quantitative:r.state.quantitative,categorical:r.state.categorical},a=new Blob([JSON.stringify(e)],{type:"application/json"}),i=new File([a],"data.json"),n=new FormData;n.append("file",i),t.uploadFile({formData:n,callback:function(e,a){var i=a.filename,n=t.server+"/"+i;t.updateMetadata("store",r.id,n),r.forceUpdate()},showNotification:!1})}})),(0,d.Z)((0,s.Z)(r),"toggleStudentPlots",(function(){r.setState({showStudentPlots:!r.state.showStudentPlots})})),(0,d.Z)((0,s.Z)(r),"clearOutput",(function(t){var e=r.state.output.slice();e[t]=null,r.setState({output:e})})),(0,d.Z)((0,s.Z)(r),"clearPlots",(function(){r.setState({studentPlots:[]})})),(0,d.Z)((0,s.Z)(r),"onUserAction",(function(t){var e,a=t.value;switch(z()(a)&&(a=JSON.parse(a)),t.type){case"DATA_EXPLORER_SHARE_BARCHART":e=(0,Bt.G)(ba({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_BOXPLOT":e=(0,Ht.I)(ba({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_CONTOURCHART":e=(0,Xt.k)(ba({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_HEATMAP":e=(0,Vt.L)(ba({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_HISTOGRAM":e=(0,Mt.N)(ba({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_LINEPLOT":e=(0,jt.i)(ba({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_MAP":e=(0,zt._)(ba({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_MOSAIC":e=(0,Ut.r)(ba({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_PIECHART":e=(0,Qt.E)(ba({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_QQPLOT":e=(0,Gt._)(ba({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_SCATTERPLOT":e=(0,Wt.s)(ba({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_SPLOM":e=(0,Kt.T)(ba({data:r.state.data},a));break;case"DATA_EXPLORER_SHARE_VIOLINPLOT":e=(0,Jt.O)(ba({data:r.state.data},a))}if(e){for(var i=r.state.studentPlots.slice(),n=JSON.stringify(e),o=!1,s=0;s<i.length;s++)if(i[s].config===n){i[s].count+=1,o=!0;break}o||i.push({config:n,count:1}),r.setState({studentPlots:i})}})),(0,d.Z)((0,s.Z)(r),"onFilters",(function(t){r.setState({filters:t},r.onFilterCreate)})),(0,d.Z)((0,s.Z)(r),"addToOutputs",(function(t){var e=r.state.output.slice();if(F()(t))for(var a=0;a<t.length;a++){var i=pa(t[a],e.length,r.clearOutput,r.state.subsetFilters,r.onFilters,r.props.t);e.push(i)}else{var n=pa(t,e.length,r.clearOutput,r.state.subsetFilters,r.onFilters,r.props.t);e.push(n)}r.setState({output:e})})),(0,d.Z)((0,s.Z)(r),"transformVariable",(function(t,e,a){var i,n,o,s,l;return Sa("Attach transformed variable ".concat(t," to data...")),a?(s=K()(a.data,1),i=a.quantitative.slice(),n=a.categorical.slice(),o=a.groupVars.slice()):(s=K()(r.state.data,1),i=r.state.quantitative.slice(),n=r.state.categorical.slice(),o=r.state.groupVars.slice()),s[t]=e,C()(e)?H()(i,t)||(i.push(t),(l=n.indexOf(t))>0&&(n.splice(l,1),o=n.slice())):(H()(n,t)||(n.push(t),(l=i.indexOf(t))>0&&i.splice(l,1)),o=n.slice()),{data:s,categorical:n,quantitative:i,groupVars:o}})),(0,d.Z)((0,s.Z)(r),"onGenerateTransformedVariable",(function(t,e){var a=r.context;if(Q()(r.props.data,t))return a.addNotification({title:r.props.t("variable-exists"),message:r.props.t("variable-exists-msg"),level:"error",position:"tr"});a.addNotification({title:r.props.t("variable-created"),message:r.props.t("variable-created-msg",{name:t}),level:"success",position:"tr"}),r.setState(ba({},r.transformVariable(t,e)))})),(0,d.Z)((0,s.Z)(r),"onColumnDelete",(function(t){Sa("Should remove variable with name "+t);var e=r.context;r.logAction(Za.Jz,t),e.addNotification({title:r.props.t("variable-removed"),message:r.props.t("variable-removed-msg",{variable:t}),level:"success",position:"tr"});var a=r.deleteVariable(t);a.data=K()(a.data,1),r.setState(a)})),(0,d.Z)((0,s.Z)(r),"onColumnNameChange",(function(t,e){for(var a=r.state,i=$()(r.state.data),n={},o=0;o<i.length;o++){var s=i[o];s===t?n[e]=r.state.data[t]:n[s]=r.state.data[s]}var l=a.quantitative.map((function(a){return a===t?e:a})),c=a.categorical.map((function(a){return a===t?e:a})),u=a.groupVars.map((function(a){return a===t?e:a}));r.setState({data:n,quantitative:l,categorical:c,groupVars:u})})),(0,d.Z)((0,s.Z)(r),"onColumnDrag",(function(t){var e=r.state,a=function(e,a){return e=t.indexOf(String(e)),a=t.indexOf(String(a)),-1===e||-1===a?0:e<a?-1:e>a?1:0},i=e.quantitative.slice().sort(a),n=e.categorical.slice().sort(a),o=e.groupVars.slice().sort(a);r.setState({quantitative:i,categorical:n,groupVars:o})})),(0,d.Z)((0,s.Z)(r),"deleteVariable",(function(t,e){var a,i=e||r.state;return delete(a=e?e.data:K()(r.state.data,1))[t],{data:a,quantitative:i.quantitative.filter((function(e){return e!==t})),categorical:i.categorical.filter((function(e){return e!==t})),groupVars:i.groupVars.filter((function(e){return e!==t})),filters:(i.filters||[]).filter((function(e){return e.id!==t}))}})),(0,d.Z)((0,s.Z)(r),"onFileUpload",(function(t,e){var a=r.context;if(!t){for(var i={},n=$()(e[0]).filter((function(t){return""!==t})),o=0;o<n.length;o++){var s=n[o];i[s]=new Array(e.length)}for(var l=0;l<e.length;l++)for(var c=0;c<n.length;c++){var u=n[c];i[u][l]=e[l][u]}var d=[],p=[];n.forEach((function(t){C()(i[t])?p.push(t):d.push(t)})),r.setState({quantitative:p,categorical:d,data:i},(function(){a.store.setItem(r.id,{data:r.state.data,quantitative:p,categorical:d})}))}})),(0,d.Z)((0,s.Z)(r),"onFilterCreate",(function(){var t={data:r.filterCreate(r.state.data),oldData:r.state.data,subsetFilters:r.state.filters};r.setState(t)})),(0,d.Z)((0,s.Z)(r),"filterCreate",(function(t){for(var e=new Set,a=0;a<r.state.filters.length;a++){var i=r.state.filters[a],n=t[i.id];if(H()(r.state.quantitative,i.id))for(var o=0;o<n.length;o++)n[o]>=i.value.min&&n[o]<=i.value.max||e.add(o);else for(var s=0;s<n.length;s++)H()(i.value,String(n[s]))||e.add(s)}for(var l=$()(t),c={},u=t[l[0]].length,d=0;d<l.length;d++){c[l[d]]=[]}for(var p=[],f=0;f<u;f++)if(!e.has(f)){for(var v=0;v<l.length;v++){var h=l[v];c[h].push(t[h][f])}t.id?p.push(t.id[f]):p.push(f+1)}return c.id=p,c})),(0,d.Z)((0,s.Z)(r),"onFilterAdd",(function(){var t=r.restoreData(),e={data:r.filterCreate(t),oldData:t,subsetFilters:r.state.filters};r.setState(e)})),(0,d.Z)((0,s.Z)(r),"restoreData",(function(){var t,e,a=$()(r.state.data),i=$()(r.state.oldData);r.props.data?(t=r.props.data,e=K()(r.props.data,1)):(t=r.state.unaltered.data,e=K()(t,1));for(var n=[],o=0;o<r.props.quantitative.length;o++)n.push(String(r.props.quantitative[o]));for(var s=0;s<r.props.categorical.length;s++)n.push(String(r.props.categorical[s]));for(var l=r.state.data.id,c=t[i[0]].length,u=r.state.oldData.id||et()(1,c+1,1),d=0;d<i.length;d++){var p=i[d];if("id"!==p&&!H()(n,p)){e[p]=new Array(c).fill(null);for(var f=0;f<u.length;f++){var v=u[f]-1;e[p][v]=r.state.oldData[p][f]}}}for(var h=0;h<a.length;h++){var Z=a[h];if("id"!==Z&&!H()(n,Z)){Sa("Handle inserted variable: "+Z),e[Z]||(e[Z]=new Array(c).fill(null));for(var g=0;g<l.length;g++){var m=l[g]-1;e[Z][m]=r.state.data[Z][g]}}}return e})),(0,d.Z)((0,s.Z)(r),"onRestoreData",(function(){var t=r.restoreData();r.setState({data:t,subsetFilters:null,filters:[]})})),(0,d.Z)((0,s.Z)(r),"on2dSelection",(function(t,e){var a=r.state.filters.filter((function(e){return e.id!==t.x&&e.id!==t.y}));a.push({id:t.x,value:{min:e.range.x[0],max:e.range.x[1]}}),a.push({id:t.y,value:{min:e.range.y[0],max:e.range.y[1]}}),r.setState({filters:a})})),(0,d.Z)((0,s.Z)(r),"onQQPlotSelection",(function(t,e){if(e.range&&e.range.y){var a=r.state.filters.filter((function(e){return e.id!==t})),i=e.range.y;a.push({id:t,value:{min:i[0],max:i[1]}}),r.setState({filters:a})}})),(0,d.Z)((0,s.Z)(r),"onBarchartSelection",(function(t,e){var a=r.state.filters.filter((function(e){return e.id!==t}));a.push({id:t,value:e.range.x}),r.setState({filters:a})})),(0,d.Z)((0,s.Z)(r),"onHistogramSelection",(function(t,e){if(e.points&&e.points[0]){var a=e.points[0],i=a.fullData.xbins.size,n=e.points[e.points.length-1],o=r.state.filters.filter((function(e){return e.id!==t}));o.push({id:t,value:{min:a.x-i/2,max:n.x+i/2}}),r.setState({filters:o})}}));var i,o,l,c=t.data;t.data?(i=t.quantitative,o=t.categorical,l=t.categorical.slice()):(i=[],o=[],l=[]);var u=!1,p=!0;return N()(c)&&(i.length>0||o.length>0)&&(u=!0,p=Oa(c,i.concat(o))),r.id=t.id||Aa(t),r.state={data:c,quantitative:i,categorical:o,validVariables:p,output:[],groupVars:l,ready:u,showStudentPlots:!1,openedNav:t.opened||(F()(t.questions)&&t.questions.length>0?"questions":"data"),studentPlots:[],subsetFilters:null,unaltered:{data:t.data,quantitative:t.quantitative,categorical:t.categorical},filters:[]},r.logAction=function(t,e){r.state.subsetFilters&&(e=ba(ba({},e),{},{filters:r.state.subsetFilters})),r.context.log({id:r.id,type:t,value:e})},r}return(0,o.Z)(a,[{key:"componentDidMount",value:function(){var t=this,e=this.context;if(!this.props.data)if(e.metadata.store[this.id]){var a=e.metadata.store[this.id];(0,g.AVB)(a).then((function(e){var a=(e.categorical||[]).slice();t.setState({data:e.data,quantitative:e.quantitative,categorical:e.categorical,groupVars:a,ready:!0,unaltered:{data:e.data,quantitative:e.quantitative,categorical:e.categorical}})}))}else e.store.getItem(this.id).then((function(e){var a=e.quantitative,r=void 0===a?[]:a,i=e.categorical,n=void 0===i?[]:i,o=e.data,s=void 0===o?null:o,l=!1;X()(s)&&(s=null),M()(s)||(l=!0);var c=(n||[]).slice();t.setState({data:s,quantitative:r,categorical:n,groupVars:c,ready:l,unaltered:{data:s,quantitative:r,categorical:n}})})).catch((function(t){Sa(t)}));if(e.currentUserActions){var r=e.currentUserActions[this.id];this.props.data&&L()(r)&&this.restoreTransformations(r)}this.unsubscribe=e.subscribe((function(a,r){if(a===ga.u){var i=r[t.id];t.props.data&&L()(i)&&t.restoreTransformations(i)}else if(a===ga.KI&&e.metadata.store[t.id]){var n=e.metadata.store[t.id];(0,g.AVB)(n).then((function(e){var a=(e.categorical||[]).slice();t.setState({data:e.data,quantitative:e.quantitative,categorical:e.categorical,groupVars:a,ready:!0})}))}}))}},{key:"componentDidUpdate",value:function(t,e){Sa("Component did update..."),this.state.output!==e.output&&this.outputPanel&&this.outputPanel.scrollToBottom()}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var t=this;if(Sa("Render component..."),!this.state.data)return(0,i.Z)(ht,{title:this.props.t("data-explorer"),onUpload:this.onFileUpload});if(!this.state.ready){var e=$()(this.state.data);return(0,i.Z)(O.Z,{},void 0,(0,i.Z)(O.Z.Header,{as:"h3"},void 0,this.props.t("data-explorer")),(0,i.Z)(O.Z.Body,{},void 0,(0,i.Z)("h4",{},void 0,this.props.t("select-quantitative-categorical"),":"),(0,i.Z)(rt.Z,{legend:this.props.t("quantitative"),options:e,defaultValue:this.state.quantitative,multi:!0,onChange:function(e){t.setState({quantitative:e||[]})}}),(0,i.Z)(rt.Z,{legend:this.props.t("categorical"),options:e,defaultValue:this.state.categorical,multi:!0,onChange:function(e){t.setState({categorical:e||[]})}}),(0,i.Z)(y.Z,{disabled:D()(this.state.categorical)&&D()(this.state.quantitative),onClick:function(){t.setState({groupVars:t.state.categorical.slice(),ready:!0},(function(){var e=t.context,a={data:t.state.data,quantitative:t.state.quantitative,categorical:t.state.categorical};e.store.setItem(t.id,a),t.setState({unaltered:a})}))}},void 0,this.props.t("submit")),(0,i.Z)(gt.Z,{data:this.state.data,id:this.id+"_table"})))}if(X()(this.state.data))return(0,i.Z)(m.Z,{variant:"danger"},void 0,this.props.t("data-empty"));if(!this.state.validVariables)return ua||(ua=(0,i.Z)(m.Z,{variant:"danger"},void 0,(0,i.Z)(h.c,{i18nKey:"variables-invalid-alert",ns:"DataExplorer"},void 0,"The ",(0,i.Z)("b",{},void 0,"quantitative")," or ",(0,i.Z)("b",{},void 0,"categorical")," data arrays contain variable names not present in the ",(0,i.Z)("b",{},void 0,"data")," object.")));var a=this.context,n=F()(this.props.questions)&&this.props.questions.length>0,o=this.props.style.height||.9*window.innerHeight-165;return(0,i.Z)(E.Z,{className:"no-gutter data-explorer",style:this.props.style},void 0,(0,i.Z)(R.Z,{xs:6,md:6},void 0,(0,i.Z)(O.Z,{style:{height:this.props.style.height,minHeight:this.props.style.height||.9*window.innerHeight,padding:0}},void 0,(0,i.Z)(b.Z,{className:"data-explorer-navbar",onSelect:function(e){return t.setState({openedNav:e})}},void 0,(0,i.Z)(A.Z,{},void 0,n?(0,i.Z)(A.Z.Item,{className:"explorer-data-nav"},void 0,(0,i.Z)(A.Z.Link,{eventKey:"questions",active:"questions"===this.state.openedNav},void 0,this.props.t("questions"))):null,this.props.dataTable?(0,i.Z)(A.Z.Item,{className:"explorer-data-nav"},void 0,(0,i.Z)(A.Z.Link,{eventKey:"data",active:"data"===this.state.openedNav},void 0,this.props.t("data"))):null,this.props.editor?(0,i.Z)(A.Z.Item,{className:"explorer-editor-nav"},void 0,(0,i.Z)(A.Z.Link,{active:"editor"===this.state.openedNav,eventKey:"editor"},void 0,this.props.editorTitle?this.props.editorTitle:this.props.t("report"))):null,this.props.history?(0,i.Z)(A.Z.Item,{className:"explorer-editor-nav"},void 0,(0,i.Z)(A.Z.Link,{active:"history"===this.state.openedNav,eventKey:"history"},void 0,this.props.t("history"))):null,this.props.tabs.length>0?this.props.tabs.map((function(e,a){return(0,i.Z)(A.Z.Item,{className:"explorer-tabs-nav"},a,(0,i.Z)(A.Z.Link,{active:t.state.openedNav===e.title,eventKey:e.title},void 0,e.title))})):null),(0,i.Z)(p.Suspense,{fallback:da||(da=(0,i.Z)(y.Z,{variant:"secondary",size:"sm",className:"hide-toolbox-button",disabled:!0},void 0,"Loading..."))},void 0,(0,i.Z)(Ra,{id:"".concat(this.id,"-toolbox"),models:this.props.models,tables:this.props.tables,statistics:this.props.statistics,plots:this.props.plots,tests:this.props.tests,quantitative:this.state.quantitative,originalQuantitative:this.props.quantitative,categorical:this.state.categorical,logAction:this.logAction,onCreated:this.addToOutputs,data:this.state.data,showTestDecisions:this.props.showTestDecisions,onPlotDone:this.outputPanel?this.outputPanel.scrollToBottom:J(),groupingVariables:this.state.groupVars,on2dSelection:this.on2dSelection,onQQPlotSelection:this.onQQPlotSelection,transformer:this.props.transformer,onBarchartSelection:this.onBarchartSelection,showHistogramDensityOption:this.props.histogramDensities,onGenerateTransformedVariable:this.onGenerateTransformedVariable,onHistogramSelection:this.onHistogramSelection,onCategoricalGenerate:function(e,a){var r=e.slice();t.setState({categorical:e,groupVars:r,data:a})},onQuantitativeGenerate:function(e,a){t.setState({quantitative:e,data:a})},onBothGenerate:function(e,a,r){t.setState({quantitative:e,categorical:a,groupVars:a.slice(),data:r})},onTutorialStart:this.props.onTutorialStart,onTutorialCompletion:this.props.onTutorialCompletion}))),(0,i.Z)(O.Z.Body,{style:{overflowY:"auto"}},void 0,n?(0,i.Z)(ut.Z,{id:this.id+"_questions",height:o,className:"data-explorer-questions",style:{display:"questions"!==this.state.openedNav?"none":null}},void 0,this.props.questions):null,(0,i.Z)("div",{style:{display:"data"!==this.state.openedNav?"none":null}},void 0,this.props.data||a.metadata.store[this.id]?null:(0,i.Z)(y.Z,{size:"small",onClick:this.resetStorage,style:{position:"absolute",top:"80px",zIndex:2}},void 0,this.props.t("clear-data")),this.props.data?null:(0,i.Z)(dt.Z,{owner:!0},void 0,(0,i.Z)(y.Z,{size:"small",onClick:this.shareData,style:{position:"absolute",top:"80px",left:"140px",zIndex:2}},void 0,a.metadata.store[this.id]?this.props.t("unshare"):this.props.t("share"))),p.createElement(gt.Z,(0,r.Z)({},this.props.dataTableProps,{data:this.state.data,dataInfo:this.props.dataInfo,undeletableVars:$()(this.props.data),filters:this.state.filters,onFilteredChange:function(e){Sa("Filters have changed..."),t.setState({filters:e})},onColumnDelete:this.onColumnDelete,onColumnNameChange:this.onColumnNameChange,onColumnDrag:this.onColumnDrag,deletable:!0,id:this.id+"_table"})),(0,i.Z)(E.Z,{},void 0,(0,i.Z)(R.Z,{md:4},void 0,this.state.filters.length>0&&this.state.subsetFilters!==this.state.filters?(0,i.Z)(vt.Z,{placement:"top",overlay:(0,i.Z)(T.Z,{},void 0,this.props.t("create-filtered-dataset-tooltip"))},void 0,(0,i.Z)(y.Z,{onClick:function(){t.state.subsetFilters?t.onFilterAdd():t.onFilterCreate()},variant:"secondary",size:"xsmall",style:{float:"left"}},void 0,this.props.t("create-filtered-dataset"))):null),(0,i.Z)(R.Z,{md:8},void 0,this.state.subsetFilters?(0,i.Z)("div",{className:"data-explorer-subset-filter-display"},void 0,(0,i.Z)("p",{},void 0,(0,i.Z)("span",{style:{color:"white",paddingLeft:2}},void 0,this.props.t("filtered"),":"),this.state.subsetFilters?(0,i.Z)(vt.Z,{placement:"top",overlay:(0,i.Z)(T.Z,{},void 0,this.props.t("restore-original-dataset-tooltip"))},void 0,(0,i.Z)(y.Z,{onClick:this.onRestoreData,variant:"secondary",size:"small",style:{float:"right"}},void 0,this.props.t("restore-original-dataset"))):null),(0,i.Z)(ea,{filters:this.state.subsetFilters,removeButtons:!0,onRemove:function(e){Sa("Removing filter at position "+e);var a=t.state.subsetFilters.slice();a.splice(e,1),a.length>0?t.setState({data:t.state.oldData,filters:a},t.onFilterCreate):t.onRestoreData()}})):null))),this.props.history?(0,i.Z)(Fe,{actions:this.context.currentUserActions[this.id],style:{display:"history"!==this.state.openedNav?"none":null},onCreated:this.addToOutputs,logAction:this.logAction,session:this.context,data:this.state.data,quantitative:this.state.quantitative,categorical:this.state.categorical,t:this.props.t}):null,this.props.editor?p.createElement(it.Z,(0,r.Z)({},this.props.editorProps,{mode:this.props.reportMode,id:this.id+"_editor",style:{display:"editor"!==this.state.openedNav?"none":null},submitButton:!0})):null,this.props.tabs.map((function(e,a){return t.state.openedNav===e.title?e.content:null}))))),(0,i.Z)(R.Z,{xs:6,md:6},void 0,(0,i.Z)("div",{className:"card card-default",style:{height:this.props.style.height,minHeight:this.props.style.height||.9*window.innerHeight,padding:0}},void 0,(0,i.Z)("div",{className:"card-header clearfix"},void 0,(0,i.Z)("h3",{className:"data-explorer-output-header"},void 0,this.props.t("output")),(0,i.Z)(dt.Z,{owner:!0},void 0,(0,i.Z)(S.Z,{show:this.state.showStudentPlots,onHide:this.toggleStudentPlots,dialogClassName:"modal-100w"},void 0,(0,i.Z)(S.Z.Header,{closeButton:!0},void 0,(0,i.Z)(S.Z.Title,{},void 0,this.props.t("plots"))),(0,i.Z)(S.Z.Body,{style:{height:.8*window.innerHeight,overflowY:"scroll"}},void 0,this.state.studentPlots.length>0?(0,i.Z)(ct,{},void 0,this.state.studentPlots.map((function(e,a){var r=JSON.parse(e.config);return(0,i.Z)("div",{style:{height:"450px"}},a,(0,P.isPrimitive)(r)?(0,i.Z)(Zt.Z,{code:r,libraries:["MASS"]}):(0,i.Z)(ft.Z,{data:r.data,layout:r.layout,removeButtons:!0}),(0,i.Z)("span",{},void 0,(0,i.Z)("b",{},void 0,t.props.t("count"),": "),e.count))}))):(0,i.Z)(O.Z,{body:!0,className:"bg-light"},void 0,this.props.t("no-plots-yet"))),(0,i.Z)(S.Z.Footer,{},void 0,(0,i.Z)(y.Z,{variant:"danger",onClick:this.clearPlots},void 0,this.props.t("clear-plots")),(0,i.Z)(y.Z,{onClick:this.toggleStudentPlots},void 0,this.props.t("close")))),(0,i.Z)(y.Z,{variant:"secondary",size:"sm",style:{float:"right"},onClick:this.toggleStudentPlots},void 0,this.props.t("open-shared-plots")),(0,i.Z)(pt.Z,{returnFullObject:!0,for:[this.id],onDatum:this.onUserAction}))),p.createElement(Et,{output:this.state.output,ref:function(e){t.outputPanel=e}}),(0,i.Z)(y.Z,{size:"sm",variant:"outline-danger",block:!0,onClick:function(){t.setState({output:[]})}},void 0,this.props.t("clear-all")))))}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(!t.data)return null;var a={};return t.data!==e.unaltered.data&&(a.data=t.data),t.quantitative!==e.unaltered.quantitative&&(a.quantitative=t.quantitative),t.categorical!==e.unaltered.categorical&&(a.categorical=t.categorical),a.validVariables=Oa(t.data,t.quantitative.concat(t.categorical)),X()(a)?null:(a.unaltered={data:t.data,quantitative:t.quantitative,categorical:t.categorical},a)}}]),a}(p.Component);Ta.defaultProps={data:{},dataInfo:{info:"",name:"",variables:null,showOnStartup:!1},dataTable:!0,dataTableProps:{},history:!1,tabs:[],questions:[],transformer:!0,statistics:["Mean","Median","Min","Max","Range","Interquartile Range","Standard Deviation","Variance","Correlation","Correlation Matrix","Skewness","Excess Kurtosis","First Quartile","Third Quartile","Quantile","Five-Number Summary"],plots:["Bar Chart","Pie Chart","Mosaic Plot","Histogram","Box Plot","Line Plot","Scatterplot","Scatterplot Matrix","Heat Map","Contour Chart","Violin Plot","QQ Plot"],tables:["Frequency Table","Contingency Table"],tests:["One-Sample Mean Test","Two-Sample Mean Test","One-Way ANOVA","One-Sample Proportion Test","Two-Sample Proportion Test","Correlation Test","Chi-squared Independence Test","Kruskal-Wallis Test"],models:["Simple Linear Regression","Multiple Linear Regression","LASSO","Decision Tree","Random Forest","Logistic Regression","Naive Bayes","PCA","Hierarchical Clustering","kmeans"],opened:null,categorical:[],quantitative:[],editor:!0,editorProps:null,editorTitle:null,reportMode:"individual",histogramDensities:!0,showTestDecisions:!0,onTutorialCompletion:function(){},onTutorialStart:function(){},style:{}},Ta.contextType=mt.Z;var Pa=(0,Z.Z)("data-explorer")((0,ma.W)(Ta))},833562:function(t,e,a){"use strict";a(111246);var r=a(671655),i=a(614972),n=a.n(i),o=a(431926),s=a.n(o);function l(t){return(0,r.isPrimitive)(t)?s()(t,".","[dot]"):t}e.Z=function(t,e,a,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=[],s=r[t];if(!a)return s;if(i){if(n()(e))for(var c=0;c<s.length;c++){var u=s[c],d=Number(a[l(u)]);o.push(d)}else for(var p=r[e],f=0;f<s.length;f++){var v=l(s[f]),h=l(p[f]),Z=a[v+"-"+h];o.push(Number(Z))}return o}if(n()(e))for(var g=0;g<s.length;g++){var m=s[g],y=a[l(m)];"null"!==y&&"NA"!==y||(y=null),o.push(y)}else for(var b=r[e],E=0;E<s.length;E++){var R=l(s[E]),S=l(b[E]),A=a[R+"-"+S];o.push(A)}return o}},938036:function(t,e,a){"use strict";var r=a(376677),i=a.n(r),n=a(817729),o=a(180381),s=a.n(o);e.Z=function(t,e,a){for(var r=[],o=0;o<t.length;o++){var l=void 0,c=t[o];if((0,n.isPrimitive)(c)&&!s()(c))for(var u=0;i()(l);)u>=a.length||c<a[u]?l=e[u]:u+=1;else l=null;r.push(l)}return r}},693171:function(t,e,a){"use strict";var r=a(217626),i=a(711746),n=a(857906),o=a.n(n),s=a(989202),l=a.n(s),c=a(808628),u=a.n(c),d=a(439402),p=a.n(d),f=a(180909),v=a.n(f),h=a(951735),Z=a.n(h),g=a(636734),m=a.n(g),y=a(614972),b=a.n(y),E=a(123950),R=[u(),v(),p(),o(),l()];e.Z=function(t,e){var a=[];for(var n in e)if(m()(e,n))for(var o=0;o<e[n].length;o++){Z()(a[o])||(a[o]={});var s=e[n][o];a[o][n]=b()(s)?NaN:s}for(var l=(0,r.Z)(Function,["datum"].concat((0,i.Z)(E),[t])),c=new Array(a.length),u=0;u<a.length;u++)c[u]=l.apply(void 0,[a[u]].concat(R));return c}},806258:function(t,e){"use strict";e.Z=function(t){var e=document.createElement("div");e.innerHTML=t,e.style.position="fixed",e.style.opacity=0,e.style.pointerEvents="none",document.body.appendChild(e),window.getSelection().removeAllRanges();var a=document.createRange();a.selectNode(e),window.getSelection().addRange(a),document.execCommand("copy"),document.body.removeChild(e)}},717932:function(t,e){"use strict";e.Z=function t(e,a,r){if(!(r<=0)){var i=(a-e.scrollTop)/r*10;setTimeout((function(){e.scrollTop=e.scrollTop+i,e.scrollTop!==a&&t(e,a,r-10)}),10)}}}}]);