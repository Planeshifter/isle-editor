(window.webpackJsonp=window.webpackJsonp||[]).push([[205],{1723:function(t,e,n){"use strict";var i=function(t,e){return t+o(e)},o=function(t){return null===t||"boolean"==typeof t||void 0===t?"":"number"==typeof t?t.toString():"string"==typeof t?t:Array.isArray(t)?t.reduce(i,""):function(t){return Object.prototype.hasOwnProperty.call(t,"props")}(t)&&Object.prototype.hasOwnProperty.call(t.props,"children")?o(t.props.children):""};o.default=o,t.exports=o},3340:function(t,e,n){"use strict";var i=n(353),o=Object(i.a)((function(){return Promise.all([n.e(6),n.e(370)]).then(n.bind(null,4550))}));e.a=o},3341:function(t,e,n){"use strict";var i=n(353),o=Object(i.a)((function(){return Promise.all([n.e(0),n.e(6),n.e(382)]).then(n.bind(null,4551))}));e.a=o},416:function(t,e,n){"use strict";var i,o=n(348),s=n(347),r=n(351),a=n.n(r),c=n(422),u=n(0),l=n.n(u),p=n(426),d=n(425),f=((i={})[p.b]="show",i[p.a]="show",i),h=l.a.forwardRef((function(t,e){var n=t.className,i=t.children,r=Object(s.a)(t,["className","children"]),h=Object(u.useCallback)((function(t){Object(d.a)(t),r.onEnter&&r.onEnter(t)}),[r]);return l.a.createElement(p.e,Object(o.a)({ref:e,addEndListener:c.a},r,{onEnter:h}),(function(t,e){return l.a.cloneElement(i,Object(o.a)({},e,{className:a()("fade",n,i.props.className,f[t])}))}))}));h.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},h.displayName="Fade",e.a=h},421:function(t,e,n){"use strict";var i=n(408);function o(t,e){return function(t){var e=Object(i.a)(t);return e&&e.defaultView||window}(t).getComputedStyle(t,e)}var s=/([A-Z])/g;var r=/^ms-/;function a(t){return function(t){return t.replace(s,"-$1").toLowerCase()}(t).replace(r,"-ms-")}var c=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;e.a=function(t,e){var n="",i="";if("string"==typeof e)return t.style.getPropertyValue(a(e))||o(t).getPropertyValue(a(e));Object.keys(e).forEach((function(o){var s=e[o];s||0===s?!function(t){return!(!t||!c.test(t))}(o)?n+=a(o)+": "+s+";":i+=o+"("+s+") ":t.style.removeProperty(a(o))})),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n}},422:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(421),o=n(433);function s(t,e,n){void 0===n&&(n=5);var i=!1,s=setTimeout((function(){i||function(t){var e=document.createEvent("HTMLEvents");e.initEvent("transitionend",!0,!0),t.dispatchEvent(e)}(t)}),e+n),r=Object(o.a)(t,"transitionend",(function(){i=!0}),{once:!0});return function(){clearTimeout(s),r()}}function r(t,e,n,r){var a,c,u;null==n&&(a=t,c=Object(i.a)(a,"transitionDuration")||"",u=-1===c.indexOf("ms")?1e3:1,n=parseFloat(c)*u||0);var l=s(t,n,r),p=Object(o.a)(t,"transitionend",e);return function(){l(),p()}}},425:function(t,e,n){"use strict";function i(t){t.offsetHeight}n.d(e,"a",(function(){return i}))},426:function(t,e,n){"use strict";n.d(e,"c",(function(){return d})),n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return h})),n.d(e,"d",(function(){return m}));var i=n(347),o=n(385),s=(n(346),n(0)),r=n.n(s),a=n(20),c=n.n(a),u=!1,l=r.a.createContext(null),p="unmounted",d="exited",f="entering",h="entered",m="exiting",b=function(t){function e(e,n){var i;i=t.call(this,e,n)||this;var o,s=n&&!n.isMounting?e.enter:e.appear;return i.appearStatus=null,e.in?s?(o=d,i.appearStatus=f):o=h:o=e.unmountOnExit||e.mountOnEnter?p:d,i.state={status:o},i.nextCallback=null,i}Object(o.a)(e,t),e.getDerivedStateFromProps=function(t,e){return t.in&&e.status===p?{status:d}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==f&&n!==h&&(e=f):n!==f&&n!==h||(e=m)}this.updateStatus(!1,e)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var t,e,n,i=this.props.timeout;return t=e=n=i,null!=i&&"number"!=typeof i&&(t=i.exit,e=i.enter,n=void 0!==i.appear?i.appear:e),{exit:t,enter:e,appear:n}},n.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===f?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===d&&this.setState({status:p})},n.performEnter=function(t){var e=this,n=this.props.enter,i=this.context?this.context.isMounting:t,o=this.props.nodeRef?[i]:[c.a.findDOMNode(this),i],s=o[0],r=o[1],a=this.getTimeouts(),l=i?a.appear:a.enter;!t&&!n||u?this.safeSetState({status:h},(function(){e.props.onEntered(s)})):(this.props.onEnter(s,r),this.safeSetState({status:f},(function(){e.props.onEntering(s,r),e.onTransitionEnd(l,(function(){e.safeSetState({status:h},(function(){e.props.onEntered(s,r)}))}))})))},n.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:c.a.findDOMNode(this);e&&!u?(this.props.onExit(i),this.safeSetState({status:m},(function(){t.props.onExiting(i),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:d},(function(){t.props.onExited(i)}))}))}))):this.safeSetState({status:d},(function(){t.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},n.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,e.nextCallback=null,t(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:c.a.findDOMNode(this),i=null==t&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=o[0],r=o[1];this.props.addEndListener(s,r)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},n.render=function(){var t=this.state.status;if(t===p)return null;var e=this.props,n=e.children,o=(e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,Object(i.a)(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.a.createElement(l.Provider,{value:null},"function"==typeof n?n(t,o):r.a.cloneElement(r.a.Children.only(n),o))},e}(r.a.Component);function v(){}b.contextType=l,b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:v,onEntering:v,onEntered:v,onExit:v,onExiting:v,onExited:v},b.UNMOUNTED=p,b.EXITED=d,b.ENTERING=f,b.ENTERED=h,b.EXITING=m;e.e=b},5290:function(t){t.exports=JSON.parse('{"DE":{"authentication":"Authentifizierung","authentication-prompt":"Um diese Lektion abzuschlie\xdfen, logge Dich bitte in Dein ISLE-Konto ein. Wenn Du noch kein Konto eingerichtet hast, melde Dich bitte an und erhalte Zugang zur vollen Funktionalit\xe4t von ISLE","by":"von","choice":"Wahl","completed":"Abgeschlossen","confirmation-email":" Du erh\xe4lst in K\xfcrze eine Best\xe4tigungs-E-Mail.","download-pdf":"PDF der Antworten herunterladen","elapsed":"verstrichen","lesson-successfully-completed":"Lektion erfolgreich abgeschlossen.","lesson-submitted":"Lektion abgeschlossen!","login":"Anmelden","responses-header":"Antworten f\xfcr die ISLE-Lektion","signup":"Registrieren","submit":"Abschicken"},"EN":{"authentication":"Authentication","authentication-prompt":"To finalize this lesson, please login in to your ISLE account. If you have not created one, please sign up and get access to the full functionality of ISLE.","by":"by","choice":"Choice","completed":"Completed","confirmation-email":" You will receive a confirmation email shortly.","download-pdf":"Download PDF of Responses","elapsed":"elapsed","lesson-successfully-completed":"Lesson successfully completed.","lesson-submitted":"Lesson submitted!","login":"Login","responses-header":"Responses for ISLE lesson","signup":"Sign up","submit":"Submit"},"ES":{"authentication":"Autenticaci\xf3n","authentication-prompt":"Para finalizar esta lecci\xf3n, por favor entre en su cuenta de ISLE. Si no ha creado una, por favor reg\xedstrese y acceda a la funcionalidad completa de ISLE.","by":"por","choice":"Elecci\xf3n","completed":"Completado","confirmation-email":" Recibir\xe1 un correo electr\xf3nico de confirmaci\xf3n en breve.","download-pdf":"Descargar PDF de respuestas","elapsed":"transcurrido","lesson-successfully-completed":"Lecci\xf3n completada con \xe9xito.","lesson-submitted":"\xa1Lecci\xf3n presentada!","login":"Login","responses-header":"Respuestas para la lecci\xf3n de ISLE","signup":"Inscripci\xf3n","submit":"Presentar"}}')},5921:function(t,e,n){"use strict";n.r(e);n(395),n(394),n(382),n(380),n(393),n(362),n(355),n(364);var i=n(358),o=n.n(i),s=n(356),r=n.n(s),a=n(357),c=n.n(a),u=n(368),l=n.n(u),p=n(360),d=n.n(p),f=n(361),h=n.n(f),m=n(359),b=n.n(m),v=n(354),g=n.n(v),E=(n(475),n(0)),y=n(402),x=n.n(y),S=(n(346),n(639)),O=n(1836),k=n.n(O),w=n(1723),C=n.n(w),L=n(386),j=n(612),D=n(391),N=n(630),P=n.n(N),R=n(407),T=n.n(R),z=n(496),M=n.n(z),U=n(1754),I=n(3340),A=n(3341),F=n(424),q=n(576),B=n(431),V=(n(2522),n(465)),W=n(5290);function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=b()(t);if(e){var o=b()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return h()(this,n)}}V.a.addResources("de","lesson-submit",W.DE),V.a.addResources("en","lesson-submit",W.EN),V.a.addResources("es","lesson-submit",W.ES);var K=x()("isle:lesson-submit");var Y=function(t){d()(n,t);var e=J(n);function n(t){var i;return r()(this,n),i=e.call(this,t),g()(l()(i),"createReponseSummaryDoc",(function(){var t=i.context,e={content:[{text:"".concat(i.props.t("responses-header")," ").concat(t.namespaceName+"/"+t.lessonName),style:"header",alignment:"center"}],styles:{header:{fontSize:24,bold:!0,margin:[0,0,0,10]},author:{fontSize:16,italics:!0,margin:[0,0,0,10],alignment:"center"},date:{fontSize:16,italics:!0,alignment:"right",margin:[0,15,0,15]},elapsed:{fontSize:16,italics:!0,alignment:"right",margin:[0,15,0,15]},subheader:{fontSize:18,bold:!0,margin:[0,30,0,10]},question:{fontSize:15,margin:[0,0,0,10],italics:!0}}};P()(t.user)||e.content.push({text:"".concat(i.props.t("by")," ").concat(t.user.name," (").concat(t.user.email,")"),style:"author"});var n=new Date;if(e.content.push({text:"".concat(n.toLocaleDateString()," - ").concat(n.toLocaleTimeString()),style:"date"}),e.content.push({text:"".concat(i.props.t("elapsed"),": ").concat(M()(t.duration/6e4),"min"),style:"elapsed"}),t.currentUserActions)for(var o=t.responseVisualizerIds,s=0;s<o.length;s++){var r=t.responseVisualizers[o[s]];e.content.push({text:o[s],style:"subheader"}),r&&function(){var n=r.type,a=r.ref.props.data.question,c=r.ref.props.data.type;e.content.push({text:Object(D.isPrimitive)(a)?a:C()(a),style:"question"});var u=t.currentUserActions[o[s]];if(u){var l=(u=(u=u.filter((function(t){return t.type===n}))).sort((function(t,e){return t.absoluteTime-e.absoluteTime})))[u.length-1];if("image"===c)e.content.push({image:l.value,width:500});else if("factor"===c){var p,d=r.ref.props.data.levels;d=d.map((function(t,e){var n=Object(D.isPrimitive)(t)?t:C()(t);return n||(n="".concat(i.props.t("choice")," ").concat(e+1)),n})),p=T()(l.value)?l.value.map((function(t){return d[t]})).join(", "):d[l.value],e.content.push({text:p})}else e.content.push({text:l.value})}}()}k.a.createPdf(e).download("responses.pdf")})),g()(l()(i),"closeUserModal",(function(){i.setState({showUserModal:!1,visibleLogin:!1,visibleSignup:!1})})),g()(l()(i),"login",(function(t){t.stopPropagation(),i.setState({visibleLogin:!0,visibleSignup:!1})})),g()(l()(i),"signup",(function(t){t.stopPropagation(),i.setState({visibleSignup:!0,visibleLogin:!1})})),g()(l()(i),"closeSignup",(function(){i.setState({visibleSignup:!1,showUserModal:!1})})),g()(l()(i),"closeLogin",(function(){i.setState({visibleLogin:!1,showUserModal:!1})})),g()(l()(i),"finalizeSession",(function(){K("Finalizing session...");for(var t=i.context,e=document.getElementsByClassName("submit-button"),n=0;n<e.length;n++)e[n].innerText===i.props.t("submit")&&e[n].click();t.finalize();var s=i.props.t("lesson-successfully-completed");if(!P()(t.user)&&i.props.sendConfirmationEmail){s+=i.props.t("confirmation-email");var r=function(t,e){var n=e||"";return{text:"Dear ".concat(t.user.name,', this is an automatic confirmation email to inform you that you have successfully completed lesson "').concat(t.lessonName,'" of course "').concat(t.namespaceName,'". ').concat(n),subject:"".concat(t.lessonName," successfully completed!")}}(t,i.props.message);t.sendMail(r,t.user.email)}t.addNotification({title:i.props.t("completed"),message:s,level:"success",position:"tr",autoDismiss:0,dismissible:"button",children:o()("div",{style:{marginBottom:"40px"}},void 0,o()(L.a,{variant:"success",size:"sm",style:{float:"right",marginRight:"10px",marginTop:"10px"},onClick:i.createReponseSummaryDoc},void 0,i.props.t("download-pdf"))),onRemove:function(){i.setState({disabled:!1})}}),t.log({id:t.lessonName,type:B.yb,value:i.props.t("lesson-submitted")}),i.setState({disabled:!0}),window.removeEventListener("beforeunload",U.a)})),g()(l()(i),"handleClick",(function(){i.props.onClick();var t=i.context;if(i.props.requireLogin&&P()(t.user))return i.setState({showUserModal:!0});i.finalizeSession()})),i.state={showUserModal:!1,visibleLogin:!1,visibleSignup:!1},i}return c()(n,[{key:"componentDidMount",value:function(){var t=this,e=this.context;this.unsubsribe=e.subscribe((function(e){e!==q.w&&e!==q.j&&e!==q.k||t.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){this.unsubsribe()}},{key:"render",value:function(){var t=!this.context.live||this.state.disabled;return o()("div",{className:"bg-light ".concat(this.props.className),style:X({maxWidth:400,margin:"0 auto 0px",padding:"20px",fontFamily:"Arial"},this.props.style)},void 0,o()(L.a,{disabled:t,variant:"primary",size:"large",onClick:this.handleClick,block:!0},void 0,this.props.label),o()(j.a,{show:this.state.showUserModal,onHide:this.closeUserModal},void 0,o()(j.a.Header,{closeButton:!0},void 0,o()(j.a.Title,{},void 0,this.props.t("authentication"))),o()(j.a.Body,{},void 0,o()("p",{},void 0,this.props.t("authentication-prompt"))),o()(j.a.Footer,{style:{textAlign:"center"}},void 0,o()(L.a,{variant:"primary",onClick:this.login.bind(this),style:{marginRight:"10px"}},void 0,this.props.t("login")),o()(L.a,{onClick:this.signup.bind(this)},void 0,this.props.t("signup")))),o()(A.a,{show:this.state.visibleLogin,onClose:this.closeLogin}),o()(I.a,{show:this.state.visibleSignup,onClose:this.closeSignup}))}}]),n}(E.Component);Y.defaultProps={label:"Finish lesson",message:"",requireLogin:!0,sendConfirmationEmail:!0,className:"",style:{},onClick:function(){}},Y.contextType=F.a;e.default=Object(S.a)("lesson-submit")(Y)},673:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(408),o=n(0),s=function(t){var e;return"undefined"==typeof document?null:null==t?Object(i.a)().body:("function"==typeof t&&(t=t()),t&&"current"in t&&(t=t.current),(null==(e=t)?void 0:e.nodeType)&&t||null)};function r(t,e){var n=Object(o.useState)((function(){return s(t)})),i=n[0],r=n[1];if(!i){var a=s(t);a&&r(a)}return Object(o.useEffect)((function(){e&&i&&e(i)}),[e,i]),Object(o.useEffect)((function(){var e=s(t);e!==i&&r(e)}),[t,i]),i}},910:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0);function o(t){var e=Object(i.useRef)(null);return Object(i.useEffect)((function(){e.current=t})),e.current}}}]);