(self.webpackChunk=self.webpackChunk||[]).push([[6131],{357459:function(t,e,s){"use strict";s.r(e);s(382139);var n=s(858255),o=s(264659),i=s(904730),a=s(673989),r=s(175663),p=s(750591),c=s(575630),l=s(151119),u=(s(6059),s(202784)),h=(s(213980),s(911755)),f=s.n(h),d=s(198),m=s(223444),v=s(770561),b=s(150275),Z=s(778886),y=s(741319),k=s(964909);function S(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var s,n=(0,c.Z)(t);if(e){var o=(0,c.Z)(this).constructor;s=Reflect.construct(n,arguments,o)}else s=n.apply(this,arguments);return(0,p.Z)(this,s)}}var g=f()("isle:chat-button"),C=function(t){(0,r.Z)(s,t);var e=S(s);function s(t){var n;return(0,o.Z)(this,s),n=e.call(this,t),(0,l.Z)((0,a.Z)(n),"hideAnimation",(function(){n.setState({showAnimation:!1})})),(0,l.Z)((0,a.Z)(n),"handleClick",(function(t){g("Handle click to join chat...");var e=!n.state.opened;n.props.onClick(t,e),n.setState({opened:e},(function(){var t=n.context;e?(g("Should join chat for component with id '".concat(n.props.for,"'...")),t.joinChat({name:n.props.for,anonymousSubmissions:n.props.anonymousSubmissions})):(g("Should leave chat for component with id '".concat(n.props.for,"'...")),t.leaveChat(n.props.for))}))})),n.state={opened:!1,nMessages:0,nMembers:0},n}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){var t=this,e=this.context;this.unsubscribe=e.subscribe((function(s,n){if(s!==k.JV&&s!==k.PY||!n||n.name!==t.props.for){if(s===k.em&&n.name===t.props.for){var o={nMessages:n.nMessages,nMembers:n.nMembers};n.nMessages>t.state.nMessages&&(o.showAnimation=!0),t.setState(o),setTimeout(t.hideAnimation,4e3)}else if(n===t.props.for){e.getChat(t.props.for)&&s!==k.TY?s===k._Z&&t.setState({opened:!1}):t.setState({opened:!1}),t.forceUpdate()}}else t.setState({opened:!0})}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var t,e,s=this.state.nMessages;t=this.props.buttonLabel?this.props.buttonLabel:this.state.opened?this.props.t("leave-chat"):this.props.t("join-chat"),e=this.props.buttonVariant?this.props.buttonVariant:this.state.nMembers>0?"success":"secondary";var o,i=(0,n.Z)(v.Z,{className:this.props.className,variant:e,size:this.props.size,onClick:this.handleClick,style:this.props.style,"aria-label":this.props.t("toggle-chat")},void 0,(0,n.Z)("span",{style:{pointerEvents:"none"}},void 0,t),s?(0,n.Z)(m.Z,{variant:"dark",style:{marginLeft:"5px",fontSize:"10px",pointerEvents:"none",animation:this.state.showAnimation?"ping 0.7s 3":"none"}},void 0,s):null);return o=this.props.tooltip?this.props.tooltip:this.state.opened?this.props.t("leave-chat-id",{id:this.props.for}):this.props.t("join-chat-id",{id:this.props.for}),this.props.showTooltip&&(i=(0,n.Z)(b.Z,{tooltip:o,placement:this.props.tooltipPlacement},void 0,i)),(0,n.Z)(Z.Z,{user:!0},void 0,i)}}]),s}(u.Component);C.defaultProps={anonymousSubmissions:!1,buttonLabel:null,showTooltip:!0,tooltip:null,size:"sm",buttonVariant:null,tooltipPlacement:"top",onClick:function(){},className:"",style:{}},C.contextType=y.Z,e.default=(0,d.Z)("internal/chat-button")(C)},770561:function(t,e,s){"use strict";var n=s(607560),o=s(998283),i=s(72779),a=s.n(i),r=s(202784),p=s(429658),c=s(482695),l=r.forwardRef((function(t,e){var s=t.bsPrefix,i=t.variant,l=t.size,u=t.active,h=t.className,f=t.block,d=t.type,m=t.as,v=(0,o.Z)(t,["bsPrefix","variant","size","active","className","block","type","as"]),b=(0,p.vE)(s,"btn"),Z=a()(h,b,u&&"active",i&&b+"-"+i,f&&b+"-block",l&&b+"-"+l);if(v.href)return r.createElement(c.Z,(0,n.Z)({},v,{as:m,ref:e,className:a()(Z,v.disabled&&"disabled")}));e&&(v.ref=e),d?v.type=d:m||(v.type="button");var y=m||"button";return r.createElement(y,(0,n.Z)({},v,{className:Z}))}));l.displayName="Button",l.defaultProps={variant:"primary",active:!1,disabled:!1},e.Z=l}}]);