(window.webpackJsonp=window.webpackJsonp||[]).push([[259],{2854:function(e,t,a){"use strict";t.a=function(e){e.stopPropagation()}},6758:function(e,t,a){"use strict";a.r(t);var r=a(372),n=a.n(r),o=a(454),c=a.n(o),l=a(0),u=a(425),i=a.n(u),s=(a(364),a(2162)),v=a(401),d=a(700),f=a.n(d),m=a(616),b=a(818),p=a(667),h=a(2854),g=a(446),w=a(450),j=a(635),O=a(397);a(312);Object(O.a)("Revealer");var y=i()("isle:revealer"),R=Object(p.a)("revealer"),C=function(e){var t=e.message,a=e.show,r=e.children,o=Object(l.useRef)(e.id||R({id:e.id,message:t,show:a})),u=Object(l.useContext)(g.a),i=Object(s.a)("Revealer").t,d=Object(l.useState)(a),p=c()(d,2),O=p[0],C=p[1],N=Object(l.useState)(a),k=c()(N,2),H=k[0],S=k[1],W=Object(l.useState)(null),J=c()(W,2),M=J[0],P=J[1];a!==H&&(C(a),S(a)),Object(l.useEffect)((function(){var e,t=function(){if(u&&u.metadata&&u.metadata.revealer&&u.metadata.revealer[o.current]){var e=u.metadata.revealer[o.current][u.cohort||"all"];!0!==e&&!1!==e||C(e)}};return u&&(t(),e=u.subscribe((function(e,a){if(e===j.z)P(null);else if(e===j.u)t();else if(e===j.n&&a.id===o.current){var r=a.value;y("Received action for cohort ".concat(r,": ")),!r||u.cohort&&u.cohort===r?a.type===w.Wb?(y("Reveal content for ".concat(o.current,"...")),C(!0)):a.type===w.lb&&(y("Hide content for ".concat(o.current,"...")),C(!1)):M===r&&(a.type===w.Wb?(y("Reveal content of ".concat(o.current," for cohort ").concat(r,"...")),C(!0)):a.type===w.lb&&(y("Hide content of ".concat(o.current," for cohort ").concat(r,"...")),C(!1)))}}))),function(){e&&e()}}),[o,M,u]);var x=function(e){var t=e.target.value;(t!==M||"all"===t&&f()(M))&&(y("Handle cohort change: "+t),P("all"===t?null:t))},z=u.cohorts||[],B=n()("h3",{className:"center"},void 0,t||i("message"));return y("showChildren: "+O),n()(l.Fragment,{},void 0,n()(b.a,{owner:!0},void 0,n()(m.a,{className:"center revealer-panel"},void 0,n()(v.a,{className:"revealer-button",onClick:function(){var e,t=!O;C(t),e=u&&u.metadata&&u.metadata.revealer&&u.metadata.revealer[o.current]?u.metadata.revealer[o.current]:{},t?(u.log({id:o.current,type:w.Wb,value:M},"members"),e[M||"all"]=!0,u.updateMetadata("revealer",o.current,e)):(u.log({id:o.current,type:w.lb,value:M},"members"),e[M||"all"]=!1,u.updateMetadata("revealer",o.current,e))}},void 0,i(O?"hide":"reveal")),i("contents-of"),n()("i",{},void 0,o.current)," ",i(O?"from":"to"),n()("select",{className:"revealer-select",onChange:x,onBlur:x,onClick:h.a,value:M||"all"},void 0,n()("option",{value:"all"},void 0,i("all-students")),z.map((function(e,t){return n()("option",{value:e.title},t,e.title)}))))),O?null:B,n()("div",{className:"revealer outer-element",style:{display:O?"inherit":"none"}},void 0,r))};C.defaultProps={message:null,show:!1},t.default=C}}]);