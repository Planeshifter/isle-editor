(window.webpackJsonp=window.webpackJsonp||[]).push([[398],{1054:function(t,e,i){(function(t,e){!function(t,i){"use strict";if(!t.setImmediate){var n,o,r,s,l,a=1,c={},f=!1,u=t.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(t);_=_&&_.setTimeout?_:t,"[object process]"==={}.toString.call(t.process)?n=function(t){e.nextTick((function(){m(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}()?t.MessageChannel?((r=new MessageChannel).port1.onmessage=function(t){m(t.data)},n=function(t){r.port2.postMessage(t)}):u&&"onreadystatechange"in u.createElement("script")?(o=u.documentElement,n=function(t){var e=u.createElement("script");e.onreadystatechange=function(){m(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):n=function(t){setTimeout(m,0,t)}:(s="setImmediate$"+Math.random()+"$",l=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&m(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",l,!1):t.attachEvent("onmessage",l),n=function(e){t.postMessage(s+e,"*")}),_.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var o={callback:t,args:e};return c[a]=o,n(a),a++},_.clearImmediate=h}function h(t){delete c[t]}function m(t){if(f)setTimeout(m,0,t);else{var e=c[t];if(e){f=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(void 0,i)}}(e)}finally{h(t),f=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,i(22),i(561))},1525:function(t,e,i){"use strict";var n=i(398),o=i(401),r=i(402),s=i.n(r),l=i(0),a=i.n(l),c=i(408),f=i(598);function u(t,e,i){var n=(t-e)/(i-e)*100;return Math.round(1e3*n)/1e3}function _(t,e){var i,r=t.min,l=t.now,c=t.max,f=t.label,_=t.srOnly,h=t.striped,m=t.animated,d=t.className,g=t.style,p=t.variant,v=t.bsPrefix,w=Object(o.a)(t,["min","now","max","label","srOnly","striped","animated","className","style","variant","bsPrefix"]);return a.a.createElement("div",Object(n.a)({ref:e},w,{role:"progressbar",className:s()(d,v+"-bar",(i={},i["bg-"+p]=p,i[v+"-bar-animated"]=m,i[v+"-bar-striped"]=m||h,i)),style:Object(n.a)({width:u(l,r,c)+"%"},g),"aria-valuenow":l,"aria-valuemin":r,"aria-valuemax":c}),_?a.a.createElement("span",{className:"sr-only"},f):f)}var h=a.a.forwardRef((function(t,e){var i=t.isChild,r=Object(o.a)(t,["isChild"]);if(r.bsPrefix=Object(c.a)(r.bsPrefix,"progress"),i)return _(r,e);var u=r.min,h=r.now,m=r.max,d=r.label,g=r.srOnly,p=r.striped,v=r.animated,w=r.bsPrefix,b=r.variant,y=r.className,O=r.children,I=Object(o.a)(r,["min","now","max","label","srOnly","striped","animated","bsPrefix","variant","className","children"]);return a.a.createElement("div",Object(n.a)({ref:e},I,{className:s()(y,w)}),O?Object(f.b)(O,(function(t){return Object(l.cloneElement)(t,{isChild:!0})})):_({min:u,now:h,max:m,label:d,srOnly:g,striped:p,animated:v,bsPrefix:w,variant:b},e))}));h.displayName="ProgressBar",h.defaultProps={min:0,max:100,animated:!1,isChild:!1,srOnly:!1,striped:!1},e.a=h},598:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return s}));var n=i(0),o=i.n(n);function r(t,e){var i=0;return o.a.Children.map(t,(function(t){return o.a.isValidElement(t)?e(t,i++):t}))}function s(t,e){var i=0;o.a.Children.forEach(t,(function(t){o.a.isValidElement(t)&&e(t,i++)}))}},6318:function(t,e,i){(function(e,n){const{Transform:o}=i(4071),r=i(6319),s={utf8:e.from([239,187,191]),utf16le:e.from([255,254])};class l extends o{constructor(t={}){super({readableObjectMode:!0,...t,encoding:null}),this.__originalOptions=t,this.__normalizeOptions(t)}__normalizeOptions(t){const i={};for(let e in t)i[f(e)]=t[e];if(void 0===i.encoding||!0===i.encoding)i.encoding="utf8";else if(null===i.encoding||!1===i.encoding)i.encoding=null;else if("string"!=typeof i.encoding&&null!==i.encoding)throw new c("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(i.encoding)}`],i);if(void 0===i.bom||null===i.bom||!1===i.bom)i.bom=!1;else if(!0!==i.bom)throw new c("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(i.bom)}`],i);let n=null;if(void 0===i.cast||null===i.cast||!1===i.cast||""===i.cast)i.cast=void 0;else if("function"==typeof i.cast)n=i.cast,i.cast=!0;else if(!0!==i.cast)throw new c("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(i.cast)}`],i);if(void 0===i.cast_date||null===i.cast_date||!1===i.cast_date||""===i.cast_date)i.cast_date=!1;else if(!0===i.cast_date)i.cast_date=function(t){const e=Date.parse(t);return isNaN(e)?t:new Date(e)};else if("function"!=typeof i.cast_date)throw new c("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(i.cast_date)}`],i);let o=null;if(!0===i.columns)o=void 0;else if("function"==typeof i.columns)o=i.columns,i.columns=!0;else if(Array.isArray(i.columns))i.columns=h(i.columns);else{if(void 0!==i.columns&&null!==i.columns&&!1!==i.columns)throw new c("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an object, a function or true,",`got ${JSON.stringify(i.columns)}`],i);i.columns=!1}if(void 0===i.columns_duplicates_to_array||null===i.columns_duplicates_to_array||!1===i.columns_duplicates_to_array)i.columns_duplicates_to_array=!1;else if(!0!==i.columns_duplicates_to_array)throw new c("CSV_INVALID_OPTION_COLUMNS_DUPLICATES_TO_ARRAY",["Invalid option columns_duplicates_to_array:","expect an boolean,",`got ${JSON.stringify(i.columns_duplicates_to_array)}`],i);if(void 0===i.comment||null===i.comment||!1===i.comment||""===i.comment)i.comment=null;else if("string"==typeof i.comment&&(i.comment=e.from(i.comment,i.encoding)),!e.isBuffer(i.comment))throw new c("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(i.comment)}`],i);const s=JSON.stringify(i.delimiter);if(Array.isArray(i.delimiter)||(i.delimiter=[i.delimiter]),0===i.delimiter.length)throw new c("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${s}`],i);if(i.delimiter=i.delimiter.map((function(t){if(null==t||!1===t)return e.from(",",i.encoding);if("string"==typeof t&&(t=e.from(t,i.encoding)),!e.isBuffer(t)||0===t.length)throw new c("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${s}`],i);return t})),void 0===i.escape||!0===i.escape?i.escape=e.from('"',i.encoding):"string"==typeof i.escape?i.escape=e.from(i.escape,i.encoding):null!==i.escape&&!1!==i.escape||(i.escape=null),null!==i.escape&&!e.isBuffer(i.escape))throw new Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(i.escape)}`);if(void 0===i.from||null===i.from)i.from=1;else{if("string"==typeof i.from&&/\d+/.test(i.from)&&(i.from=parseInt(i.from)),!Number.isInteger(i.from))throw new Error(`Invalid Option: from must be an integer, got ${JSON.stringify(i.from)}`);if(i.from<0)throw new Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(t.from)}`)}if(void 0===i.from_line||null===i.from_line)i.from_line=1;else{if("string"==typeof i.from_line&&/\d+/.test(i.from_line)&&(i.from_line=parseInt(i.from_line)),!Number.isInteger(i.from_line))throw new Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(t.from_line)}`);if(i.from_line<=0)throw new Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(t.from_line)}`)}if(void 0===i.ignore_last_delimiters||null===i.ignore_last_delimiters)i.ignore_last_delimiters=!1;else if("number"==typeof i.ignore_last_delimiters)i.ignore_last_delimiters=Math.floor(i.ignore_last_delimiters),0===i.ignore_last_delimiters&&(i.ignore_last_delimiters=!1);else if("boolean"!=typeof i.ignore_last_delimiters)throw new c("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(i.ignore_last_delimiters)}`],i);if(!0===i.ignore_last_delimiters&&!1===i.columns)throw new c("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],i);if(void 0===i.info||null===i.info||!1===i.info)i.info=!1;else if(!0!==i.info)throw new Error(`Invalid Option: info must be true, got ${JSON.stringify(i.info)}`);if(void 0===i.max_record_size||null===i.max_record_size||!1===i.max_record_size)i.max_record_size=0;else if(Number.isInteger(i.max_record_size)&&i.max_record_size>=0);else{if("string"!=typeof i.max_record_size||!/\d+/.test(i.max_record_size))throw new Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(i.max_record_size)}`);i.max_record_size=parseInt(i.max_record_size)}if(void 0===i.objname||null===i.objname||!1===i.objname)i.objname=void 0;else if(e.isBuffer(i.objname)){if(0===i.objname.length)throw new Error("Invalid Option: objname must be a non empty buffer");null===i.encoding||(i.objname=i.objname.toString(i.encoding))}else{if("string"!=typeof i.objname)throw new Error(`Invalid Option: objname must be a string or a buffer, got ${i.objname}`);if(0===i.objname.length)throw new Error("Invalid Option: objname must be a non empty string")}if(void 0===i.on_record||null===i.on_record)i.on_record=void 0;else if("function"!=typeof i.on_record)throw new c("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(i.on_record)}`],i);if(null===i.quote||!1===i.quote||""===i.quote)i.quote=null;else if(void 0===i.quote||!0===i.quote?i.quote=e.from('"',i.encoding):"string"==typeof i.quote&&(i.quote=e.from(i.quote,i.encoding)),!e.isBuffer(i.quote))throw new Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(i.quote)}`);if(void 0===i.raw||null===i.raw||!1===i.raw)i.raw=!1;else if(!0!==i.raw)throw new Error(`Invalid Option: raw must be true, got ${JSON.stringify(i.raw)}`);if(i.record_delimiter?Array.isArray(i.record_delimiter)||(i.record_delimiter=[i.record_delimiter]):i.record_delimiter=[],i.record_delimiter=i.record_delimiter.map((function(t){return"string"==typeof t&&(t=e.from(t,i.encoding)),t})),"boolean"==typeof i.relax);else{if(void 0!==i.relax&&null!==i.relax)throw new Error(`Invalid Option: relax must be a boolean, got ${JSON.stringify(i.relax)}`);i.relax=!1}if("boolean"==typeof i.relax_column_count);else{if(void 0!==i.relax_column_count&&null!==i.relax_column_count)throw new Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(i.relax_column_count)}`);i.relax_column_count=!1}if("boolean"==typeof i.relax_column_count_less);else{if(void 0!==i.relax_column_count_less&&null!==i.relax_column_count_less)throw new Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(i.relax_column_count_less)}`);i.relax_column_count_less=!1}if("boolean"==typeof i.relax_column_count_more);else{if(void 0!==i.relax_column_count_more&&null!==i.relax_column_count_more)throw new Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(i.relax_column_count_more)}`);i.relax_column_count_more=!1}if("boolean"==typeof i.skip_empty_lines);else{if(void 0!==i.skip_empty_lines&&null!==i.skip_empty_lines)throw new Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(i.skip_empty_lines)}`);i.skip_empty_lines=!1}if("boolean"==typeof i.skip_lines_with_empty_values);else{if(void 0!==i.skip_lines_with_empty_values&&null!==i.skip_lines_with_empty_values)throw new Error(`Invalid Option: skip_lines_with_empty_values must be a boolean, got ${JSON.stringify(i.skip_lines_with_empty_values)}`);i.skip_lines_with_empty_values=!1}if("boolean"==typeof i.skip_lines_with_error);else{if(void 0!==i.skip_lines_with_error&&null!==i.skip_lines_with_error)throw new Error(`Invalid Option: skip_lines_with_error must be a boolean, got ${JSON.stringify(i.skip_lines_with_error)}`);i.skip_lines_with_error=!1}if(void 0===i.rtrim||null===i.rtrim||!1===i.rtrim)i.rtrim=!1;else if(!0!==i.rtrim)throw new Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(i.rtrim)}`);if(void 0===i.ltrim||null===i.ltrim||!1===i.ltrim)i.ltrim=!1;else if(!0!==i.ltrim)throw new Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(i.ltrim)}`);if(void 0===i.trim||null===i.trim||!1===i.trim)i.trim=!1;else if(!0!==i.trim)throw new Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(i.trim)}`);if(!0===i.trim&&!1!==t.ltrim?i.ltrim=!0:!0!==i.ltrim&&(i.ltrim=!1),!0===i.trim&&!1!==t.rtrim?i.rtrim=!0:!0!==i.rtrim&&(i.rtrim=!1),void 0===i.to||null===i.to)i.to=-1;else{if("string"==typeof i.to&&/\d+/.test(i.to)&&(i.to=parseInt(i.to)),!Number.isInteger(i.to))throw new Error(`Invalid Option: to must be an integer, got ${JSON.stringify(t.to)}`);if(i.to<=0)throw new Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(t.to)}`)}if(void 0===i.to_line||null===i.to_line)i.to_line=-1;else{if("string"==typeof i.to_line&&/\d+/.test(i.to_line)&&(i.to_line=parseInt(i.to_line)),!Number.isInteger(i.to_line))throw new Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(t.to_line)}`);if(i.to_line<=0)throw new Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(t.to_line)}`)}this.info={comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},this.options=i,this.state={bomSkipped:!1,castField:n,commenting:!1,error:void 0,enabled:1===i.from_line,escaping:!1,escapeIsQuote:e.isBuffer(i.escape)&&e.isBuffer(i.quote)&&0===e.compare(i.escape,i.quote),expectedRecordLength:null===i.columns?0:i.columns.length,field:new r(20),firstLineToHeaders:o,info:Object.assign({},this.info),needMoreDataSize:Math.max(null!==i.comment?i.comment.length:0,...i.delimiter.map((t=>t.length)),null!==i.quote?i.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new r(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:0===i.record_delimiter.length?2:Math.max(...i.record_delimiter.map((t=>t.length))),trimChars:[e.from(" ",i.encoding)[0],e.from("\t",i.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1}}_transform(t,e,i){if(!0===this.state.stop)return;const n=this.__parse(t,!1);void 0!==n&&(this.state.stop=!0),i(n)}_flush(t){if(!0===this.state.stop)return;t(this.__parse(void 0,!0))}__parse(t,i){const{bom:n,comment:o,escape:r,from_line:l,info:a,ltrim:f,max_record_size:u,quote:_,raw:h,relax:m,rtrim:d,skip_empty_lines:g,to:p,to_line:v}=this.options;let{record_delimiter:w}=this.options;const{bomSkipped:b,previousBuf:y,rawBuffer:O,escapeIsQuote:I}=this.state;let N;if(void 0===y){if(void 0===t)return void this.push(null);N=t}else N=void 0!==y&&void 0===t?y:e.concat([y,t]);if(!1===b)if(!1===n)this.state.bomSkipped=!0;else if(N.length<3){if(!1===i)return void(this.state.previousBuf=N)}else{for(let t in s)if(0===s[t].compare(N,0,s[t].length)){N=N.slice(s[t].length),this.__normalizeOptions({...this.__originalOptions,encoding:t});break}this.state.bomSkipped=!0}const S=N.length;let x;for(x=0;x<S&&!this.__needMoreData(x,S,i);x++){if(!0===this.state.wasRowDelimiter&&(this.info.lines++,!0===a&&0===this.state.record.length&&0===this.state.field.length&&!1===this.state.wasQuoting&&(this.state.info=Object.assign({},this.info)),this.state.wasRowDelimiter=!1),-1!==v&&this.info.lines>v)return this.state.stop=!0,void this.push(null);if(!1===this.state.quoting&&0===w.length){this.__autoDiscoverRecordDelimiter(N,x)&&(w=this.options.record_delimiter)}const t=N[x];if(!0===h&&O.append(t),13!==t&&10!==t||!1!==this.state.wasRowDelimiter||(this.state.wasRowDelimiter=!0),!0===this.state.escaping)this.state.escaping=!1;else{if(null!==r&&!0===this.state.quoting&&this.__isEscape(N,x,t)&&x+r.length<S){if(!I){this.state.escaping=!0,x+=r.length-1;continue}if(this.__isQuote(N,x+r.length)){this.state.escaping=!0,x+=r.length-1;continue}}if(!1===this.state.commenting&&this.__isQuote(N,x))if(!0===this.state.quoting){const e=N[x+_.length],i=d&&this.__isCharTrimable(e),n=null!==o&&this.__compareBytes(o,N,x+_.length,e),s=this.__isDelimiter(N,x+_.length,e),l=0===w.length?this.__autoDiscoverRecordDelimiter(N,x+_.length):this.__isRecordDelimiter(e,N,x+_.length);if(null!==r&&this.__isEscape(N,x,t)&&this.__isQuote(N,x+r.length))x+=r.length-1;else{if(!e||s||l||n||i){this.state.quoting=!1,this.state.wasQuoting=!0,x+=_.length-1;continue}if(!1===m){const t=this.__error(new c("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(e)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__context()));if(void 0!==t)return t}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(_),x+=_.length-1}}else{if(0===this.state.field.length){this.state.quoting=!0,x+=_.length-1;continue}if(!1===m){const t=this.__error(new c("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found inside a field at line ${this.info.lines}`],this.options,this.__context(),{field:this.state.field}));if(void 0!==t)return t}}if(!1===this.state.quoting){let e=this.__isRecordDelimiter(t,N,x);if(0!==e){if(this.state.commenting&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length)this.info.comment_lines++;else{if(!1===this.state.enabled&&this.info.lines+(!0===this.state.wasRowDelimiter?1:0)>=l){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),x+=e-1;continue}if(!0===g&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length){this.info.empty_lines++,x+=e-1;continue}const t=this.__onField();if(void 0!==t)return t;const i=this.__onRecord();if(void 0!==i)return i;if(-1!==p&&this.info.records>=p)return this.state.stop=!0,void this.push(null)}this.state.commenting=!1,x+=e-1;continue}if(this.state.commenting)continue;if(0!==(null===o?0:this.__compareBytes(o,N,x,t))){this.state.commenting=!0;continue}let i=this.__isDelimiter(N,x,t);if(0!==i){const t=this.__onField();if(void 0!==t)return t;x+=i-1;continue}}}if(!1===this.state.commenting&&0!==u&&this.state.record_length+this.state.field.length>u){const t=this.__error(new c("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${u}`,`at line ${this.info.lines}`],this.options,this.__context()));if(void 0!==t)return t}const e=!1===f||!0===this.state.quoting||0!==this.state.field.length||!this.__isCharTrimable(t),i=!1===d||!1===this.state.wasQuoting;if(!0===e&&!0===i)this.state.field.append(t);else if(!0===d&&!this.__isCharTrimable(t)){const t=this.__error(new c("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__context()));if(void 0!==t)return t}}if(!0===i)if(!0===this.state.quoting){const t=this.__error(new c("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__context()));if(void 0!==t)return t}else if(!0===this.state.wasQuoting||0!==this.state.record.length||0!==this.state.field.length){const t=this.__onField();if(void 0!==t)return t;const e=this.__onRecord();if(void 0!==e)return e}else!0===this.state.wasRowDelimiter?this.info.empty_lines++:!0===this.state.commenting&&this.info.comment_lines++;else this.state.previousBuf=N.slice(x);!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1)}__onRecord(){const{columns:t,columns_duplicates_to_array:e,encoding:i,info:n,from:o,relax_column_count:r,relax_column_count_less:s,relax_column_count_more:l,raw:a,skip_lines_with_empty_values:f}=this.options,{enabled:u,record:h}=this.state;if(!1===u)return this.__resetRecord();const m=h.length;if(!0===t)return _(h)?void this.__resetRecord():this.__firstLineToColumns(h);if(!1===t&&0===this.info.records&&(this.state.expectedRecordLength=m),m!==this.state.expectedRecordLength){const e=!1===t?new c("CSV_INCONSISTENT_RECORD_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${m} on line ${this.info.lines}`],this.options,this.__context(),{record:h}):new c("CSV_RECORD_DONT_MATCH_COLUMNS_LENGTH",["Invalid Record Length:",`columns length is ${t.length},`,`got ${m} on line ${this.info.lines}`],this.options,this.__context(),{record:h});if(!0===r||!0===s&&m<this.state.expectedRecordLength||!0===l&&m>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=e;else{const t=this.__error(e);if(t)return t}}if(!0===f&&_(h))this.__resetRecord();else{if(!0===this.state.recordHasError)return this.__resetRecord(),void(this.state.recordHasError=!1);if(this.info.records++,1===o||this.info.records>=o)if(!1!==t){const o={};for(let i=0,n=h.length;i<n;i++)void 0===t[i]||t[i].disabled||(!0===e&&o[t[i].name]?Array.isArray(o[t[i].name])?o[t[i].name]=o[t[i].name].concat(h[i]):o[t[i].name]=[o[t[i].name],h[i]]:o[t[i].name]=h[i]);const{objname:r}=this.options;if(void 0===r)if(!0===a||!0===n){const t=this.__push(Object.assign({record:o},!0===a?{raw:this.state.rawBuffer.toString(i)}:{},!0===n?{info:this.state.info}:{}));if(t)return t}else{const t=this.__push(o);if(t)return t}else if(!0===a||!0===n){const t=this.__push(Object.assign({record:[o[r],o]},!0===a?{raw:this.state.rawBuffer.toString(i)}:{},!0===n?{info:this.state.info}:{}));if(t)return t}else{const t=this.__push([o[r],o]);if(t)return t}}else if(!0===a||!0===n){const t=this.__push(Object.assign({record:h},!0===a?{raw:this.state.rawBuffer.toString(i)}:{},!0===n?{info:this.state.info}:{}));if(t)return t}else{const t=this.__push(h);if(t)return t}this.__resetRecord()}}__firstLineToColumns(t){const{firstLineToHeaders:e}=this.state;try{const i=void 0===e?t:e.call(null,t);if(!Array.isArray(i))return this.__error(new c("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(i)}`],this.options,this.__context(),{headers:i}));const n=h(i);return this.state.expectedRecordLength=n.length,this.options.columns=n,void this.__resetRecord()}catch(i){return i}}__resetRecord(){!0===this.options.raw&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0}__onField(){const{cast:t,encoding:e,rtrim:i,max_record_size:n}=this.options,{enabled:o,wasQuoting:r}=this.state;if(!1===o)return this.__resetField();let s=this.state.field.toString(e);if(!0===i&&!1===r&&(s=s.trimRight()),!0===t){const[t,e]=this.__cast(s);if(void 0!==t)return t;s=e}this.state.record.push(s),0!==n&&"string"==typeof s&&(this.state.record_length+=s.length),this.__resetField()}__resetField(){this.state.field.reset(),this.state.wasQuoting=!1}__push(t){const{on_record:e}=this.options;if(void 0!==e){const n=this.__context();try{t=e.call(null,t,n)}catch(i){return i}if(null==t)return}this.push(t)}__cast(t){const{columns:e,relax_column_count:i}=this.options;if(!0===Array.isArray(e)&&i&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];const n=this.__context();if(null!==this.state.castField)try{return[void 0,this.state.castField.call(null,t,n)]}catch(o){return[o]}return this.__isFloat(t)?[void 0,parseFloat(t)]:!1!==this.options.cast_date?[void 0,this.options.cast_date.call(null,t,n)]:[void 0,t]}__isCharTrimable(t){return 32===t||9===t||13===t||10===t||12===t}__isFloat(t){return t-parseFloat(t)+1>=0}__compareBytes(t,e,i,n){if(t[0]!==n)return 0;const o=t.length;for(let r=1;r<o;r++)if(t[r]!==e[i+r])return 0;return o}__needMoreData(t,e,i){if(i)return!1;const{quote:n}=this.options,{quoting:o,needMoreDataSize:r,recordDelimiterMaxLength:s}=this.state;return e-t-1<Math.max(r,s,o?n.length+s:0)}__isDelimiter(t,e,i){const{delimiter:n,ignore_last_delimiters:o}=this.options;if(!0===o&&this.state.record.length===this.options.columns.length-1)return 0;if(!1!==o&&"number"==typeof o&&this.state.record.length===o-1)return 0;t:for(let r=0;r<n.length;r++){const o=n[r];if(o[0]===i){for(let i=1;i<o.length;i++)if(o[i]!==t[e+i])continue t;return o.length}}return 0}__isRecordDelimiter(t,e,i){const{record_delimiter:n}=this.options,o=n.length;t:for(let r=0;r<o;r++){const o=n[r],s=o.length;if(o[0]===t){for(let t=1;t<s;t++)if(o[t]!==e[i+t])continue t;return o.length}}return 0}__isEscape(t,e,i){const{escape:n}=this.options;if(null===n)return!1;const o=n.length;if(n[0]===i){for(let i=0;i<o;i++)if(n[i]!==t[e+i])return!1;return!0}return!1}__isQuote(t,e){const{quote:i}=this.options;if(null===i)return!1;const n=i.length;for(let o=0;o<n;o++)if(i[o]!==t[e+o])return!1;return!0}__autoDiscoverRecordDelimiter(t,i){const{encoding:n}=this.options,o=t[i];return 13===o?10===t[i+1]?(this.options.record_delimiter.push(e.from("\r\n",n)),this.state.recordDelimiterMaxLength=2,2):(this.options.record_delimiter.push(e.from("\r",n)),this.state.recordDelimiterMaxLength=1,1):10===o?(this.options.record_delimiter.push(e.from("\n",n)),this.state.recordDelimiterMaxLength=1,1):0}__error(t){const{skip_lines_with_error:e}=this.options,i="string"==typeof t?new Error(t):t;return e?(this.state.recordHasError=!0,void this.emit("skip",i)):i}__context(){const{columns:t}=this.options;return{column:!0===Array.isArray(t)?t.length>this.state.record.length?t[this.state.record.length].name:null:this.state.record.length,empty_lines:this.info.empty_lines,error:this.state.error,header:!0===t,index:this.state.record.length,invalid_field_length:this.info.invalid_field_length,quoting:this.state.wasQuoting,lines:this.info.lines,records:this.info.records}}}const a=function(){let t,i,o;for(let n in arguments){const r=arguments[n],s=typeof r;if(void 0!==t||"string"!=typeof r&&!e.isBuffer(r))if(void 0===i&&u(r))i=r;else{if(void 0!==o||"function"!==s)throw new c("CSV_INVALID_ARGUMENT",["Invalid argument:",`got ${JSON.stringify(r)} at index ${n}`],this.options);o=r}else t=r}const r=new l(i);if(o){const t=void 0===i||void 0===i.objname?[]:{};r.on("readable",(function(){let e;for(;null!==(e=this.read());)void 0===i||void 0===i.objname?t.push(e):t[e[0]]=e[1]})),r.on("error",(function(t){o(t,void 0,r.info)})),r.on("end",(function(){o(void 0,t,r.info)}))}return void 0!==t&&("function"==typeof n?n((function(){r.write(t),r.end()})):(r.write(t),r.end())),r};class c extends Error{constructor(t,i,n,...o){Array.isArray(i)&&(i=i.join(" ")),super(i),void 0!==Error.captureStackTrace&&Error.captureStackTrace(this,c),this.code=t;for(const r of o)for(const t in r){const i=r[t];this[t]=e.isBuffer(i)?i.toString(n.encoding):null==i?i:JSON.parse(JSON.stringify(i))}}}a.Parser=l,a.CsvError=c,t.exports=a;const f=function(t){return t.replace(/([A-Z])/g,(function(t,e){return"_"+e.toLowerCase()}))},u=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)},_=function(t){return t.every((t=>null==t||t.toString&&""===t.toString().trim()))},h=function(t){const e=[];for(let i=0,n=t.length;i<n;i++){const n=t[i];if(null==n||!1===n)e[i]={disabled:!0};else if("string"==typeof n)e[i]={name:n};else{if(!u(n))throw new c("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(n)} at position ${i}`]);if("string"!=typeof n.name)throw new c("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${i}`,"when column is an object literal"]);e[i]=n}}return e}}).call(this,i(814).Buffer,i(889).setImmediate)},6319:function(t,e,i){(function(e){t.exports=class{constructor(t=100){this.size=t,this.length=0,this.buf=e.alloc(t)}prepend(t){if(e.isBuffer(t)){const i=this.length+t.length;if(i>=this.size&&(this.resize(),i>=this.size))throw Error("INVALID_BUFFER_STATE");const n=this.buf;this.buf=e.alloc(this.size),t.copy(this.buf,0),n.copy(this.buf,t.length),this.length+=t.length}else{const e=this.length++;e===this.size&&this.resize();const i=this.clone();this.buf[0]=t,i.copy(this.buf,1,0,e)}}append(t){const e=this.length++;e===this.size&&this.resize(),this.buf[e]=t}clone(){return e.from(this.buf.slice(0,this.length))}resize(){const t=this.length;this.size=2*this.size;const i=e.alloc(this.size);this.buf.copy(i,0,0,t),this.buf=i}toString(t){return t?this.buf.slice(0,this.length).toString(t):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}}}).call(this,i(814).Buffer)},6320:function(t,e,i){(function(e){function i(t,e){var i,n,o=!1,r={},s=0;e.forEach((function(t){r[t]=0}));for(var l=0;l<t.length;l++)'"'===t[l]?o=!o:!o&&t[l]in r&&(n=++r[t[l]])>s&&(s=n,i=t[l]);return i}t.exports=function(t,n){n=n||{},e.isBuffer(t)&&(t+="");var o=n.delimiters||[",",";","\t","|"],r=n.newlines||["\n","\r"],s=i(t.split(/[\n\r]+/g)[0],o),l=i(t,r);return s?{delimiter:s,newline:l}:null}}).call(this,i(814).Buffer)},889:function(t,e,i){(function(t){var n=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function r(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new r(o.call(setTimeout,n,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,n,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(n,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},i(1054),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,i(22))}}]);