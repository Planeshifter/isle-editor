(self.webpackChunk=self.webpackChunk||[]).push([[2273],{796117:function(t,e,o){"use strict";o.r(e);o(382139);var s=o(858255),n=o(264659),i=o(904730),r=o(673989),a=o(175663),p=o(750591),l=o(575630),c=o(151119),u=o(202784),h=(o(213980),o(911755)),f=o.n(h),d=o(198),v=o(770561),b=o(150275),m=o(778886),Z=o(741319),y=o(964909);function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,s=(0,l.Z)(t);if(e){var n=(0,l.Z)(this).constructor;o=Reflect.construct(s,arguments,n)}else o=s.apply(this,arguments);return(0,p.Z)(this,o)}}var k=f()("isle:video-chat-button"),V=function(t){(0,a.Z)(o,t);var e=C(o);function o(t){var s;return(0,n.Z)(this,o),s=e.call(this,t),(0,c.Z)((0,r.Z)(s),"toggleVideoChat",(function(t){var e=!s.state.opened;s.props.onClick(t,e),s.setState({opened:e},(function(){var t=s.context;e?(k("Should join chat for component with id '".concat(s.props.for,"'...")),t.joinVideoChat({name:s.props.for,subject:s.props.subject||s.props.for})):(k("Should leave chat for component with id '".concat(s.props.for,"'...")),t.leaveVideoChat(s.props.for))}))})),s.state={opened:!1},s}return(0,i.Z)(o,[{key:"componentDidMount",value:function(){var t=this,e=this.context;this.unsubscribe=e.subscribe((function(e,o){e===y.q&&o===t.props.for?t.setState({opened:!0}):e===y.lK&&o===t.props.for?t.setState({opened:!1}):e!==y.O4&&e!==y.YQ||t.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var t,e,o,n=this.context,i=this.props.t;if(t=this.props.buttonLabel?this.props.buttonLabel:this.state.opened?i("leave"):i("join"),e=this.props.buttonVariant?this.props.buttonVariant:this.state.opened?"success":"secondary",!n.jitsi)return(0,s.Z)(v.Z,{disabled:!0,name:"Video Chat",variant:e,size:this.props.size,className:this.props.className,style:this.props.style,"aria-disabled":"true","aria-label":i("disabled")},void 0,t);o=this.props.tooltip?this.props.tooltip:this.state.opened?i("leave-id",{id:this.props.for}):i("join-id",{id:this.props.for});var r=(0,s.Z)(v.Z,{name:"Video Chat",variant:e,size:this.props.size,className:this.props.className,onClick:this.toggleVideoChat,style:this.props.style,"aria-label":i("toggle")},void 0,(0,s.Z)("span",{style:{pointerEvents:"none"}},void 0,t));return this.props.showTooltip&&(r=(0,s.Z)(b.Z,{tooltip:o,placement:this.props.tooltipPlacement},void 0,r)),(0,s.Z)(m.Z,{user:!0},void 0,r)}}]),o}(u.Component);V.defaultProps={subject:null,buttonLabel:null,showTooltip:!0,size:"sm",buttonVariant:null,tooltipPlacement:"top",onClick:function(){},className:"",style:{}},V.contextType=Z.Z,e.default=(0,d.Z)("video")(V)}}]);