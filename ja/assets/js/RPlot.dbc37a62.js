(self.webpackChunk=self.webpackChunk||[]).push([[8922],{562020:function(e,t,n){"use strict";n.r(t);var a,o=n(607560),i=n(858255),r=n(574315),l=n(454530),c=n(202784),d=(n(213980),n(376699)),s=n(108195),u=n(834863),m=n.n(u),g=n(409961),p=n.n(g),b=n(760977),f=n(71816),v=n(472132),y=n(741319),Z=n(806258),h=n(432261),C=["code","className","draggable","id","libraries","prependCode","fileType","meta","onDone"];function w(e){var t,n=e.id,a=e.meta,o=e.plot;return a?(a=m()(a,(function(e,t){return p()(t)})),a=s.ZP.dump(a),t='<img src="'.concat(o,'" style="display: block; margin: 0 auto;" data-plot-id="').concat(n,'" data-plot-meta="').concat(a,'"></img>')):t='<img src="'.concat(o,'" alt="R Plot" style="display: block; margin: 0 auto;" />'),t}var k=function(e){var t=e.code,n=e.className,s=e.draggable,u=e.id,m=e.libraries,g=e.prependCode,p=e.fileType,h=e.meta,k=e.onDone,N=(0,l.Z)(e,C),D=(0,d.$)("r").t,R=(0,c.useState)(!1),S=(0,r.Z)(R,2),T=S[0],x=S[1],E=(0,c.useState)({img:null,body:null}),P=(0,r.Z)(E,2),j=P[0],H=P[1],A=(0,c.useContext)(y.Z);(0,c.useEffect)((function(){x(!0);var e=(0,b.Z)(m,g,A)+t;A.getRPlot(e,p,(function(e,t,n){e?k(e):(H({img:t,body:n}),x(!1),k(null,t,n))}))}),[t,p,m,g,A,k]);var F=null;return s&&(F=(0,i.Z)("button",{className:"rplot-draggable-bar",draggable:!0,onDragStart:function(e){var t=w({id:u,meta:h,plot:j.body});e.dataTransfer.setData("text/html",t)},onClick:function(){var e=w({id:u,meta:h,plot:j.body});(0,Z.Z)(e)}},void 0,D("drag-plot"))),(0,i.Z)("div",{className:"rplot ".concat(n),style:{minHeight:128,cursor:"pointer"}},void 0,(0,i.Z)(f.Z,{running:T,width:256,height:128}),T?a||(a=(0,i.Z)("span",{})):(0,i.Z)(c.Fragment,{},void 0,F,c.createElement(v.Z,(0,o.Z)({src:j.img,body:j.body,title:D("r-plot")},N))))};k.defaultProps={code:"",width:600,height:"auto",draggable:!1,fileType:"svg",libraries:[],prependCode:"",meta:null,className:"",onDone:function(){}},t.default=(0,h.W)(k)},760977:function(e,t,n){"use strict";n(319371);var a=n(588703),o=n.n(a);t.Z=function(e,t,n){var a=n.config.rshell;a&&a.libraries&&(e=e.concat(a.libraries));var i=function(e){return e.map((function(e){return"library("+e+");"})).join(" ")}(e);return a&&a.global&&(i+=a.global+"\n"),t=o()(t)?t.join("\n"):t,i+=t+="\n"}},806258:function(e,t){"use strict";t.Z=function(e){var t=document.createElement("div");t.innerHTML=e,t.style.position="fixed",t.style.opacity=0,t.style.pointerEvents="none",document.body.appendChild(t),window.getSelection().removeAllRanges();var n=document.createRange();n.selectNode(t),window.getSelection().addRange(n),document.execCommand("copy"),document.body.removeChild(t)}}}]);