(window.webpackJsonp=window.webpackJsonp||[]).push([[390],{5687:function(e,t,a){"use strict";a.r(t);a(357),a(349),a(361);var r=a(350),n=a.n(r),o=a(352),i=a.n(o),u=a(355),l=a.n(u),c=a(356),s=a.n(c),d=a(353),v=a.n(d),f=a(360),p=a.n(f),h=a(0),b=(a(338),a(450)),g=a(396),y=a(1005),m=a(682),q=a(555),F=a(517),C=a(504),w=a.n(C),R=a(2072),T=a.n(R),V=a(1290),P=a.n(V),k=a(1291),D=a.n(k),S=a(446),x=a(1594),A=a(760);function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v()(e);if(t){var n=v()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return s()(this,a)}}var z={numeric:!0};function B(e,t,a){var r,n=P()(t,D.a);e.categories?r=e.categories:(r=w()(n)).sort((function(e,t){return e.localeCompare(t,void 0,z)}));for(var o=new Array(r.length),i=0;i<r.length;i++)o[i]={category:r[i],count:n[r[i]]};if(a){var u=o.map((function(e){return e.count?e.count:0})).reduce((function(e,t){return e+t}));o=o.map((function(e){return e.count=e.count/u,e}))}return o}var J=p()("th",{},void 0,"Category"),j=p()("td",{}),H=p()("th",{},void 0,"Total"),N=p()("td",{}),O=p()("th",{},void 0,"Category"),X=p()("th",{},void 0,"Total"),E=p()(b.a.Header,{as:"h4"},void 0,"Frequency Table",p()(A.a,{title:"Frequency Table",content:"A frequency table is a tabular display for either the raw absolute or relative frequencies of a categorical variable's values."})),I=function(e){l()(a,e);var t=G(a);function a(e){var r;return n()(this,a),(r=t.call(this,e)).state={relativeFreqs:!1,variable:e.defaultValue||e.variables[0],group:null,nDecimalPlaces:3},r}return i()(a,[{key:"generateFrequencyTable",value:function(){var e,t=this.state,a=t.variable,r=t.group,n=t.relativeFreqs,o=t.nDecimalPlaces;if(r){if(e=Object(x.a)(this.props.data[a],this.props.data[r],(function(e){return B(a,e,n)})),r.categories){for(var i={},u=0;u<r.categories.length;u++)i[r.categories[u]]=e[r.categories[u]];e=i}}else e=B(a,this.props.data[a],n);var l={variable:r?"".concat(a," by ").concat(r):a,type:r?"Grouped Frequency Table":"Frequency Table",relative:n};l.value=r?function(e,t,a,r){return p()("div",{style:{overflowX:"auto",width:"100%"}},void 0,p()("label",{},void 0,e,": "),T()(t).map((function(e,t){var n,o=e[1].map((function(e,t){return p()("td",{},t,e.category)}));if(a)n=e[1].map((function(e,t){return p()("td",{},t,e.count.toFixed(r))}));else{var i=0;(n=e[1].map((function(e,t){return i+=e.count,p()("td",{},t,e.count)}))).push(p()("td",{},"total",i))}return p()("div",{},t,p()("label",{},void 0,e[0],": "),p()(y.a,{bordered:!0,size:"sm"},void 0,p()("thead",{},void 0,p()("tr",{},void 0,O,o,a?null:X)),p()("tbody",{},void 0,p()("th",{},void 0,a?"Relative":"Count"),n)))})))}(l.variable,e,n,o):function(e,t,a,r){var n=0;return p()(y.a,{bordered:!0,size:"sm"},void 0,p()("thead",{},void 0,p()("tr",{},void 0,p()("th",{className:"not-sortable"},void 0,e),J,p()("th",{},void 0,a?"Relative Frequency":"Count"))),p()("tbody",{},void 0,t.map((function(e,t){return n+=e.count,p()("tr",{},t,j,p()("td",{},void 0,e.category),p()("td",{},void 0,a?e.count.toFixed(r):e.count))}))),p()("tbody",{},void 0,p()("tr",{},"total",H,N,p()("td",{},void 0,a?"1.0":n))))}(l.variable,e,n,o),this.props.logAction(S.l,{variable:a,group:r,relativeFreqs:n}),this.props.onCreated(l)}},{key:"render",value:function(){var e=this,t=this.props,a=t.variables,r=t.groupingVariables;return p()(b.a,{},void 0,E,p()(b.a.Body,{},void 0,p()(q.a,{legend:"Variable:",defaultValue:this.state.variable,options:a,onChange:function(t){e.setState({variable:t})}}),p()(q.a,{legend:"Group By:",options:r,clearable:!0,menuPlacement:"top",onChange:function(t){e.setState({group:t})},tooltip:"Generate a frequency table for each category of a chosen grouping variable"}),p()(m.a,{legend:"Relative Frequency",defaultValue:!1,onChange:function(){e.setState({relativeFreqs:!e.state.relativeFreqs})}}),this.state.relativeFreqs?p()("p",{},void 0,"Report relative frequencies to",p()(F.b,{inline:!0,width:50,max:16,min:0,defaultValue:this.state.nDecimalPlaces,onChange:function(t){e.setState({nDecimalPlaces:t})}}),"decimal place(s)."):null,p()(g.a,{variant:"primary",block:!0,onClick:this.generateFrequencyTable.bind(this)},void 0,"Generate")))}}]),a}(h.Component);I.defaultProps={defaultValue:null,groupingVariables:null,logAction:function(){}},t.default=I}}]);