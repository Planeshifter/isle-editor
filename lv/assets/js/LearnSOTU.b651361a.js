(self.webpackChunk=self.webpackChunk||[]).push([[3978],{112697:function(e,t,n){"use strict";n.r(t);n(382139);var a=n(858255),o=n(264659),s=n(904730),r=n(673989),i=n(175663),u=n(750591),l=n(575630),c=n(151119),d=(n(319371),n(6059),n(202784)),h=(n(213980),n(198)),f=n(911755),v=n.n(f),Z=n(320231),p=n.n(Z),m=n(243264),y=n.n(m),g=n(801420),x=n.n(g),b=n(471275),k=n(458264),w=n(312594),S=n(796201),C=n(741709),q=n(292682),R=n(462874),B=n(589826),W=n(163420);function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return(0,u.Z)(this,n)}}var I=v()("isle:learn-sotu"),P=function(e){(0,i.Z)(u,e);var t=V(u);function u(e){var n;return(0,o.Z)(this,u),n=t.call(this,e),(0,c.Z)((0,r.Z)(n),"getYear",(function(e){return n.state.tdm.years[e]})),(0,c.Z)((0,r.Z)(n),"handleVennClick",(function(e){for(var t=e.freqs,a=[],o=0;o<t.length;o++)if(t[o].docIndices){var s=t[o].docIndices.map(n.getYear);p()(s);var r=s.map((function(e){return 1}));a.push({x:s,y:r,base:o,type:"bar",name:e.words[o],hoverinfo:"x"})}n.setState({timeseries:a,vennWords:e.words})})),n.state={vennWords:[],timeseries:[],speech:{},tdm:null},n}return(0,s.Z)(u,[{key:"componentDidMount",value:function(){var e=this;n.e(4462).then(n.t.bind(n,804267,19)).then((function(t){I("Successfully loaded fonts..."),e.setState({tdm:t.default})})).catch((function(e){I("Encountered an error while loading fonts: "+e.message)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.vennWords,o=t.timeseries,s=t.tdm,r=this.props.t,i=x()(this.props.questions);return(0,a.Z)(d.Fragment,{},void 0,(0,a.Z)(b.Z,{},void 0,(0,a.Z)(k.Z,{},void 0,(0,a.Z)(w.Z,{md:8-(i?0:2)},void 0,i?(0,a.Z)(B.Z,{title:r("questions"),height:300,style:{paddingBottom:0}},void 0,this.props.questions):null,n.length>0?(0,a.Z)(R.Z,{header:"".concat(n.join(", ")," over Time")},void 0,(0,a.Z)(q.Z,{data:o,layout:{barmode:"stack",yaxis:{fixedrange:!0,ticks:"",showticklabels:!1},xaxis:{fixedrange:!0}},removeButtons:!0,draggable:!1})):null),(0,a.Z)(w.Z,{md:4+(i?0:2)},void 0,s?(0,a.Z)(S.Z,{tdm:s.tdm,vocabulary:s.vocabulary,nTexts:120,height:250,width:350,onClick:this.handleVennClick}):null))),(0,a.Z)(W.Z,{autoUpdate:!0,autoStart:!0,maxWidth:900,title:r("state-of-the-union-addresses"),onGenerate:function(t){if(1933===t)return e.setState({speech:{name:r("not-available"),text:r("not-available"),party:r("not-available")}});var n=y()({year:t});e.setState({speech:n[0]})}},void 0,(0,a.Z)(C.Z,{legend:r("year"),min:1900,max:2018,defaultValue:2018,step:1}),(0,a.Z)(b.Z,{},void 0,(0,a.Z)("h4",{},void 0,r("president")," ",this.state.speech.name,", ",this.state.speech.party," ",r("party")),(0,a.Z)("h4",{},void 0,r("speech")),(0,a.Z)(R.Z,{style:{height:400,overflow:"scroll",fontSize:"14px"}},void 0,this.state.speech.text))))}}]),u}(d.Component);P.defaultProps={questions:null},t.default=(0,h.Z)("learn/sotu")(P)}}]);