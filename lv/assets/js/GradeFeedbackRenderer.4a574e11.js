(self.webpackChunk=self.webpackChunk||[]).push([[4507],{149764:function(e,t,r){"use strict";r.r(t);r(382139),r(627476),r(95767),r(898837),r(694882),r(298351);var s,a,n,o,i=r(607560),c=r(454530),l=r(858255),u=r(264659),p=r(904730),f=r(673989),d=r(175663),g=r(750591),v=r(575630),m=r(151119),h=(r(319371),r(202784)),b=r(198),y=(r(213980),r(309765)),Z=r(741319),k=r(223444),w=r(618245),O=r(770561),x=r(150275),N=r(437893),P=["placement","arrowProps","show","popper"];function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,m.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,s=(0,v.Z)(e);if(t){var a=(0,v.Z)(this).constructor;r=Reflect.construct(s,arguments,a)}else r=s.apply(this,arguments);return(0,g.Z)(this,r)}}var B=function(e){(0,d.Z)(r,e);var t=D(r);function r(e){var s;return(0,u.Z)(this,r),s=t.call(this,e),(0,m.Z)((0,f.Z)(s),"toggleMessages",(function(){s.setState({showMessages:!s.state.showMessages})})),s.state={showMessages:!1},s}return(0,p.Z)(r,[{key:"renderMessages",value:function(){var e=this,t=this.context,r=t.user.lessonGradeMessages[t.lessonID];return r&&r[this.props.for]?(0,l.Z)("div",{className:"grade-feedback-renderer-messages"},void 0,r[this.props.for].map((function(r,a){return(0,l.Z)("div",{className:"grade-feedback-message"},a,(0,l.Z)("img",{className:"grade-feedback-picture unselectable",src:t.server+"/thumbnail/"+r.picture,alt:e.props.t("profile-pic")}),(0,l.Z)("div",{className:"grade-feedback-message-right"},void 0,(0,l.Z)("span",{className:"grade-feedback-user"},void 0,r.user)," - ",(0,l.Z)("span",{className:"grade-feedback-time"},void 0,(0,N.Z)(r.time)),s||(s=(0,l.Z)("br",{})),(0,l.Z)("span",{className:"grade-feedback-message-content"},void 0,r.content)))}))):null}},{key:"renderOverlay",value:function(){var e=this;return this.state.showMessages?(0,l.Z)(w.Z,{target:this.messagesButton,show:this.state.showMessages,placement:"right"},void 0,(function(t){t.placement,t.arrowProps,t.show,t.popper;var r=(0,c.Z)(t,P);return h.createElement("div",(0,i.Z)({},r,{style:j({backgroundColor:"#f8f9fa",padding:"2px 10px",color:"darkslategrey",borderRadius:6,border:"1px solid darkslategrey",width:"600px",boxShadow:"0px 0px 4px darkslategrey",zIndex:1006},r.style)}),(0,l.Z)("div",{style:{marginTop:6,marginBottom:6}},void 0,e.props.for,(0,l.Z)(O.Z,{"aria-label":e.props.t("close"),variant:"secondary",size:"sm",onClick:function(){e.setState({showMessages:!1})},style:{float:"right",marginBottom:4}},void 0,a||(a=(0,l.Z)("i",{className:"fas fa-times"})))),n||(n=(0,l.Z)("hr",{})),e.renderMessages())})):null}},{key:"render",value:function(){var e=this,t=this.context;if(!t.user||!t.user.lessonGrades)return null;var r=t.user.lessonGrades[t.lessonID];if(!r||!(0,y.isPrimitive)(r[this.props.for]))return null;var s=t.user.lessonGradeMessages[t.lessonID],a=s&&s[this.props.for];return(0,l.Z)(h.Fragment,{},void 0,(0,l.Z)(k.Z,{variant:"success",style:{fontSize:"1em"}},void 0,this.props.t("your-points"),": ",r[this.props.for]," / ",this.props.points),a?(0,l.Z)(x.Z,{tooltip:this.props.t("display-instructor-feedback")},void 0,h.createElement(O.Z,{"aria-label":this.props.t("display-instructor-feedback"),ref:function(t){e.messagesButton=t},onClick:this.toggleMessages,size:"small",variant:"light",style:{marginLeft:12},className:"grade-feedback-button"},o||(o=(0,l.Z)("i",{className:"fas fa-envelope-open"})))):null,this.renderOverlay())}}]),r}(h.Component);B.contextType=Z.Z,t.default=(0,b.Z)("internal/grade-feedback-renderer")(B)},437893:function(e,t){"use strict";t.Z=function(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",month:"short",day:"numeric"})}},770561:function(e,t,r){"use strict";var s=r(607560),a=r(998283),n=r(72779),o=r.n(n),i=r(202784),c=r(429658),l=r(482695),u=["bsPrefix","variant","size","active","className","block","type","as"],p=i.forwardRef((function(e,t){var r=e.bsPrefix,n=e.variant,p=e.size,f=e.active,d=e.className,g=e.block,v=e.type,m=e.as,h=(0,a.Z)(e,u),b=(0,c.vE)(r,"btn"),y=o()(d,b,f&&"active",n&&b+"-"+n,g&&b+"-block",p&&b+"-"+p);if(h.href)return i.createElement(l.Z,(0,s.Z)({},h,{as:m,ref:t,className:o()(y,h.disabled&&"disabled")}));t&&(h.ref=t),v?h.type=v:m||(h.type="button");var Z=m||"button";return i.createElement(Z,(0,s.Z)({},h,{className:y}))}));p.displayName="Button",p.defaultProps={variant:"primary",active:!1,disabled:!1},t.Z=p}}]);