/*! For license information please see 291.9c478911.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[291],{1391:function(e,t,n){"use strict";var o=n(1392);e.exports=o},1392:function(e,t,n){"use strict";var o=n(582)(n(522));e.exports=o},2884:function(e,t,n){"use strict";var o=n(442),r=n(463),i=n(1250);o.a.use(i.a).use(r.e).init({debug:!0,lng:"en",fallbackLng:"en",ns:["components"],defaultNS:"components",resources:{},react:{wait:!0},interpolation:{escapeValue:!1}}),t.a=o.a},2885:function(e,t,n){"use strict";var o=n(352),r=Object(o.a)((function(){return Promise.all([n.e(0),n.e(1),n.e(6),n.e(299),n.e(324)]).then(n.bind(null,3491))}));t.a=r},2886:function(e,t,n){"use strict";n(361);var o=n(364),r=n.n(o),i=(n(358),n(353),n(357)),a=n.n(i),s=n(359),c=n.n(s),u=n(367),l=n.n(u),p=n(362),d=n.n(p),f=n(363),g=n.n(f),h=n(360),v=n.n(h),m=n(354),b=n.n(m),y=n(0),w=(n(8),n(385)),x=n.n(w),O=n(478),C=n(93),S=n(460),R=n.n(S),N=n(863),E=n.n(N);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v()(e);if(t){var r=v()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return g()(this,n)}}var T=x()("isle:lesson:contextmenu"),k=["input","textarea"];var I=function(e){d()(n,e);var t=j(n);function n(e){var o;return a()(this,n),o=t.call(this,e),b()(l()(o),"handleSelectionChange",(function(e){if(!o.state.contextMenuIsOpen){var t,n=window.getSelection(),r=(t=document.activeElement)&&~k.indexOf(t.tagName.toLowerCase())?!t.readOnly&&!t.disabled:(t=getSelection().anchorNode)?(t=t.parentNode).isContentEditable:void 0,i=document.activeElement;if(-1!==k.indexOf(i.tagName.toLowerCase())){var a=i.value.slice(i.selectionStart,i.selectionEnd);return o.setState({lastText:a,lastActive:i,editable:r})}if(n.isCollapsed&&"Range"!==n.type)setTimeout((function(){o.forceUpdate()}),150);else if(o.lastSelection=n,n.getRangeAt&&n.rangeCount){var s=n.getRangeAt(0),c=n.toString();o.setState({lastActive:i,lastRange:s,lastText:c,editable:r})}}})),b()(l()(o),"highlightText",(function(e){T("Highlight the selected text..."),document.designMode="on";var t=window.getSelection();t.removeAllRanges(),t.addRange(o.state.lastRange),document.execCommand("styleWithCSS",!1,!0),document.execCommand("backColor",!1,"yellow"),document.designMode="off"})),b()(l()(o),"removeHighlight",(function(e){T("Highlight the selected text...");var t=window.getSelection();t.removeAllRanges(),t.addRange(o.state.lastRange),document.designMode="on",document.execCommand("styleWithCSS",!1,!0),document.execCommand("backColor",!1,"inherit"),document.designMode="off"})),b()(l()(o),"cutSelection",(function(){var e=o.state.lastActive;if(-1!==k.indexOf(e.tagName.toLowerCase()))return e.value=R()(e.value,o.state.lastText,""),navigator.clipboard.writeText(o.state.lastText);var t=window.getSelection();t.removeAllRanges(),t.addRange(o.state.lastRange),document.execCommand("cut")})),b()(l()(o),"copyToClipboard",(function(e){T("Copying selection to clipboard... "),navigator.clipboard.writeText(o.state.lastText)})),b()(l()(o),"copyFromClipboard",(function(){navigator.clipboard.readText().then((function(e){if(!e)return o.props.session.addNotification({title:o.props.t("clipboard-empty"),message:o.props.t("clipboard-empty-message"),level:"error",position:"tr"});var t=o.state.lastActive;t&&t.focus(),document.execCommand("insertText",!1,e)}))})),b()(l()(o),"textToSpeech",(function(){var e=o.state.lastText;T("Read aloud: "+e);var t=o.props.session;if(E()(window.speechSynthesis.getVoices()))return t.addNotification({title:o.props.t("voice-not-supported"),message:o.props.t("voice-not-supported-message"),level:"error",position:"tr"});var n=new SpeechSynthesisUtterance(e);n.lang=t.config.language||"en-US",window.speechSynthesis.speak(n)})),o.state={lastRange:null,lastText:"",contextMenuIsOpen:!1,editable:!1},o}return c()(n,[{key:"componentDidMount",value:function(){document.addEventListener("selectionchange",this.handleSelectionChange)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("selectionchange",this.handleSelectionChange)}},{key:"render",value:function(){var e=this,t=[],n=window.getSelection(),o=document.activeElement,i=o&&-1!==k.indexOf(o.tagName.toLowerCase());if((!n.isCollapsed||"Range"===n.type)&&(this.state.editable&&t.push(r()(C.MenuItem,{onClick:this.cutSelection},0,this.props.t("cut"))),t.push(r()(C.MenuItem,{onClick:this.copyToClipboard},1,this.props.t("copy"))),t.push(r()(C.MenuItem,{onClick:this.textToSpeech},2,this.props.t("read-aloud"))),!i&&!o.isContentEditable&&(t.push(r()(C.MenuItem,{onClick:this.highlightText},3,this.props.t("highlight"))),n&&n.focusNode))){var a=n.focusNode.parentElement;a&&a.style&&"yellow"===a.style.backgroundColor&&t.push(r()(C.MenuItem,{onClick:this.removeHighlight},4,this.props.t("remove-highlight")))}return i?t.push(r()(C.MenuItem,{onClick:this.copyFromClipboard},5,this.props.t("paste"))):o.isContentEditable||t.push(r()(C.MenuItem,{onClick:function(t){e.props.addNote({left:t.pageX,top:t.pageY})}},6,this.props.t("add-note"))),r()(C.ContextMenu,{id:"lessonWindow",onShow:function(){T("Context menu has been opened..."),e.setState({contextMenuIsOpen:!0})},onHide:function(){T("Context menu has been closed..."),e.setState({contextMenuIsOpen:!1})}},void 0,t)}}]),n}(y.Component);t.a=Object(O.a)()(I)},2887:function(e,t,n){"use strict";var o=n(364),r=n.n(o),i=(n(0),n(275),r()("div",{className:"forbidden-wrapper"},void 0,r()("h3",{className:"forbidden-header"},void 0,"Lesson not available (yet)")));t.a=function(){return i}},2888:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o,r=n(364),i=n.n(r);n(577),n(0),n(276),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=i()("div",{id:"pwa-notification"},void 0,"A new version of this lesson is available. Click ",i()("button",{onClick:function(){console.log("Skip waiting and immediately reload newest data..."),!1,o.postMessage({type:"SKIP_WAITING"})}},void 0,"here")," to update."),s=function(){return a}},2889:function(e){e.exports=JSON.parse('{"EN":{"add-note":"Add Note","clipboard-empty":"Clipboard is empty","clipboard-empty-message":"Failed to insert text. The clipboard is currently empty.","copy":"Copy","cut":"Cut","highlight":"Highlight","paste":"Paste","read-aloud":"Read aloud","remove-highlight":"Remove Highlight","voice-not-supported":"Not supported.","voice-not-supported-message":"The text-to-speech functionality is currently not supported on your browser. Please try Google Chrome."},"DE":{"add-note":"Notiz hinzuf\xfcgen","clipboard-empty":"Zwischenablage ist leer","clipboard-empty-message":"Das Einf\xfcgen von Text ist fehlgeschlagen. Die Zwischenablage ist derzeit leer.","copy":"Kopieren","cut":"Ausschneiden","highlight":"Hervorheben","paste":"Einf\xfcgen","read-aloud":"Vorlesen","remove-highlight":"Hervorhebung entfernen","voice-not-supported":"Nicht unterst\xfctzt.","voice-not-supported-message":"Die Text-to-Speech-Funktionalit\xe4t wird derzeit von Ihrem Browser nicht unterst\xfctzt. Bitte versuchen Sie Google Chrome."},"ES":{"add-note":"A\xf1ade una nota","clipboard-empty":"El portapapeles est\xe1 vac\xedo","clipboard-empty-message":"No se insert\xf3 el texto. El portapapeles est\xe1 actualmente vac\xedo.","copy":"Kopieren","cut":"Cortar","highlight":"Destacar","paste":"Pegar","read-aloud":"Lea en voz alta","remove-highlight":"Eliminar el resalte","voice-not-supported":"No se apoya.","voice-not-supported-message":"La funci\xf3n de texto a voz no es actualmente compatible con su navegador. Prueba con Google Chrome."}}')},3552:function(e,t,n){"use strict";n.r(t),function(e){n(358),n(353),n(361);var o=n(364),r=n.n(o),i=n(357),a=n.n(i),s=n(359),c=n.n(s),u=n(367),l=n.n(u),p=n(362),d=n.n(p),f=n(363),g=n.n(f),h=n(360),v=n.n(h),m=n(354),b=n.n(m),y=n(0),w=n.n(y),x=(n(8),n(274)),O=n.n(x),C=n(93),S=n(1391),R=n.n(S),N=n(2884),E=n(2885),j=n(1035),T=n(546),k=n(394),I=n(398),P=n(450),D=n(2886),M=n(2887),A=n(2888),L=n(2889);function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v()(e);if(t){var r=v()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return g()(this,n)}}N.a.addResources("de","components",L.DE),N.a.addResources("en","components",L.EN),N.a.addResources("es","components",L.ES);var H={Containers:{tc:{margin:"30px auto 0px auto"}},NotificationItem:{info:{border:"solid 8px #007bff",borderRadius:6,padding:20},success:{boxShadow:"1px 1px 3px 1px darkslategrey"}},Title:{success:{color:"#3c763d"}}},V=r()(M.a,{}),F=r()(E.a,{}),U=r()(A.a,{}),W=function(t){d()(o,t);var n=z(o);function o(e){var t;return a()(this,o),t=n.call(this,e),b()(l()(t),"restoreNotes",(function(e){for(var n=e.lesson,o=0;o<n.length;o++){var r=n[o];if(r.type===I.qb){var i=r.value,a=i.left,s=i.top,c=i.noteID,u=!1,l=0,p=0,d=null,f=null,g=e[c];if(g)for(var h=g.length-1;h>=0;h--)switch(g[h].type){case I.bb:u=!0;break;case I.Ac:f=g[h].value;break;case I.yc:d=g[h].value;break;case I.zc:l+=g[h].value.x,p+=g[h].value.y}a+=l,s+=p,u||t.addNote({left:a,top:s,noteID:c,title:f,body:d})}}})),b()(l()(t),"addNote",(function(e){var n=e.left,o=e.top,i=e.noteID,a=e.body,s=e.title;i||(i=Object(T.a)(3),t.context.log({id:"lesson",type:I.qb,value:{top:o,left:n,noteID:i}}));var c=r()(j.a,{id:i,color:"green",editable:!0,minimizable:!0,removable:!0,draggable:{default:{x:n,y:o}},title:s,body:a},t.state.notes.length),u=t.state.notes.slice();u.push(c),t.setState({notes:u})})),t.state={visible:!0,notes:[]},t}return c()(o,[{key:"componentDidMount",value:function(){var e=this,t=this.context;t.onLessonMount(),this.unsubscribe=t.subscribe((function(n,o){if(n===P.z){var r=o;R()(r.lesson)&&e.restoreNotes(r)}else n!==P.u&&n!==P.w||e.setState({visible:t.isActive()||t.isOwner()})}))}},{key:"render",value:function(){return this.state.visible?r()(y.Fragment,{},void 0,r()(C.ContextMenuTrigger,{attributes:{className:"contextmenu-fullscreen"},holdToDisplay:-1,disableIfShiftIsPressed:!0,id:"lessonWindow"},void 0,r()("div",{id:"Lesson",className:this.props.className,style:this.props.style},void 0,this.props.children,this.state.notes,F,U)),r()(D.a,{addNote:this.addNote,session:this.context}),w.a.createElement(O.a,{ref:function(t){e.notificationSystemISLE=t},allowHTML:!0,style:H})):V}}]),o}(y.Component);W.defaultProps={className:"",style:{}},W.contextType=k.a,t.default=W}.call(this,n(51))},388:function(e,t,n){"use strict";function o(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var r={};function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&r[t[0]]||("string"==typeof t[0]&&(r[t[0]]=new Date),o.apply(void 0,t))}function a(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return i("i18n.languages were undefined or empty",t.languages),!0;var o=t.languages[0],r=!!t.options&&t.options.fallbackLng,a=t.languages[t.languages.length-1];if("cimode"===o.toLowerCase())return!0;var s=function(e,n){var o=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===o||2===o};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(o,e)||(!t.services.backendConnector.backend||!(!s(o,e)||r&&!s(a,e))))}function c(e){return e.displayName||e.name||("string"==typeof e&&e.length>0?e:"Unknown")}},401:function(e,t,n){var o=n(406);e.exports=function(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},406:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}},460:function(e,t,n){"use strict";var o=n(508);e.exports=o},478:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n(354),r=n.n(o),i=n(397),a=n.n(i),s=n(401),c=n.n(s),u=n(0),l=n.n(u),p=n(463),d=n(388);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,o=Object(u.useContext)(p.a)||{},r=o.i18n,i=o.defaultNS,s=n||r||Object(p.d)();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new p.b),!s){Object(d.e)("You will need pass in an i18next instance by using initReactI18next");var c=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[c,{},!1];return l.t=c,l.i18n={},l.ready=!1,l}var f=g({},Object(p.c)(),{},s.options.react,{},t),h=f.useSuspense,v=e||i||s.options&&s.options.defaultNS;v="string"==typeof v?[v]:v||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(v);var m=(s.isInitialized||s.initializedStoreOnce)&&v.every((function(e){return Object(d.b)(e,s,f)}));function b(){return{t:s.getFixedT(null,"fallback"===f.nsMode?v:v[0])}}var y=Object(u.useState)(b()),w=a()(y,2),x=w[0],O=w[1],C=Object(u.useRef)(!0);Object(u.useEffect)((function(){var e=f.bindI18n,t=f.bindI18nStore;function n(){C.current&&O(b())}return C.current=!0,m||h||Object(d.c)(s,v,(function(){C.current&&O(b())})),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){C.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[v.join()]);var S=[x.t,s,m];if(S.t=x.t,S.i18n=s,S.ready=m,m)return S;if(!m&&!h)return S;throw new Promise((function(e){Object(d.c)(s,v,(function(){C.current&&O(b()),e()}))}))}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function o(o){var r=o.forwardedRef,i=c()(o,["forwardedRef"]),s=h(e,i),u=a()(s,3),p=m({},i,{t:u[0],i18n:u[1],tReady:u[2]});return t.withRef&&r?p.ref=r:!t.withRef&&r&&(p.forwardedRef=r),l.a.createElement(n,p)}o.displayName="withI18nextTranslation(".concat(Object(d.a)(n),")"),o.WrappedComponent=n;return t.withRef?l.a.forwardRef((function(e,t){return l.a.createElement(o,Object.assign({},e,{forwardedRef:t}))})):o}}},496:function(e,t,n){"use strict";var o=n(497);e.exports=o},497:function(e,t,n){"use strict";var o=n(557),r=n(482),i=n(498),a=o();e.exports=function(e){return"object"==typeof e&&(e instanceof RegExp||(a?i(e):"[object RegExp]"===r(e)))}},498:function(e,t,n){"use strict";var o=n(499);e.exports=function(e){try{return o.call(e),!0}catch(t){return!1}}},499:function(e,t,n){"use strict";var o=RegExp.prototype.exec;e.exports=o},508:function(e,t,n){"use strict";var o=n(509),r=n(421),i=n(381).isPrimitive,a=n(496);e.exports=function(e,t,n){if(!i(e))throw new TypeError("invalid argument. First argument must be a string primitive. Value: `"+e+"`.");if(i(t))t=o(t),t=new RegExp(t,"g");else if(!a(t))throw new TypeError("invalid argument. Second argument must be a string primitive or regular expression. Value: `"+t+"`.");if(!i(n)&&!r(n))throw new TypeError("invalid argument. Third argument must be a string primitive or replacement function. Value: `"+n+"`.");return e.replace(t,n)}},509:function(e,t,n){"use strict";var o=n(510);e.exports=o},510:function(e,t,n){"use strict";var o=n(381).isPrimitive,r=/[-\/\\^$*+?.()|[\]{}]/g;e.exports=function(e){var t,n;if(!o(e))throw new TypeError("invalid argument. Must provide a regular expression string. Value: `"+e+"`.");if("/"===e[0])for(n=e.length-1;n>=0&&"/"!==e[n];n--);return void 0===n||n<=0?e.replace(r,"\\$&"):(t=(t=e.substring(1,n)).replace(r,"\\$&"),e=e[0]+t+e.substring(n))}},582:function(e,t,n){"use strict";var o=n(728);e.exports=o},728:function(e,t,n){"use strict";var o=n(662);e.exports=function(e){if("function"!=typeof e)throw new TypeError("invalid argument. Must provide a function. Value: `"+e+"`.");return function(t){var n,r;if(!o(t))return!1;if(0===(n=t.length))return!1;for(r=0;r<n;r++)if(!1===e(t[r]))return!1;return!0}}}}]);