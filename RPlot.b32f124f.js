(window.webpackJsonp=window.webpackJsonp||[]).push([[234],{1804:function(t,n,e){"use strict";var a=e(431),o=e.n(a);n.a=function(t,n,e){var a=e.config.rshell;a&&a.libraries&&(t=t.concat(a.libraries));var r=function(t){return t.map((function(t){return"library("+t+");"})).join(" ")}(t);return a&&a.global&&(r+=a.global+"\n"),n=o()(n)?n.join("\n"):n,r+=n+="\n"}},3771:function(t,n,e){"use strict";e.r(n);e(376),e(368),e(377);var a=e(597),o=e.n(a),r=e(443),i=e.n(r),s=e(365),l=e.n(s),c=e(370),p=e.n(c),u=e(371),f=e.n(u),d=e(387),h=e.n(d),g=e(374),v=e.n(g),m=e(375),y=e.n(m),b=e(373),w=e.n(b),D=e(366),P=e.n(D),R=e(0),k=e.n(R),N=(e(357),e(3744)),x=e.n(N),S=e(3766),T=e.n(S),U=e(631),j=e.n(U),C=e(1804),L=e(1377),J=e(1278),E=e(438);e(306);function F(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,a=w()(t);if(n){var o=w()(this).constructor;e=Reflect.construct(a,arguments,o)}else e=a.apply(this,arguments);return y()(this,e)}}var H=l()("span",{}),M=function(t){v()(e,t);var n=F(e);function e(t){var a;return p()(this,e),a=n.call(this,t),P()(h()(a),"savePlot",(function(t,n,e){t?a.props.onDone(t):a.setState({plotURL:n,plot:e,waiting:!1},(function(){a.props.onDone(null,n,e)}))})),a.state={plotURL:null,plot:null,last:"",waiting:!1},a}return f()(e,[{key:"componentDidMount",value:function(){this.getPlot()}},{key:"componentDidUpdate",value:function(){this.getPlot()}},{key:"getPlot",value:function(){if(this.props.code!==this.state.last){this.setState({waiting:!0,last:this.props.code});var t=this.context,n=Object(C.a)(this.props.libraries,this.props.prependCode,t)+this.props.code;t.getRPlot(n,this.props.fileType,this.savePlot)}}},{key:"render",value:function(){var t=this,n=null;this.props.draggable&&(n=l()("div",{className:"rplot-draggable-bar",draggable:!0,onDragStart:function(n){var e;if(t.props.meta){var a=t.props.meta;a=T()(a,(function(t,n){return j()(n)})),a=x.a.safeDump(a),e='<img src="'.concat(t.state.plot,'" style="display: block; margin: 0 auto;" data-plot-id="').concat(t.props.id,'" data-plot-meta="').concat(a,'"></img>')}else e='<img src="'.concat(t.state.plot,'" alt="R Plot" style="display: block; margin: 0 auto;" />');n.dataTransfer.setData("text/html",e)}},void 0,"Drag Plot"));var e=this.props,a=e.className,r=i()(e,["className"]);return l()("div",{className:"rplot ".concat(a),style:{minHeight:128,cursor:"pointer"}},void 0,l()(L.a,{running:this.state.waiting,width:256,height:128}),this.state.waiting?H:l()(R.Fragment,{},void 0,n,k.a.createElement(J.a,o()({src:this.state.plotURL,body:this.state.plot,title:"R Plot"},r))))}}]),e}(R.Component);M.defaultProps={code:"",width:600,height:"auto",draggable:!1,fileType:"svg",libraries:[],prependCode:"",meta:null,className:"",onDone:function(){}},M.contextType=E.a,n.default=M}}]);