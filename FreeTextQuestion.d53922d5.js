(window.webpackJsonp=window.webpackJsonp||[]).push([[158],{1029:function(t,e,n){"use strict";var i=n(362),o=n(360),s=n(364),r=n.n(s),a=n(0),u=n.n(a),c=n(379),l=u.a.forwardRef((function(t,e){var n=t.bsPrefix,s=t.className,a=Object(o.a)(t,["bsPrefix","className"]),l=Object(c.a)(n,"btn-toolbar");return u.a.createElement("div",Object(i.a)({},a,{ref:e,className:r()(s,l)}))}));l.displayName="ButtonToolbar",l.defaultProps={role:"toolbar"},e.a=l},1158:function(t,e,n){"use strict";var i=n(363),o=n(390);Object(o.b)("GradeFeedbackRenderer");var s=Object(i.a)((function(){return Promise.all([n.e(0),n.e(6),n.e(374),n.e(163)]).then(n.bind(null,1575))}));e.a=s},1979:function(t,e,n){"use strict";var i=n(432),o=n.n(i),s=n(826),r=n.n(s);e.a=function(t,e,n){if(r()(t)){var i=t[e];if(o()(i)&&(i=i.filter((function(t){return t.type===n}))).length>0)return i[0].value}return null}},3483:function(t,e,n){"use strict";n.r(e);n(376),n(368),n(377);var i=n(365),o=n.n(i),s=n(370),r=n.n(s),a=n(371),u=n.n(a),c=n(387),l=n.n(c),p=n(374),d=n.n(p),f=n(375),b=n.n(f),h=n(373),v=n.n(h),m=n(366),g=n.n(m),y=n(0),O=n.n(y),w=n(21),j=n.n(w),x=(n(357),n(631)),k=n(394),S=n(1029),N=n(968),P=n(781),D=n(1183),C=n(416),R=n.n(C),T=n(419),q=n(649),E=n(600),L=n(756),H=n(1292),I=n(959),z=n(1539),A=n(979),F=n(1140),U=n(993),B=n(761),M=n(1158),J=n(440),Q=n(1979),W=n(1603),Y=n(444),G=n(619),_=n(5498);n(278);function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=v()(t);if(e){var o=v()(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return b()(this,n)}}var V=Object(q.a)("free-text-question"),X=R()("isle:free-text-question"),Z=function(t){d()(n,t);var e=K(n);function n(t,i){var o;r()(this,n),o=e.call(this,t),g()(l()(o),"handleChange",(function(t){var e=t.target.value;o.setState({value:e}),o.beforeUnload||(window.addEventListener("beforeunload",W.a),o.beforeUnload=!0),o.props.onChange(e)})),g()(l()(o),"appendText",(function(t){o.setState({value:o.state.value+" "+t})})),g()(l()(o),"sendSubmitNotification",(function(){var t=o.context;if(o.state.submitted)t.addNotification({title:o.props.t("answer-resubmitted"),message:o.props.resubmissionMsg,level:"success"});else{var e=o.props.submissionMsg;""===e&&(e=o.props.solution&&o.props.provideFeedback?o.props.t("submission-message-solution"):o.props.t("submission-message-no-solution")),t.addNotification({title:o.props.t("answer-submitted"),message:e,level:"success"})}})),g()(l()(o),"submitHandler",(function(t){var e=o.context;o.props.disableSubmitNotification||o.sendSubmitNotification(),o.props.onSubmit(o.state.value),o.setState({submitted:!0}),window.removeEventListener("beforeunload",W.a),o.beforeUnload=!1,e.log({id:o.id,type:Y.jb,value:o.state.value})})),g()(l()(o),"handleSolutionClick",(function(){var t=o.context;o.state.solutionDisplayed?o.setState({solutionDisplayed:!1,value:o.state.studentAnswer}):(t.log({id:o.id,type:Y.hb,value:null}),o.setState({solutionDisplayed:!0,studentAnswer:o.state.value,value:o.props.solution}))})),g()(l()(o),"logHint",(function(t){X("Logging hint..."),o.context.log({id:o.id,type:Y.ib,value:t})})),X("Invoking constructor of FreeTextQuestion...");var s=i.currentUserActions;o.id=t.id||V(t);var a=Object(Q.a)(s,o.id,Y.jb);return o.state={exhaustedHints:0===t.hints.length,value:Object(T.isPrimitive)(a)?a:"",solutionDisplayed:!1,submitted:Object(T.isPrimitive)(a),placeholder:t.placeholder,solution:t.solution,question:t.question},o}return u()(n,[{key:"componentDidMount",value:function(){var t=this,e=this.context;this.unsubscribe=e.subscribe((function(e){e===G.A&&t.setToLastAction()}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"setToLastAction",value:function(){var t=this.context.currentUserActions,e=Object(Q.a)(t,this.id,Y.jb);Object(T.isPrimitive)(e)&&e!==this.state.value&&this.setState({value:e,submitted:!0})}},{key:"triggerHint",value:function(){j.a.findDOMNode(this.hintButton).click()}},{key:"renderSubmitButton",value:function(){var t=this.context;return this.props.until&&t.startTime>this.props.until?o()("span",{className:"title",style:{marginLeft:4}},void 0,this.props.t("question-closed")):this.state.value.length>=1&&!this.state.solutionDisplayed?o()(H.a,{className:"submit-button",variant:"primary",size:"sm",onClick:this.submitHandler,duration:5,style:{marginLeft:"4px"}},void 0,this.state.submitted?this.props.t("resubmit"):this.props.t("submit")):o()(U.a,{placement:"top",positionLeft:100,overlay:o()(D.a,{id:"submitTooltip"},void 0,this.props.t("submit-tooltip")),rootClose:!0},void 0,o()("div",{style:{display:"inline-block"}},void 0,o()(k.a,{className:"submit-button",variant:"primary",size:"sm",style:{pointerEvents:"none",marginLeft:"4px"},disabled:!0},void 0,this.props.t("submit"))))}},{key:"render",value:function(){var t=this,e=this.props.hints.length,n=o()(z.a,{disabled:!(this.props.instantSolution||this.state.submitted&&this.state.exhaustedHints),onClick:this.handleSolutionClick,hasHints:this.props.hints.length>0});return o()(E.a,{id:this.id,className:"free-text-question ".concat(this.props.className),style:this.props.style,fullscreen:!0,bodyStyle:{width:this.props.feedback?"calc(100%-60px)":"100%",display:"inline-block"}},void 0,o()(F.a,{id:this.props.voiceID,reference:this,commands:_}),this.props.question?o()("div",{className:"title"},void 0,this.props.question):null,o()(P.a,{},void 0,o()("label",{htmlFor:"".concat(this.id,"-textarea")},void 0,this.state.solutionDisplayed?this.props.t("solution"):this.props.t("your-answer")),this.state.solutionDisplayed?o()("div",{className:"free-text-question-solution-wrapper",style:{height:"calc(".concat(1.5*this.props.rows,"rem + 14px)")}},void 0,this.state.value):o()(N.a,{id:"".concat(this.id,"-textarea"),as:"textarea",placeholder:this.props.placeholder,onChange:this.handleChange,style:{resize:this.props.resizable?"both":"none"},maxLength:this.props.maxlength,rows:this.props.rows,value:this.state.value,disabled:this.state.solutionDisplayed})),o()(I.a,{buttonLabel:this.props.t("answers"),id:this.id,info:Y.jb,data:{question:this.props.question,solution:this.props.solution},style:{float:"left"},points:this.props.points}),o()(S.a,{className:"free-text-question-toolbar"},void 0,e>0?O.a.createElement(A.a,{id:"".concat(this.id,"-hints"),onClick:this.logHint,ref:function(e){t.hintButton=e},hints:this.props.hints,onFinished:function(){t.setState({exhaustedHints:!0})},style:{marginRight:"4px"},placement:this.props.hintPlacement}):null,this.props.provideFeedback&&this.props.solution?n:null,this.props.chat?o()("div",{style:{display:"inline-block",marginLeft:"4px"}},void 0,o()(L.a,{for:this.id})):null,this.renderSubmitButton()),this.props.feedback?o()(B.a,{id:this.id+"_feedback",style:{marginRight:5,marginTop:-5}}):null,o()(M.a,{for:this.id,points:this.props.points}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.placeholder!==e.placeholder||t.solution!==e.solution||t.question!==e.question?{value:"",solutionDisplayed:!1,submitted:!1,placeholder:t.placeholder,solution:t.solution,question:t.question}:null}}]),n}(y.Component);Z.defaultProps={question:"",hints:[],hintPlacement:"top",feedback:!0,solution:"",instantSolution:!1,rows:5,chat:!1,placeholder:"Enter your answer here...",resizable:!1,disableSubmitNotification:!1,submissionMsg:"",resubmissionMsg:"You have successfully re-submitted your answer.",provideFeedback:!0,maxlength:2500,voiceID:null,until:null,points:10,className:"",style:{},onChange:function(){},onSubmit:function(){}},Z.contextType=J.a,e.default=Object(x.a)("FreeTextQuestion")(Z)},415:function(t,e,n){"use strict";function i(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return s})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var o={};function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];"string"==typeof e[0]&&o[e[0]]||("string"==typeof e[0]&&(o[e[0]]=new Date),i.apply(void 0,e))}function r(t,e,n){t.loadNamespaces(e,(function(){if(t.isInitialized)n();else{t.on("initialized",(function e(){setTimeout((function(){t.off("initialized",e)}),0),n()}))}}))}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.languages||!e.languages.length)return s("i18n.languages were undefined or empty",e.languages),!0;var i=e.languages[0],o=!!e.options&&e.options.fallbackLng,r=e.languages[e.languages.length-1];if("cimode"===i.toLowerCase())return!0;var a=function(t,n){var i=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===i||2===i};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t))&&(!!e.hasResourceBundle(i,t)||(!e.services.backendConnector.backend||!(!a(i,t)||o&&!a(r,t))))}function u(t){return t.displayName||t.name||("string"==typeof t&&t.length>0?t:"Unknown")}},434:function(t,e,n){var i=n(448);t.exports=function(t,e){if(null==t)return{};var n,o,s=i(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}},448:function(t,e){t.exports=function(t,e){if(null==t)return{};var n,i,o={},s=Object.keys(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||(o[n]=t[n]);return o}},457:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var i=n(412),o=n.n(i),s=n(366),r=n.n(s),a=n(0),u=n(605),c=n(415);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.i18n,i=Object(a.useContext)(u.a)||{},s=i.i18n,r=i.defaultNS,l=n||s||Object(u.d)();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new u.b),!l){Object(c.e)("You will need to pass in an i18next instance by using initReactI18next");var d=function(t){return Array.isArray(t)?t[t.length-1]:t},f=[d,{},!1];return f.t=d,f.i18n={},f.ready=!1,f}var b=p(p(p({},Object(u.c)()),l.options.react),e),h=b.useSuspense,v=t||r||l.options&&l.options.defaultNS;v="string"==typeof v?[v]:v||["translation"],l.reportNamespaces.addUsedNamespaces&&l.reportNamespaces.addUsedNamespaces(v);var m=(l.isInitialized||l.initializedStoreOnce)&&v.every((function(t){return Object(c.b)(t,l,b)}));function g(){return{t:l.getFixedT(null,"fallback"===b.nsMode?v:v[0])}}var y=Object(a.useState)(g()),O=o()(y,2),w=O[0],j=O[1],x=Object(a.useRef)(!0);Object(a.useEffect)((function(){var t=b.bindI18n,e=b.bindI18nStore;function n(){x.current&&j(g())}return x.current=!0,m||h||Object(c.c)(l,v,(function(){x.current&&j(g())})),t&&l&&l.on(t,n),e&&l&&l.store.on(e,n),function(){x.current=!1,t&&l&&t.split(" ").forEach((function(t){return l.off(t,n)})),e&&l&&e.split(" ").forEach((function(t){return l.store.off(t,n)}))}}),[v.join()]);var k=[w.t,l,m];if(k.t=w.t,k.i18n=l,k.ready=m,m)return k;if(!m&&!h)return k;throw new Promise((function(t){Object(c.c)(l,v,(function(){t()}))}))}},5498:function(t){t.exports=JSON.parse('[{"command":"appendText","trigger":"insert","description":"Dictate your answer","params":["text"],"regexp":"/insert[a-z]* (?<text>[\\\\s\\\\S]+)/i"},{"command":"handleSolutionClick","trigger":"solution","description":"Toggle the solution"},{"command":"submitHandler","trigger":"submit","description":"Submit your answer"},{"command":"triggerHint","trigger":"hint","description":"Toggle hint"}]')},631:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var i=n(366),o=n.n(i),s=n(412),r=n.n(s),a=n(434),u=n.n(a),c=n(0),l=n.n(c),p=n(457),d=n(415);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function i(i){var o=i.forwardedRef,s=u()(i,["forwardedRef"]),a=Object(p.a)(t,s),c=r()(a,3),d=c[0],f=c[1],h=c[2],v=b(b({},s),{},{t:d,i18n:f,tReady:h});return e.withRef&&o?v.ref=o:!e.withRef&&o&&(v.forwardedRef=o),l.a.createElement(n,v)}i.displayName="withI18nextTranslation(".concat(Object(d.a)(n),")"),i.WrappedComponent=n;return e.withRef?l.a.forwardRef((function(t,e){return l.a.createElement(i,Object.assign({},t,{forwardedRef:e}))})):i}}},756:function(t,e,n){"use strict";var i=n(363),o=n(390);Object(o.b)("ChatButton");var s=Object(i.a)((function(){return n.e(137).then(n.bind(null,1175))}));e.a=s},979:function(t,e,n){"use strict";var i=n(363),o=n(390);Object(o.b)("HintButton");var s=Object(i.a)((function(){return n.e(166).then(n.bind(null,1367))}));e.a=s}}]);