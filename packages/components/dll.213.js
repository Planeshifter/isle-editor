/*! For license information please see dll.213.js.LICENSE.txt */
(window.webpackJsonp_name_dll=window.webpackJsonp_name_dll||[]).push([[213],{3591:function(e,t,a){"use strict";a.r(t),function(e){var n=a(1074),i=a.n(n),l=a(14),r=a.n(l),s=a(13),c=a.n(s),o=a(10),u=a.n(o),f=a(15),m=a.n(f),d=a(16),h=a.n(d),p=a(8),g=a.n(p),E=a(7),v=a.n(E),y=a(0),k=a.n(y),C=a(1),w=a.n(C),R=a(3592),S=a.n(R),b=a(36),N=a.n(b),T=a(1162),x=a(114),F=a(115),H=a(77),q=a(76),A=a(205),_=a(378),O=a(223),D=a(44),I=a(142),P=a(3593);a(3594);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=g()(e);if(t){var i=g()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return h()(this,a)}}var z=N()("isle:toolbar:ticketing"),J=["General"];e.COMPONENT_LIST&&(J=J.concat(e.COMPONENT_LIST));var L=function(e){m()(a,e);var t=j(a);function a(e){var n;return r()(this,a),n=t.call(this,e),v()(u()(n),"handleTitleChange",(function(e){n.setState({title:e.target.value})})),v()(u()(n),"handleDescriptionChange",(function(e){n.setState({description:e})})),v()(u()(n),"handleComponentChange",(function(e){n.setState({component:e})})),v()(u()(n),"attachFile",(function(){var e=n.props,t=e.session,a=e.t;if(n.state.files.length>=6)return t.addNotification({title:a("maximum-num-attachments"),message:a("maximum-num-attachments-message"),level:"warning",position:"tr"});var l=document.createElement("input");l.type="file",l.onchange=function(e){var t=e.target.files,a=[].concat(i()(n.state.files),i()(t));n.setState({files:a})},l.click()})),v()(u()(n),"handleSubmit",(function(){z("Create ticket...");var e=n.props,t=e.session,a=e.t,i={title:n.state.title,description:n.state.description,component:n.state.component,platform:{name:S.a.name,version:S.a.version,product:S.a.product,manufacturer:S.a.manufacturer,os:S.a.os,description:S.a.description},files:n.state.files};t.createTicket(i).then((function(){n.setState({showAlert:!0})})).catch((function(e){t.addNotification({title:a("encountered-error"),message:e.message,level:"error",position:"tc"})}))})),v()(u()(n),"removeFileFactory",(function(e){return function(){var t=n.state.files.slice();t.splice(e,1),n.setState({files:t})}})),n.state={title:"",description:"",component:null,showAlert:!1,files:[]},n}return c()(a,[{key:"renderAttachments",value:function(){var e=this;return 0===this.state.files.length?null:k.a.createElement(y.Fragment,null,k.a.createElement("span",{className:"title"},this.props.t("attachments"),":"),k.a.createElement(T.default,{className:"ticketing-attachment-list"},this.state.files.map((function(t,a){return k.a.createElement(T.default.Item,{key:"file-".concat(a)},t.name,k.a.createElement(q.default,{variant:"danger",size:"sm",onClick:e.removeFileFactory(a),style:{float:"right"}},"x"))}))))}},{key:"render",value:function(){var e=this,t=this.props,a=t.t;return t.show?k.a.createElement(y.Fragment,null,k.a.createElement(_.default,{dragHandleClassName:"card-header"},k.a.createElement(I.default,{header:k.a.createElement("span",null,k.a.createElement("span",{className:"fa fa-lg fa-medkit",style:{marginRight:6}}),a("ticketing")),onHide:this.props.onHide,minimizable:!0,style:{maxWidth:560},bodyStyle:{maxHeight:"75vh"}},k.a.createElement("p",null,a("ticketing-intro")),k.a.createElement(A.default,{legend:a("component"),options:J,onChange:this.handleComponentChange}),k.a.createElement(H.default,null,k.a.createElement(F.default,null,a("title"),":"),k.a.createElement(x.default,{type:"text",placeholder:a("title-placeholder"),onChange:this.handleTitleChange})),k.a.createElement(O.default,{legend:a("description"),value:this.state.description,onChange:this.handleDescriptionChange,placeholder:a("description-placeholder")}),this.renderAttachments(),k.a.createElement(D.default,{tooltip:a("attach-file")},k.a.createElement(q.default,{onClick:this.attachFile},k.a.createElement("i",{className:"fas fa-paperclip"}))),k.a.createElement(q.default,{onClick:this.handleSubmit,style:{float:"right"},disabled:!this.state.title||!this.state.description},a("create-ticket")))),k.a.createElement(P.default,{title:a("ticket-created"),message:a("ticket-created-message"),show:this.state.showAlert,close:function(){e.setState({title:"",description:"",showAlert:!1,files:[]}),e.props.onHide()}})):null}}]),a}(y.Component);L.propTypes={session:w.a.object.isRequired,onHide:w.a.func.isRequired},t.default=L}.call(this,a(38))},3593:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(2300),r=a(1),s=a.n(r),c=a(76),o=a(1004),u=function(e){return i.a.createElement(o.default,{show:e.show,onHide:e.close},i.a.createElement(o.default.Header,null,i.a.createElement(o.default.Title,null,i.a.createElement("i",{className:"fas fa-phone-square-alt",style:{marginRight:6}}),e.title)),i.a.createElement(o.default.Body,null,e.message),i.a.createElement(o.default.Footer,null,i.a.createElement(c.default,{onClick:e.close},e.t("confirm"))))};u.propTypes={close:s.a.func.isRequired,message:s.a.string.isRequired,show:s.a.bool.isRequired,title:s.a.string.isRequired},t.default=Object(l.withTranslation)("alert-modal")(u)},3594:function(e,t,a){"use strict";a.r(t);var n=a(22),i=a.n(n),l=a(3595),r={insert:"head",singleton:!1};i()(l.default,r);t.default=l.default.locals||{}},3595:function(e,t,a){"use strict";a.r(t);var n=a(23),i=a.n(n)()(!1);i.push([e.i,".ticketing-attachment-list {\n\tmargin-bottom: 6px;\n\tmargin-top: 6px;\n}\n",""]),t.default=i}}]);