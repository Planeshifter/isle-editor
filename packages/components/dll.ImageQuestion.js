/*! For license information please see dll.ImageQuestion.js.LICENSE.txt */
(window.webpackJsonp_name_dll=window.webpackJsonp_name_dll||[]).push([[56],{1113:function(e,t,n){"use strict";n.r(t);var a=n(2),i=Object(a.default)((function(){return Promise.all([n.e(4),n.e(159),n.e(51)]).then(n.bind(null,1321))}));t.default=i},1490:function(e,t,n){"use strict";n.r(t);t.default=function(e){var t=new(0,window.FileReader);return t.readAsDataURL(e),new Promise((function(e){t.onloadend=function(){e(t.result)}}))}},2578:function(e,t,n){"use strict";n.r(t),t.default=function(e){e.stopPropagation(),e.preventDefault()}},2579:function(e,t,n){"use strict";n.r(t);var a=n(958),i=n(2580);a.default.addResources("de","image-question",i.DE),a.default.addResources("en","image-question",i.EN),a.default.addResources("es","image-question",i.ES)},2580:function(e){e.exports=JSON.parse('{"DE":{"answer-submitted":"Antwort eingereicht.","drop-image":"Bild hier ablegen","model-solution":"Modell-Lösung","or":"oder","question-closed":"Frage ist nun geschlossen.","reset":"Zurücksetzen","resubmit":"Erneut einreichen","submit":"Abschicken","submitted":"Abgeschickt","upload":"Datei hochladen"},"EN":{"answer-submitted":"You have successfully submitted your answer.","drop-image":"Drop image here","model-solution":"Model Solution","or":"or","question-closed":"Question is now closed.","reset":"Reset","resubmit":"Resubmit","submit":"Submit","submitted":"Submitted","upload":"Uploaded submission"},"ES":{"answer-submitted":"Ha presentado con éxito su respuesta.","drop-image":"Deje caer la imagen aquí","model-solution":"Solución modelo","or":"o","question-closed":"La pregunta está ahora cerrada.","reset":"Reiniciar","resubmit":"Volver a presentar","submit":"Presentar","submitted":"Presentado","upload":"Subir presentación"}}')},2581:function(e,t,n){"use strict";n.r(t);var a=n(22),i=n.n(a),o=n(2582),s={insert:"head",singleton:!1};i()(o.default,s);t.default=o.default.locals||{}},2582:function(e,t,n){"use strict";n.r(t);var a=n(23),i=n.n(a)()(!1);i.push([e.i,".image-question {\n\tmax-width: 1200px;\n\tmargin: 0 auto 10px;\n}\n\n.image-question-toolbar {\n\tmargin-top: 12px;\n\tdisplay: flex;\n\tflex-direction: row;\n\tjustify-content: space-between;\n}\n\n.image-question-dropzone {\n\tmin-height: 50px;\n\twidth: 25%;\n\tmargin: 0 auto;\n\tborder: 1px solid blue;\n\tpadding: 10px;\n}\n\n.image-question-upload {\n\twidth: 250px;\n}\n",""]),t.default=i},854:function(e,t,n){"use strict";n.r(t);var a=n(206),i=n.n(a),o=n(203),s=n.n(o),l=n(0),u=n.n(l),r=n(1),d=n.n(r),c=n(36),m=n.n(c),f=n(2300),p=n(2129),b=n(87),g=n(76),h=n(204),E=n.n(h),v=n(63),S=n(389),w=n(394),y=n(146),N=n(159),O=n(390),q=n(382),k=n(377),x=n(418),j=n(144),I=n(1113),T=n(37),D=n(1490),_=n(2578),A=n(201),L=(n(2579),n(2581),Object(v.default)("image-question")),R=m()("isle:image-question"),M=/src="([^"]*)"/,P=function(e){var t,n,a=e.id||L(e),o=Object(l.useContext)(T.default),r=Object(l.useState)(!1),d=s()(r,2),c=d[0],m=d[1],f=Object(l.useState)(null),h=s()(f,2),v=h[0],P=h[1],U=Object(l.useState)(0===e.hints.length),B=s()(U,2),C=B[0],F=B[1],z=Object(l.useState)(!1),H=s()(z,2),J=H[0],Q=H[1],G=Object(l.useState)(!1),W=s()(G,2),V=W[0],Y=W[1],Z=function(e){P(e.target.result)},K=e.hints.length,X=u.a.createElement(N.default,{disabled:!c||!C,onClick:function(){Q(!J)},hasHints:e.hints.length>0}),$=function(){Y(!V)},ee=function(){(e.disableSubmitNotification||o.addNotification({title:e.t("submitted"),message:e.t("answer-submitted"),level:"info"}),e.onSubmit(),m(!0),v)?o.log({id:a,type:A.IMAGE_QUESTION_SUBMISSION,value:v}):document.getElementById(a+"-canvas").toBlob((function(e){Object(D.default)(e).then((function(e){o.log({id:a,type:A.IMAGE_QUESTION_SUBMISSION,value:e}),P(e)}))}))};return V||(n=v?u.a.createElement("div",{className:"center",style:{maxWidth:600}},J?u.a.createElement(S.default,{alt:e.t("model-solution"),src:e.solution,width:"100%",height:"auto",style:{border:"solid 1px gold"}}):u.a.createElement(S.default,{alt:e.t("upload"),src:v,width:"100%",height:"auto"})):u.a.createElement(l.Fragment,null,u.a.createElement("div",{className:"image-question-dropzone",onDrop:function(e){e.stopPropagation(),e.preventDefault(),$();var t=e.dataTransfer,n=new FileReader,a=null;if(t.items&&t.items.length>0){var i=t.items[0];"file"===i.kind?a=i.getAsFile():"string"===i.kind&&i.getAsString((function(e){if(E()(e,"<img")){var t=e.match(M);t&&(P(t[1]),$())}else if(E()(e,"<thead")){var n=document.createElement("table");n.innerHTML=e,document.body.appendChild(n),Object(p.toJpeg)(n,{backgroundColor:"white",style:{fontSize:12},width:600}).then((function(e){P(e),$(),n.remove()}))}else{var a=document.createElement("pre");a.innerHTML=e,document.body.appendChild(a),Object(p.toJpeg)(a,{backgroundColor:"white",style:{fontSize:14}}).then((function(e){P(e),$(),a.remove()}))}}))}else t.files&&t.files.length>0&&(a=t.files[0]);a&&a&&(n.addEventListener("load",Z,!1),n.readAsDataURL(a))},onDragOver:_.default,onDragEnd:_.default},u.a.createElement("span",null,e.t("drop-image"))),u.a.createElement("p",{className:"center"},e.t("or")),u.a.createElement("input",{id:a+"-upload",className:"image-question-upload center",type:"file",accept:"image/*",onChange:function(){var e=new FileReader,n=t.files[0];e.addEventListener("load",Z,!1),e.readAsDataURL(n)},ref:function(e){t=e}}),e.sketchpad?u.a.createElement(l.Fragment,null,u.a.createElement("p",{className:"center"},e.t("or")),u.a.createElement(x.default,i()({id:a,hideNavigationButtons:!0,hideSaveButtons:!0,hideTransmitButtons:!0,canvasWidth:900,canvasHeight:600},e.sketchpad))):null)),u.a.createElement(b.default,{id:a,className:"image-question ".concat(e.className),style:e.style},u.a.createElement(b.default.Body,{style:{width:e.feedback?"calc(100%-60px)":"100%",display:"inline-block"}},u.a.createElement("label",null,e.question),u.a.createElement(w.default,{running:V,width:256,height:128}),n,e.feedback?u.a.createElement(j.default,{vertical:!0,id:a+"_feedback",style:{position:"absolute",right:"4px",top:"4px"}}):null,u.a.createElement(y.default,{buttonLabel:"Answers",id:a,info:A.IMAGE_QUESTION_SUBMISSION,data:{question:e.question,type:"image"},points:e.points}),u.a.createElement("div",{className:"image-question-toolbar"},K>0?u.a.createElement(q.default,{onClick:function(e){R("Logging hint..."),o.log({id:a,type:A.IMAGE_QUESTION_OPEN_HINT,value:e})},hints:e.hints,placement:e.hintPlacement,onFinished:function(){F(!0)}}):null,v?u.a.createElement(g.default,{size:"sm",variant:"warning",onClick:function(){P(null)}},e.t("reset")):null,e.until&&o.startTime>e.until?u.a.createElement("span",{className:"title",style:{marginLeft:4}},e.t("question-closed")):u.a.createElement(O.default,{className:"submit-button",variant:"primary",size:"sm",onClick:ee},c?e.t("resubmit"):e.t("submit")),e.solution?X:null,e.chat?u.a.createElement(k.default,{for:a}):null),u.a.createElement(I.default,{for:a,points:e.points})))};P.defaultProps={question:"",hints:[],hintPlacement:"bottom",feedback:!0,chat:!1,disableSubmitNotification:!1,className:"",sketchpad:null,solution:null,until:null,points:10,style:{},onSubmit:function(){}},P.propTypes={question:d.a.oneOfType([d.a.string,d.a.node]),hintPlacement:d.a.string,hints:d.a.arrayOf(d.a.oneOfType([d.a.string,d.a.node])),feedback:d.a.bool,chat:d.a.bool,disableSubmitNotification:d.a.bool,className:d.a.string,sketchpad:d.a.object,solution:d.a.string,until:d.a.instanceOf(Date),points:d.a.number,style:d.a.object,onSubmit:d.a.func},P.contextType=T.default,t.default=Object(f.withTranslation)("image-question")(P)}}]);