/*! For license information please see dll.LassoRegression.js.LICENSE.txt */
(window.webpackJsonp_name_dll=window.webpackJsonp_name_dll||[]).push([[61],{1197:function(t,e,r){"use strict";r.r(e);var a=r(370),n=r.n(a),i=r(106);e.default=function(t,e){var r=n()(e);if(!n()(t))throw new TypeError("invalid input argument. Must provide an array. Value: `"+t+"`.");if(!r&&!Object(i.isPrimitive)(e))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+e+"`.");var a=t.length,s=new Array(a);if(r){if(a!==e.length)throw new Error("invalid input argument. Array to be added must have a length equal to that of the input array.");for(var u=0;u<a;u++)s[u]=t[u]-e[u]}else for(var o=0;o<a;o++)s[o]=t[o]-e;return s}},1350:function(t,e,r){"use strict";var a=r(1546);t.exports=a},1545:function(t,e){t.exports=function(t){throw new TypeError('"'+t+'" is read-only')}},1546:function(t,e,r){"use strict";var a=r(383)(r(39));t.exports=a},2078:function(t,e,r){"use strict";r.r(e),e.default=function(t,e){for(var r=t.shape[0],a=t.shape[1],n=new Float64Array(r),i=0;i<r;i++){for(var s=0,u=0;u<a;u++)s+=t.get(i,u)*e[u];n[i]=s}return n}},2079:function(t,e,r){"use strict";r.r(e);var a=r(1307),n=r.n(a)()("float64",2);e.default=function(t){var e=[t.shape[1],t.shape[0]],r=[t.strides[1],t.strides[0]],a=t.offset,i=t.order;return n(t._buffer,e,r,a,i)}},3410:function(t,e,r){"use strict";r.r(e);var a=r(14),n=r.n(a),i=r(13),s=r.n(i),u=r(10),o=r.n(u),l=r(15),c=r.n(l),f=r(16),d=r.n(f),h=r(8),p=r.n(h),v=r(7),m=r.n(v),b=r(0),g=r.n(b),y=r(1),w=r.n(y),O=r(2300),E=r(1008),j=r(204),x=r.n(j),P=r(39),T=r.n(P),q=r(106),A=r(1202),S=r.n(A),R=r(1203),k=r.n(R),N=r(88),D=r.n(N),F=r(362),V=r.n(F),K=r(76),_=r(44),z=r(148),M=r(3411),C=r(3412),J=r(3415);r(3420);function B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?B(Object(r),!0).forEach((function(e){m()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,a=p()(t);if(e){var n=p()(this).constructor;r=Reflect.construct(a,arguments,n)}else r=a.apply(this,arguments);return d()(this,r)}}var U=0;function X(t,e,r,a){T()(t)||(t=[t]);for(var n=[],i=[],s={},u={},o={},l=e[t[0]].length,c=0;c<t.length;c++)if(x()(r,t[c])){var f=Object(C.default)(e[t[c]]);u[t[c]]=f,i.push(t[c])}else{for(var d=e[t[c]],h=S()(d,k.a),p=t[c].categories||D()(h),v=a?1:0;v<p.length;v++){var m="".concat(t[c],"_").concat(p[v]);i.push(m);var b=h[p[v]]/l;o[m]={mu:b,sigma:V()(b*(1-b))}}s[t[c]]=p}for(var g=0;g<l;g++){var y=[];a&&y.push(1);for(var w=0;w<t.length;w++)if(x()(r,t[w])){var O=u[t[w]];y.push(O[g])}else for(var E=e[t[w]],j=s[t[w]],P=E[g],q=a?1:0;q<j.length;q++){var A=o["".concat(t[w],"_").concat(j[q])],R=A.mu,N=A.sigma;y.push(P===j[q]?(1-R)/N:-R/N)}n.push(y)}return{matrix:n,predictors:i,categoricalStats:o,standardized:u}}var Z=function(t){var e=t.x,r=t.y,a=t.lambda,n=t.data,i=t.quantitative,s=t.intercept;try{var u=n[r];u=Object(C.default)(u,!1,!0);var o=X(e,n,i,s),l=o.matrix,c=o.predictors,f=o.categoricalStats,d=o.standardized,h=new J.default(l,u,a);if(s){for(var p=0,v=1;v<h.beta.length;v++){var m=c[v-1];x()(i,m)?(h.beta[v]*=u.sigma/d[m].sigma,p+=h.beta[v]*d[m].mu):(h.beta[v]*=u.sigma/f[m].sigma,p+=h.beta[v]*f[m].mu)}h.beta[0]=u.mu-p}else for(var b=0;b<h.beta.length;b++){var g=c[b];x()(i,g)?h.beta[b]*=u.sigma/d[g].sigma:h.beta[b]*=u.sigma/f[g].sigma}return{predictors:c,result:h,yvalues:u}}catch(t){return{}}},G=function(t){c()(r,t);var e=L(r);function r(t){var a;n()(this,r),a=e.call(this,t),m()(o()(a),"handlePredict",(function(){var t=X(a.props.x,a.props.data,a.props.quantitative,a.props.intercept).matrix,e=a.state.result.predict(t),r=e.fitted,n=e.residuals;r=Object(M.default)(r,a.state.yvalues.sigma),n=Object(M.default)(n,-a.state.yvalues.sigma),a.props.onPredict(r,n,U)})),U+=1;var i=t.x,s=t.y,u=t.lambda,l=t.data,c=t.quantitative,f=t.intercept;return a.state=I(I({},Z({x:i,y:s,lambda:u,data:l,quantitative:c,intercept:f})),t),a}return s()(r,[{key:"render",value:function(){var t=this.props,e=t.y,r=t.intercept,a=t.lambda,n=t.onPredict,i=this.state,s=i.result,u=i.predictors;return s?Object(q.isPrimitive)(a)?g.a.createElement("div",{style:{overflowX:"auto",width:"100%"}},g.a.createElement("span",{className:"title"},"LASSO Regression for Response ",e," (model id: lasso",U,", lambda: ",a.toFixed(4),")"),function(t,e,r){return g.a.createElement(z.default,{bordered:!0,size:"sm"},g.a.createElement("thead",null,g.a.createElement("tr",null,g.a.createElement("th",null,"Predictor"),g.a.createElement("th",null,"Coefficient"))),g.a.createElement("tbody",null,e?g.a.createElement("tr",null,g.a.createElement("th",null,"Intercept"),g.a.createElement("td",null,r.beta[0].toFixed(6))):null,t.map((function(t,a){return g.a.createElement("tr",{key:a},g.a.createElement("th",null,t),g.a.createElement("td",null,r.beta[a+Number(e)].toFixed(6)))}))))}(u,r,s),g.a.createElement("p",null,"Karush-Khun-Tucker (KKT) conditions for an optimal solution ",s.testKKT()?"are":"are not"," satisfied"),n?g.a.createElement(_.default,{tooltip:"Predictions and residuals will be attached to data table"},g.a.createElement(K.default,{variant:"secondary",size:"sm",onClick:this.handlePredict},"Use this model to predict for currently selected data")):null):g.a.createElement(E.default,{variant:"danger"},this.props.t("lambda-not-number")):g.a.createElement(E.default,{variant:"danger"},this.props.t("missing-attributes"))}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(t.data!==e.data||t.quantitative!==e.quantitative||t.x!==e.x||t.y!==e.y||t.intercept!==e.intercept||t.lambda!==e.lambda){var r=t.x,a=t.y,n=t.lambda,i=t.data,s=t.quantitative,u=t.intercept;return I(I({},Z({x:r,y:a,lambda:n,data:i,quantitative:s,intercept:u})),t)}return null}}]),r}(b.Component);G.defaultProps={lambda:.001,intercept:!0},G.propTypes={data:w.a.object.isRequired,y:w.a.string.isRequired,x:w.a.oneOfType([w.a.arrayOf(w.a.string),w.a.string]).isRequired,quantitative:w.a.arrayOf(w.a.string).isRequired,lambda:w.a.number,intercept:w.a.bool},e.default=Object(O.withTranslation)("lasso-regression")(G)},3411:function(t,e,r){"use strict";r.r(e);var a=r(370),n=r.n(a),i=r(106);e.default=function(t,e){var r=n()(e);if(!n()(t))throw new TypeError("invalid input argument. Must provide an array. Value: `"+t+"`.");if(!r&&!Object(i.isPrimitive)(e))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+e+"`.");var a=t.length,s=new Array(a);if(r){if(a!==e.length)throw new Error("invalid input argument. Array to be multiplied must have a length equal to that of the input array.");for(var u=0;u<a;u++)s[u]=t[u]*e[u]}else for(var o=0;o<a;o++)s[o]=t[o]*e;return s}},3412:function(t,e,r){"use strict";r.r(e);var a=r(1545),n=r.n(a),i=r(1042),s=r(1078),u=r(3413),o=r.n(u);e.default=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Object(i.default)(t),u=Object(s.default)(t),l=t.length,c=new Array(l);if(e)if(r)for(var f=0;f<l;f++)c[f]=(t[f]-a)/u;else for(var d=0;d<l;d++)c[d]=t[d]-a;else if(r)for(var h=0;h<l;h++)c[h]=t[h]/u;else n()("out"),c=t.slice();return o()(c,"mu",a),o()(c,"sigma",u),c}},3413:function(t,e,r){"use strict";var a=r(3414);t.exports=a},3414:function(t,e,r){"use strict";var a=r(117);t.exports=function(t,e,r){a(t,e,{configurable:!0,enumerable:!1,writable:!0,value:r})}},3415:function(t,e,r){"use strict";r.r(e);var a=r(36),n=r.n(a),i=r(1060),s=r.n(i),u=r(1085),o=r.n(u),l=r(1350),c=r.n(l),f=r(1393),d=r.n(f),h=r(1307),p=r.n(h),v=r(1172),m=r.n(v),b=r(106),g=r.n(b),y=r(370),w=r.n(y),O=r(105),E=r.n(O),j=r(2078),x=r(2079),P=r(1197),T=r(3416),q=r(3417),A=r(3418),S=r(3419),R=n()("isle:lasso"),k=p()("generic",2),N=1e-9,D=function(t,e){for(var r=new Float64Array(t.shape[0]),a=0;a<r.length;a++)r[a]=t.get(a,e);return r};function F(t,e,r){var a=this;this.y=t,this.x=e,this.lambda=r,this.N=e.shape[0],this.p=e.shape[1],this.beta=new Float64Array(this.p),this.betast=new Float64Array(this.p),this.active=s()(0,this.beta.length,1),this.nonactive=[],this.presid=k(new Float64Array(e._buffer.length),e.shape,e.strides,e.offset,e.order),this.init=function(){a.iteration=0,a.iterate()},this.init()}F.prototype.testKKT=function(){for(var t=this.beta,e=this.N,r=this.x,a=this.y,n=Object(P.default)(a,Object(j.default)(r,t)),i=Object(T.default)(Object(j.default)(Object(x.default)(r),n),e),s=0;s<t.length;s++)if(0===t[s]){if(E()(i[s])>this.lambda+N)return!1}else if(t[s]>0&&i[s]-this.lambda*o()(t[s])>N)return!1;return!0},F.prototype.testActiveSet=function(){for(var t=!1,e=this.predict(this.x).residuals,r=0;r<this.nonactive.length;r++){var a=this.nonactive[r],n=D(this.x,a);E()(Object(A.default)(n,e))/this.N>this.lambda&&(this.active.push(a),this.nonactive.splice(r,1),t=!0)}return R("Active set changes..."),t},F.prototype.iterate=function(){var t=this.N,e=this.p,r=this.x,a=this.y;if(this.iteration+=1,!(this.iteration>1e4)){for(var n=!0,i=0;i<this.active.length;i++){for(var s=this.active[i],u=0;u<t;u++){for(var o=a[u],l=0;l<e;l++)o-=s!==l?r.get(u,l)*this.beta[l]:0;this.presid.set(u,s,o)}this.betast[s]=1/t*Object(q.default)(r,this.presid,s);var c=this.beta[s],f=Object(S.default)(this.betast[s],this.lambda);E()(f-c)>N&&(n=!1),this.beta[s]=f}for(var d=this.active.length-1;d>=0;d--){var h=this.active[d];E()(this.beta[h])<N&&(this.active.splice(d,1),this.nonactive.push(h))}(!1===n||this.testActiveSet())&&this.iterate()}},F.prototype.predict=function(t){c()(t)&&(t=m()(t));for(var e=Object(j.default)(t,this.beta),r=new Array(this.N),a=0;a<this.N;a++)r[a]=this.y[a]-e[a];return{fitted:e,residuals:r}},e.default=function(t,e,r){if(!g.a)throw new TypeError("invalid input argument. The third argument must be a number primitive. Value: `"+r+"`");if(!w()(e))throw new TypeError("invalid input argument. The second argument must be array-like. Value: `"+e+"`");if(c()(t))t=m()(t);else if(!d()(t)){throw new TypeError("invalid input argument. The first argument must be a matrix or an array-of-arrays. Value: `"+t+"`")}return new F(e,t,r)}},3416:function(t,e,r){"use strict";r.r(e);var a=r(370),n=r.n(a),i=r(106);e.default=function(t,e,r){var a=n()(e);if(!n()(t))throw new TypeError("invalid input argument. Must provide an array. Value: `"+t+"`.");if(!a&&!Object(i.isPrimitive)(e))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+e+"`.");var s=t.length,u=new Array(s);if(a){if(s!==e.length)throw new Error("invalid input argument. Array to be divided must have a length equal to that of the input array.");for(var o=0;o<s;o++)u[o]=t[o]/e[o]}else for(var l=0;l<s;l++)u[l]=t[l]/e;return u}},3417:function(t,e,r){"use strict";r.r(e),e.default=function(t,e,r){for(var a=0,n=t.shape[0],i=0;i<n;i++){var s=t.get(i,r),u=e.get(i,r);0!==s&&0!==u&&(a+=s*u)}return a}},3418:function(t,e,r){"use strict";r.r(e),e.default=function(t,e){for(var r=t.length,a=0,n=0;n<r;n++)a+=t[n]*e[n];return a}},3419:function(t,e,r){"use strict";r.r(e),e.default=function(t,e){return t>e?t-e:t<-e?t+e:0}},3420:function(t,e,r){"use strict";r.r(e);var a=r(958),n=r(3421);a.default.addResources("de","lasso-regression",n.DE),a.default.addResources("en","lasso-regression",n.EN),a.default.addResources("es","lasso-regression",n.ES)},3421:function(t){t.exports=JSON.parse('{"DE":{"lambda-not-number":"`lambda` muss eine Zahl sein.","missing-attributes":"Modell konnte nicht geschätzt werden. Bitte überprüfen Sie, ob alle erforderlichen Attribute vorhanden sind."},"EN":{"lambda-not-number":"`lambda` has to be a number.","missing-attributes":"Model could not be estimated. Please check that all required attributes are supplied."},"ES":{"lambda-not-number":"`lambda` tiene que ser un número.","missing-attributes":"El modelo no pudo ser estimado. Por favor, compruebe que se han suministrado todos los atributos necesarios."}}')}}]);