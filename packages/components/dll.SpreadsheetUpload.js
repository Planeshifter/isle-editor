/*! For license information please see dll.SpreadsheetUpload.js.LICENSE.txt */
(window.webpackJsonp_name_dll=window.webpackJsonp_name_dll||[]).push([[136],{1952:function(e,t){},1953:function(e,t){},3228:function(e,t,n){"use strict";n.r(t);var r=n(958),a=n(3229);r.default.addResources("de","spreadsheet-upload",a.DE),r.default.addResources("en","spreadsheet-upload",a.EN),r.default.addResources("es","spreadsheet-upload",a.ES)},3229:function(e){e.exports=JSON.parse('{"DE":{"csv-upload-prompt":"Bitte laden Sie einen Datensatz hoch (CSV-Format)","drop-file":"Datei hier ablegen","error-message":"Der folgende Fehler wurde beim Versuch, die Datei zu lesen, festgestellt","error-title":"Konnte Datei nicht lesen.","first-row-names":"Erste Reihe enthält Variablennamen","no-csv":"Keine CSV-Datei.","no-csv-message":"Bei der bereitgestellten Datei handelt es sich nicht um eine CSV-Datei.","title":"Datei-Upload"},"EN":{"csv-upload-prompt":"Please upload a data set (CSV format)","drop-file":"Drop file here","error-message":"The following error was encountered while trying to read the file","error-title":"Could not read file.","first-row-names":"First row contains variable names","no-csv":"No CSV file.","no-csv-message":"The supplied file is not a CSV file.","title":"File Upload"},"ES":{"csv-upload-prompt":"Por favor, cargue un conjunto de datos (formato CSV)","drop-file":"Deje el archivo aquí","error-message":"The following error was encountered while trying to read the file","error-title":"No pude leer el archivo.","first-row-names":"La primera fila contiene nombres de variables","no-csv":"No hay archivo CSV.","no-csv-message":"El archivo suministrado no es un archivo CSV.","title":"Subida de archivos"}}')},930:function(e,t,n){"use strict";n.r(t);var r=n(14),a=n.n(r),o=n(13),i=n.n(o),l=n(10),s=n.n(l),d=n(15),p=n.n(d),u=n(16),c=n.n(u),f=n(8),h=n.n(f),m=n(7),g=n.n(m),v=n(0),D=n.n(v),w=n(1),E=n.n(w),S=n(2300),C=n(87),b=n(1193),y=n(3218),F=n.n(y),R=n(3227),V=n.n(R),x=n(994),U=n.n(x),T=n(990),N=n.n(T),P=n(367),_=n.n(P),k=n(37),A=n(210);n(3228);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h()(e);if(t){var a=h()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return c()(this,n)}}var O=/\r(?!\n)/g,j=function(e){p()(n,e);var t=L(n);function n(e){var r;return a()(this,n),r=t.call(this,e),g()(s()(r),"handleFileUpload",(function(){r.setState({uploading:!0},(function(){var e=new FileReader,t=r.fileUpload.files[0];e.addEventListener("load",r.onFileRead,!1),e.addEventListener("progress",(function(e){if(e.lengthComputable){var t=e.loaded/e.total;r.setState({percentCompleted:t})}}),!1),e.readAsText(t,"utf-8")}))})),g()(s()(r),"onFileRead",(function(e){var t,n,a=e.target.result,o=V()(a);t=N()(o)?",":o.delimiter;var i=(a=U()(a,O,"\n")).indexOf("\n"),l=a.substring(0,i).split(t);r.state.header?(n=l,a=a.substring(i+1)):n=l.map((function(e,t){return"VAR_"+(t+1)})),r.setState({percentCompleted:0,uploading:!1}),F()(a,{delimiter:t,columns:n,cast:!0},(function(e,t){if(e)return r.context.addNotification({title:r.props.t("error-title"),message:"".concat(r.props.t("error-message"),": ").concat(e.message),level:"error",position:"tr"}),r.props.onUpload(e);r.props.onUpload(null,t)}))})),g()(s()(r),"ignoreDrag",(function(e){e.stopPropagation(),e.preventDefault()})),g()(s()(r),"onFileDrop",(function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer,n=new FileReader,a=null;if(t.items?"file"===t.items[0].kind&&(a=t.items[0].getAsFile()):a=t.files[0],a){if("text/csv"!==a.type)return r.context.addNotification({title:r.props.t("no-csv"),message:r.props.t("no-csv-message"),level:"error",position:"tr"});n.addEventListener("load",r.onFileRead,!1),n.readAsText(a,"utf-8")}})),r.state={percentCompleted:0,uploading:!1,header:!0},r}return i()(n,[{key:"render",value:function(){var e=this,t=_()(100*this.state.percentCompleted);return D.a.createElement(C.default,null,D.a.createElement(C.default.Header,{as:"h2"},this.props.title||this.props.t("title")),D.a.createElement(C.default.Body,null,D.a.createElement("label",{htmlFor:"CSVUpload"},this.props.t("csv-upload-prompt"),":"),D.a.createElement("input",{id:"CSVUpload",type:"file",accept:".csv",onChange:this.handleFileUpload,ref:function(t){e.fileUpload=t},style:{margin:"auto"}}),D.a.createElement("p",null,"or"),D.a.createElement("div",{onDrop:this.onFileDrop,onDragOver:this.ignoreDrag,onDragEnd:this.ignoreDrag,style:{minHeight:"150px",width:"250px",border:"1px solid blue",padding:"10px"}},D.a.createElement("span",null,this.props.t("drop-file"))),D.a.createElement(A.default,{legend:this.props.t("first-row-names"),defaultValue:!0,onChange:function(t){e.setState({header:t})}}),this.state.uploading?D.a.createElement(b.default,{now:t,label:"".concat(t,"%")}):null))}}]),n}(v.Component);j.defaultProps={onUpload:function(){},title:null},j.propTypes={onUpload:E.a.func,title:E.a.string},j.contextType=k.default,t.default=Object(S.withTranslation)("spreadsheet-upload")(j)}}]);