/*! For license information please see dll.FreeTextQuestion.js.LICENSE.txt */
(window.webpackJsonp_name_dll=window.webpackJsonp_name_dll||[]).push([[46],{1070:function(e,t,s){"use strict";s.r(t);var n=s(5),i=s(11),o=s(12),a=s.n(o),r=s(0),u=s.n(r),l=s(17),c=u.a.forwardRef((function(e,t){var s=e.bsPrefix,o=e.className,r=Object(i.default)(e,["bsPrefix","className"]),c=Object(l.useBootstrapPrefix)(s,"btn-toolbar");return u.a.createElement("div",Object(n.default)({},r,{ref:t,className:a()(o,c)}))}));c.displayName="ButtonToolbar",c.defaultProps={role:"toolbar"},t.default=c},1113:function(e,t,s){"use strict";s.r(t);var n=s(2),i=Object(n.default)((function(){return Promise.all([s.e(4),s.e(159),s.e(51)]).then(s.bind(null,1321))}));t.default=i},1482:function(e,t,s){"use strict";s.r(t);var n=s(39),i=s.n(n),o=s(110),a=s.n(o);t.default=function(e,t,s){if(a()(e)){var n=e[t];if(i()(n)&&(n=n.filter((function(e){return e.type===s}))).length>0)return n[0].value}return null}},1850:function(e,t,s){"use strict";s.r(t),t.default=function(e){return e.returnValue="o/","o/"}},2555:function(e){e.exports=JSON.parse('[{"command":"appendText","trigger":"insert","description":"Dictate your answer","params":["text"],"regexp":"/insert[a-z]* (?<text>[\\\\s\\\\S]+)/i"},{"command":"handleSolutionClick","trigger":"solution","description":"Toggle the solution"},{"command":"submitHandler","trigger":"submit","description":"Submit your answer"},{"command":"triggerHint","trigger":"hint","description":"Toggle hint"}]')},2556:function(e,t,s){"use strict";s.r(t);var n=s(958),i=s(2557);n.default.addResources("de","free-text-question",i.DE),n.default.addResources("en","free-text-question",i.EN),n.default.addResources("es","free-text-question",i.ES)},2557:function(e){e.exports=JSON.parse('{"DE":{"answers":"Antworten","answer-resubmitted":"Antwort erneut eingereicht","answer-submitted":"Antwort eingereicht.","question-closed":"Frage ist nun geschlossen.","resubmit":"Erneut einreichen","solution":"Lösung:","submission-message-no-solution":"Du kannst Deine Antwort ändern und erneut einreichen, wenn Du möchtest.","submission-message-solution":"Vergleiche Deine Antwort mit der Lösung über die Schaltfläche \\"Lösung anzeigen\\". Du kannst dann Deine Antwort ändern und bei Bedarf erneut einreichen.","submit":"Abschicken","submit-tooltip":"Klicke auf \\"Abschicken\\", nachdem Du Deine Antwort eingegeben hast","your-answer":"Deine Antwort:"},"EN":{"answers":"Answers","answer-resubmitted":"Answer re-submitted.","answer-submitted":"Answer submitted.","question-closed":"Question is now closed.","resubmit":"Resubmit","solution":"Solution:","submission-message-no-solution":"You can change your answer and re-submit if you want to.","submission-message-solution":"Compare your answer with solution using the \\"Show Solution\\" button. You can then change your answer and re-submit if necessary.","submit":"Submit","submit-tooltip":"Click submit after you have typed your answer.","your-answer":"Your answer:"},"ES":{"answers":"Respuestas","answer-resubmitted":"Respuesta presentada de nuevo.","answer-submitted":"Respuesta presentada.","question-closed":"La pregunta está ahora cerrada.","resubmit":"Reenviada","solution":"Solución:","submission-message-no-solution":"Puedes cambiar tu respuesta y volver a presentarla si quieres.","submission-message-solution":"Compara tu respuesta con la solución usando el botón \\"Mostrar solución\\". Luego puedes cambiar tu respuesta y volver a presentarla si es necesario","submit":"Presentar","submit-tooltip":"Haga clic en enviar después de haber escrito su respuesta.","your-answer":"Tu respuesta:"}}')},2558:function(e,t,s){"use strict";s.r(t);var n=s(22),i=s.n(n),o=s(2559),a={insert:"head",singleton:!1};i()(o.default,a);t.default=o.default.locals||{}},2559:function(e,t,s){"use strict";s.r(t);var n=s(23),i=s.n(n)()(!1);i.push([e.i,".free-text-question {\n\tborder: 1px solid rgba(92, 92, 92, 0.6);\n\tborder-radius: 6px;\n\tbox-shadow: 0 0 4px rgba(92, 92, 92, 0.5);\n\tmargin: 0 auto 10px;\n\tmargin-top: 8px;\n\tmax-width: 900px;\n}\n\n.free-text-question-solution-wrapper {\n\tdisplay: block;\n\twidth: 100%;\n\tpadding: 0.375rem 0.75rem;\n\tfont-size: 1rem;\n\tline-height: 1.5;\n\tcolor: #495057;\n\tbackground-color: lightgray;\n\tbackground-clip: padding-box;\n\tborder: 1px solid #ced4da;\n\tborder-radius: 0.25rem;\n\toverflow: auto;\n}\n\n.free-text-question label {\n\tfont-stretch: extra-expanded;\n\tfont-weight: 600;\n\tcolor: #2e4468;\n}\n\n.free-text-question-toolbar {\n\tfloat: right;\n}\n",""]),t.default=i},847:function(e,t,s){"use strict";s.r(t);var n=s(14),i=s.n(n),o=s(13),a=s.n(o),r=s(10),u=s.n(r),l=s(15),c=s.n(l),d=s(16),p=s.n(d),m=s(8),h=s.n(m),f=s(7),b=s.n(f),g=s(0),v=s.n(g),y=s(26),w=s.n(y),E=s(1),x=s.n(E),S=s(2300),T=s(76),N=s(1070),k=s(114),D=s(77),_=s(215),R=s(36),q=s.n(R),O=s(34),A=s(63),C=s(142),I=s(377),L=s(390),U=s(146),P=s(159),F=s(382),H=s(384),M=s(90),j=s(144),B=s(1113),z=s(37),Q=s(1482),X=s(1850),W=s(201),Y=s(108),J=s(2555);s(2556),s(2558);function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,n=h()(e);if(t){var i=h()(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return p()(this,s)}}var K=Object(A.default)("free-text-question"),G=q()("isle:free-text-question"),Z=function(e){c()(s,e);var t=V(s);function s(e,n){var o;i()(this,s),o=t.call(this,e),b()(u()(o),"handleChange",(function(e){var t=e.target.value;o.setState({value:t}),o.beforeUnload||(window.addEventListener("beforeunload",X.default),o.beforeUnload=!0),o.props.onChange(t)})),b()(u()(o),"appendText",(function(e){o.setState({value:o.state.value+" "+e})})),b()(u()(o),"sendSubmitNotification",(function(){var e=o.context;if(o.state.submitted)e.addNotification({title:o.props.t("answer-resubmitted"),message:o.props.resubmissionMsg,level:"success"});else{var t=o.props.submissionMsg;""===t&&(t=o.props.solution&&o.props.provideFeedback?o.props.t("submission-message-solution"):o.props.t("submission-message-no-solution")),e.addNotification({title:o.props.t("answer-submitted"),message:t,level:"success"})}})),b()(u()(o),"submitHandler",(function(e){var t=o.context;o.props.disableSubmitNotification||o.sendSubmitNotification(),o.props.onSubmit(o.state.value),o.setState({submitted:!0}),window.removeEventListener("beforeunload",X.default),o.beforeUnload=!1,t.log({id:o.id,type:W.FREE_TEXT_QUESTION_SUBMIT_ANSWER,value:o.state.value})})),b()(u()(o),"handleSolutionClick",(function(){var e=o.context;o.state.solutionDisplayed?o.setState({solutionDisplayed:!1,value:o.state.studentAnswer}):(e.log({id:o.id,type:W.FREE_TEXT_QUESTION_DISPLAY_SOLUTION,value:null}),o.setState({solutionDisplayed:!0,studentAnswer:o.state.value,value:o.props.solution}))})),b()(u()(o),"logHint",(function(e){G("Logging hint..."),o.context.log({id:o.id,type:W.FREE_TEXT_QUESTION_OPEN_HINT,value:e})})),G("Invoking constructor of FreeTextQuestion...");var a=n.currentUserActions;o.id=e.id||K(e);var r=Object(Q.default)(a,o.id,W.FREE_TEXT_QUESTION_SUBMIT_ANSWER);return o.state={exhaustedHints:0===e.hints.length,value:Object(O.isPrimitive)(r)?r:"",solutionDisplayed:!1,submitted:Object(O.isPrimitive)(r),placeholder:e.placeholder,solution:e.solution,question:e.question},o}return a()(s,[{key:"componentDidMount",value:function(){var e=this,t=this.context;this.unsubscribe=t.subscribe((function(t){t===Y.RETRIEVED_CURRENT_USER_ACTIONS&&e.setToLastAction()}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"setToLastAction",value:function(){var e=this.context.currentUserActions,t=Object(Q.default)(e,this.id,W.FREE_TEXT_QUESTION_SUBMIT_ANSWER);Object(O.isPrimitive)(t)&&t!==this.state.value&&this.setState({value:t,submitted:!0})}},{key:"triggerHint",value:function(){w.a.findDOMNode(this.hintButton).click()}},{key:"renderSubmitButton",value:function(){var e=this.context;return this.props.until&&e.startTime>this.props.until?v.a.createElement("span",{className:"title",style:{marginLeft:4}},this.props.t("question-closed")):this.state.value.length>=1&&!this.state.solutionDisplayed?v.a.createElement(L.default,{className:"submit-button",variant:"primary",size:"sm",onClick:this.submitHandler,duration:5,style:{marginLeft:"4px"}},this.state.submitted?this.props.t("resubmit"):this.props.t("submit")):v.a.createElement(M.default,{placement:"top",positionLeft:100,overlay:v.a.createElement(_.default,{id:"submitTooltip"},this.props.t("submit-tooltip")),rootClose:!0},v.a.createElement("div",{style:{display:"inline-block"}},v.a.createElement(T.default,{className:"submit-button",variant:"primary",size:"sm",style:{pointerEvents:"none",marginLeft:"4px"},disabled:!0},this.props.t("submit"))))}},{key:"render",value:function(){var e=this,t=this.props.hints.length,s=v.a.createElement(P.default,{disabled:!(this.props.instantSolution||this.state.submitted&&this.state.exhaustedHints),onClick:this.handleSolutionClick,hasHints:this.props.hints.length>0});return v.a.createElement(C.default,{id:this.id,className:"free-text-question ".concat(this.props.className),style:this.props.style,fullscreen:!0,bodyStyle:{width:this.props.feedback?"calc(100%-60px)":"100%",display:"inline-block"}},v.a.createElement(H.default,{id:this.props.voiceID,reference:this,commands:J}),this.props.question?v.a.createElement("div",{className:"title"},this.props.question):null,v.a.createElement(D.default,null,v.a.createElement("label",{htmlFor:"".concat(this.id,"-textarea")},this.state.solutionDisplayed?this.props.t("solution"):this.props.t("your-answer")),this.state.solutionDisplayed?v.a.createElement("div",{className:"free-text-question-solution-wrapper",style:{height:"calc(".concat(1.5*this.props.rows,"rem + 14px)")}},this.state.value):v.a.createElement(k.default,{id:"".concat(this.id,"-textarea"),as:"textarea",placeholder:this.props.placeholder,onChange:this.handleChange,style:{resize:this.props.resizable?"both":"none"},maxLength:this.props.maxlength,rows:this.props.rows,value:this.state.value,disabled:this.state.solutionDisplayed})),v.a.createElement(U.default,{buttonLabel:this.props.t("answers"),id:this.id,info:W.FREE_TEXT_QUESTION_SUBMIT_ANSWER,data:{question:this.props.question,solution:this.props.solution},style:{float:"left"},points:this.props.points}),v.a.createElement(N.default,{className:"free-text-question-toolbar"},t>0?v.a.createElement(F.default,{id:"".concat(this.id,"-hints"),onClick:this.logHint,ref:function(t){e.hintButton=t},hints:this.props.hints,onFinished:function(){e.setState({exhaustedHints:!0})},style:{marginRight:"4px"},placement:this.props.hintPlacement}):null,this.props.provideFeedback&&this.props.solution?s:null,this.props.chat?v.a.createElement("div",{style:{display:"inline-block",marginLeft:"4px"}},v.a.createElement(I.default,{for:this.id})):null,this.renderSubmitButton()),this.props.feedback?v.a.createElement(j.default,{id:this.id+"_feedback",style:{marginRight:5,marginTop:-5}}):null,v.a.createElement(B.default,{for:this.id,points:this.props.points}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.placeholder!==t.placeholder||e.solution!==t.solution||e.question!==t.question?{value:"",solutionDisplayed:!1,submitted:!1,placeholder:e.placeholder,solution:e.solution,question:e.question}:null}}]),s}(g.Component);Z.defaultProps={question:"",hints:[],hintPlacement:"top",feedback:!0,solution:"",instantSolution:!1,rows:5,chat:!1,placeholder:"Enter your answer here...",resizable:!1,disableSubmitNotification:!1,submissionMsg:"",resubmissionMsg:"You have successfully re-submitted your answer.",provideFeedback:!0,maxlength:2500,voiceID:null,until:null,points:10,className:"",style:{},onChange:function(){},onSubmit:function(){}},Z.propTypes={question:x.a.oneOfType([x.a.string,x.a.node]),hints:x.a.arrayOf(x.a.oneOfType([x.a.string,x.a.node])),hintPlacement:x.a.string,feedback:x.a.bool,solution:x.a.oneOfType([x.a.string,x.a.node]),instantSolution:x.a.bool,rows:x.a.number,chat:x.a.bool,resizable:x.a.bool,placeholder:x.a.string,disableSubmitNotification:x.a.bool,submissionMsg:x.a.string,resubmissionMsg:x.a.string,provideFeedback:x.a.bool,maxlength:x.a.number,voiceID:x.a.string,until:x.a.instanceOf(Date),points:x.a.number,className:x.a.string,style:x.a.object,onChange:x.a.func,onSubmit:x.a.func},Z.contextType=z.default,t.default=Object(S.withTranslation)("free-text-question")(Z)}}]);