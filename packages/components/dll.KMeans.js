/*! For license information please see dll.KMeans.js.LICENSE.txt */
(window.webpackJsonp_name_dll=window.webpackJsonp_name_dll||[]).push([[59],{2081:function(t,e,n){"use strict";function r(t,e){let n=0;for(let r=0;r<t.length;r++)n+=(t[r]-e[r])*(t[r]-e[r]);return n}function i(t,e){return Math.sqrt(r(t,e))}n.r(e),n.d(e,"squaredEuclidean",(function(){return r})),n.d(e,"euclidean",(function(){return i}))},2286:function(t,e,n){"use strict";n.r(e),n.d(e,"calculateDistanceMatrix",(function(){return i})),n.d(e,"updateClusterID",(function(){return a})),n.d(e,"updateCenters",(function(){return o})),n.d(e,"hasConverged",(function(){return s}));var r=n(3481);function i(t,e){for(var n=new Array(t.length),r=0;r<t.length;++r)for(var i=r;i<t.length;++i){n[r]||(n[r]=new Array(t.length)),n[i]||(n[i]=new Array(t.length));const a=e(t[r],t[i]);n[r][i]=a,n[i][r]=a}return n}function a(t,e,n,i){for(var a=0;a<t.length;a++)n[a]=Object(r.default)(e,t[a],{distanceFunction:i});return n}function o(t,e,n,r){const i=e[0].length;for(var a=new Array(r),o=new Array(r),s=0;s<r;s++){a[s]=new Array(i),o[s]=0;for(var u=0;u<i;u++)a[s][u]=0}for(var c=0;c<e.length;c++){o[n[c]]++;for(var l=0;l<i;l++)a[n[c]][l]+=e[c][l]}for(var f=0;f<r;f++)for(var d=0;d<i;d++)o[f]?a[f][d]/=o[f]:a[f][d]=t[f][d];return a}function s(t,e,n,r){for(var i=0;i<t.length;i++)if(n(t[i],e[i])>r)return!1;return!0}},3479:function(t,e,n){"use strict";n.r(e);var r=n(7),i=n.n(r),a=n(14),o=n.n(a),s=n(13),u=n.n(s),c=n(15),l=n.n(c),f=n(16),d=n.n(f),h=n(8),m=n.n(h),p=n(0),b=n.n(p),g=n(1),v=n.n(g),w=n(2300),y=n(3480),E=n(1008),O=n(50),j=n.n(O),z=n(106),k=n(139),A=n.n(k),R=n(148);n(3487);function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var i=m()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d()(this,n)}}var M=function(t){var e=t.K,n=t.variables,r=t.data,i=t.initialization;if(!(r&&n&&e&&i))return null;var a=[];if(!j()(r,n[0]))return null;for(var o,s=r[n[0]].length,u=0;u<s;u++){for(var c=[],l=!1,f=0;f<n.length;f++){if(!j()(r,n[f]))return null;var d=r[n[f]][u];if(o=d,!Object(z.isPrimitive)(o)||A()(o)){l=!0;break}c.push(d)}l||a.push(c)}try{return Object(y.default)(a,e,{initialization:i})}catch(t){return null}},F=function(t){l()(n,t);var e=I(n);function n(t){var r;o()(this,n),r=e.call(this,t);var i=t.K,a=t.variables,s=t.data,u=t.initialization,c=M({K:i,variables:a,data:s,initialization:u});return r.state=D({result:c},t),c&&t.onResult(c),r}return u()(n,[{key:"render",value:function(){var t,e,n=this.state.result;return n?b.a.createElement("div",{style:{overflowX:"auto",width:"100%"}},b.a.createElement("span",{className:"title"},"kmeans Summary"),b.a.createElement("p",null,"The algorithm ",n.converged?"converged":"did not converge"," after ",n.iterations," iterations"),(t=this.props.variables,e=n.centroids,b.a.createElement(R.default,{bordered:!0,size:"sm"},b.a.createElement("thead",null,b.a.createElement("tr",null,b.a.createElement("th",null,"Cluster"),e.map((function(t,e){return b.a.createElement("th",{key:e},e+1)})))),b.a.createElement("tbody",null,t.map((function(t,n){return b.a.createElement("tr",{key:n},b.a.createElement("th",null,t),e.map((function(t,e){return b.a.createElement("td",{key:e},t.centroid[n].toFixed(4))})))}))),b.a.createElement("tbody",null,b.a.createElement("tr",null,b.a.createElement("th",null,"Size"),e.map((function(t,e){return b.a.createElement("th",{key:e},t.size)}))))))):b.a.createElement(E.default,{variant:"danger"},this.props.t("missing-attributes"))}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(t.data!==e.data||t.variables!==e.variables||t.K!==e.K||t.initialization!==e.initialization){var n=t.K,r=t.variables,i=t.data,a=t.initialization,o=M({K:n,variables:r,data:i,initialization:a});return t.onResult(o),D({result:o},t)}return null}}]),n}(p.Component);F.defaultProps={K:3,initialization:"kmeans++",onResult:function(){}},F.propTypes={data:v.a.object.isRequired,variables:v.a.arrayOf(v.a.string).isRequired,K:v.a.number,initialization:v.a.oneOf(["kmeans++","random","mostDistant"]),onResult:v.a.func},e.default=Object(w.withTranslation)("kmeans")(F)},3480:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return c}));var r=n(2081),i=n(2286),a=n(3482),o=n(3486);const s={maxIterations:100,tolerance:1e-6,withIterations:!1,initialization:"kmeans++",distanceFunction:r.squaredEuclidean};function u(t,e,n,r,a,s){n=Object(i.updateClusterID)(e,t,n,a.distanceFunction);var u=Object(i.updateCenters)(t,e,n,r),c=Object(i.hasConverged)(u,t,a.distanceFunction,a.tolerance);return new o.default(n,u,c,s,a.distanceFunction)}function c(t,e,n){if(n=Object.assign({},s,n),e<=0||e>t.length||!Number.isInteger(e))throw new Error("K should be a positive integer smaller than the number of points");var r;if(Array.isArray(n.initialization)){if(n.initialization.length!==e)throw new Error("The initial centers should have the same length as K");r=n.initialization}else switch(n.initialization){case"kmeans++":r=Object(a.kmeanspp)(t,e,n);break;case"random":r=Object(a.random)(t,e,n.seed);break;case"mostDistant":r=Object(a.mostDistant)(t,e,Object(i.calculateDistanceMatrix)(t,n.distanceFunction),n.seed);break;default:throw new Error(`Unknown initialization method: "${n.initialization}"`)}0===n.maxIterations&&(n.maxIterations=Number.MAX_VALUE);var o=new Array(t.length);if(n.withIterations)return function*(t,e,n,r,i){for(var a,o=!1,s=0;!o&&s<i.maxIterations;)a=u(t,e,n,r,i,++s),yield a.computeInformation(e),o=a.converged,t=a.centroids}(r,t,o,e,n);for(var c,l=!1,f=0;!l&&f<n.maxIterations;)l=(c=u(r,t,o,e,n,++f)).converged,r=c.centroids;return c.computeInformation(t)}},3481:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return i})),n.d(e,"findNearestVector",(function(){return a}));const r={distanceFunction:n(2081).squaredEuclidean};function i(t,e,n=r){const i=n.distanceFunction||r.distanceFunction,a=n.similarityFunction||r.similarityFunction;let o=-1;if("function"==typeof a){let n=Number.MIN_VALUE;for(let r=0;r<t.length;r++){const i=a(e,t[r]);i>n&&(n=i,o=r)}}else{if("function"!=typeof i)throw new Error("A similarity or distance function it's required");{let n=Number.MAX_VALUE;for(let r=0;r<t.length;r++){const a=i(e,t[r]);a<n&&(n=a,o=r)}}}return o}function a(t,e,n=r){return t[i(t,e,n)]}},3482:function(t,e,n){"use strict";n.r(e),n.d(e,"random",(function(){return o})),n.d(e,"mostDistant",(function(){return s})),n.d(e,"kmeanspp",(function(){return u}));var r=n(3483),i=n(2081),a=n(1156);function o(t,e,n){return new r.default(n).choice(t,{size:e})}function s(t,e,n,i){const a=new r.default(i);var o=new Array(e);if(o[0]=Math.floor(a.random()*t.length),e>1){for(var s={dist:-1,index:-1},u=0;u<t.length;++u)n[o[0]][u]>s.dist&&(s.dist=n[o[0]][u],s.index=u);if(o[1]=s.index,e>2)for(var c=2;c<e;++c){for(var l={dist:-1,index:-1},f=0;f<t.length;++f){for(var d={dist:Number.MAX_VALUE,index:-1},h=0;h<c;++h)n[h][f]<d.dist&&-1===o.indexOf(f)&&(d={dist:n[h][f],index:f});d.dist!==Number.MAX_VALUE&&d.dist>l.dist&&(l=Object.assign({},d))}o[c]=l.index}}return o.map((e=>t[e]))}function u(t,e,n={}){const o=(t=new a.default(t)).rows,s=new r.default(n.seed),u=[],d=n.localTrials||2+Math.floor(Math.log(e)),h=s.randInt(o);u.push(t.getRow(h));let m=new a.default(1,t.rows);for(let e=0;e<t.rows;e++)m.set(0,e,Object(i.squaredEuclidean)(t.getRow(e),u[0]));let p=[f(m.getRow(0))];const b=1/p[0][o-1];let g=a.default.mul(m,b);for(let n=1;n<e;n++){const e=s.choice(o,{replace:!0,size:d,probabilities:g[0]}),r=c(t.selection(e,l(t.columns)),t);let i,h,b;for(let t=0;t<d;t++){const n=a.default.min(m,[r.getRow(t)]),o=n.sum();(void 0===i||o<h)&&(i=e[t],h=o,b=n)}u[n]=t.getRow(i),m=b,p=[f(m.getRow(0))],g=a.default.mul(m,1/p[0][o-1])}return u}function c(t,e){const n=new a.default(t.rows,e.rows);for(let r=0;r<t.rows;r++)for(let a=0;a<e.rows;a++)n.set(r,a,Object(i.squaredEuclidean)(t.getRow(r),e.getRow(a)));return n}function l(t){let e=[];for(let n=0;n<t;n++)e.push(n);return e}function f(t){let e=[t[0]];for(let n=1;n<t.length;n++)e[n]=e[n-1]+t[n];return e}},3483:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return a}));var r=n(3484),i=n(3485);class a{constructor(t=Math.random){if("number"==typeof t){const e=new r.default(t);this.randomGenerator=e.random}else this.randomGenerator=t}choice(t,e){return Object(i.default)(t,e,this.randomGenerator)}random(){return this.randomGenerator()}randInt(t,e){return void 0===e&&(e=t,t=0),t+Math.floor(this.randomGenerator()*(e-t))}randomSample(t){const e=[];for(let n=0;n<t;n++)e.push(this.random());return e}}},3484:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return i}));function r(t,e){const n=65535&(t>>>=0);return((t-n)*(e>>>=0)>>>0)+n*e>>>0}class i{constructor(t=Date.now()){this.state=new Uint32Array(4),this.init(t),this.random=this.getFloat.bind(this)}getUint32(){return this.nextState(),this.state[3]+this.state[2]>>>0}getFloat(){return 5.960464477539063e-8*(this.getUint32()>>>8)}init(t){if(!Number.isInteger(t))throw new TypeError("seed must be an integer");this.state[0]=t,this.state[1]=0,this.state[2]=0,this.state[3]=0;for(let t=1;t<8;t++)this.state[3&t]^=t+r(1812433253,this.state[t-1&3]^this.state[t-1&3]>>>30>>>0)>>>0;this.periodCertification();for(let t=0;t<8;t++)this.nextState()}periodCertification(){0===this.state[0]&&0===this.state[1]&&0===this.state[2]&&0===this.state[3]&&(this.state[0]=88,this.state[1]=83,this.state[2]=65,this.state[3]=68)}nextState(){let t=this.state[0];t^=t<<15,t^=t>>>18,t^=this.state[3]<<11,this.state[0]=this.state[1],this.state[1]=this.state[2],this.state[2]=this.state[3],this.state[3]=t}}},3485:function(t,e,n){"use strict";n.r(e);function r(t,e,n){const r=e();if(n){let t=0;for(;r>n[t];)t++;return t}return Math.floor(r*t)}e.default=function(t,e={},n=Math.random){const{size:i=1,replace:a=!1,probabilities:o}=e;let s,u;if(s="number"==typeof t?function(t){const e=[];for(let n=0;n<t;n++)e.push(n);return e}(t):t.slice(),o){if(!a)throw new Error("choice with probabilities and no replacement is not implemented");if(o.length!==s.length)throw new Error("the length of probabilities option should be equal to the number of choices");u=[o[0]];for(let t=1;t<o.length;t++)u[t]=u[t-1]+o[t];if(Math.abs(1-u[u.length-1])>1e-8)throw new Error("probabilities should sum to 1, but instead sums to "+u[u.length-1])}if(!1===a&&i>s.length)throw new Error("size option is too large");const c=[];for(let t=0;t<i;t++){const t=r(s.length,n,u);c.push(s[t]),a||s.splice(t,1)}return c}},3486:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return a}));var r=n(2286);const i=Symbol("distance");class a{constructor(t,e,n,r,a){this.clusters=t,this.centroids=e,this.converged=n,this.iterations=r,this[i]=a}nearest(t){const e=new Array(t.length),n=this.centroids.map((function(t){return t.centroid}));return Object(r.updateClusterID)(t,n,e,this[i])}computeInformation(t){for(var e=this.centroids.map((function(t){return{centroid:t,error:0,size:0}})),n=0;n<t.length;n++)e[this.clusters[n]].error+=this[i](t[n],this.centroids[this.clusters[n]]),e[this.clusters[n]].size++;for(var r=0;r<this.centroids.length;r++)e[r].size?e[r].error/=e[r].size:e[r].error=null;return new a(this.clusters,e,this.converged,this.iterations,this[i])}}},3487:function(t,e,n){"use strict";n.r(e);var r=n(958),i=n(3488);r.default.addResources("de","kmeans",i.DE),r.default.addResources("en","kmeans",i.EN),r.default.addResources("es","kmeans",i.ES)},3488:function(t){t.exports=JSON.parse('{"DE":{"missing-attributes":"Modell konnte nicht geschätzt werden. Bitte überprüfen Sie, ob alle erforderlichen Attribute vorhanden sind."},"EN":{"missing-attributes":"Model could not be estimated. Please check that all required attributes are supplied."},"ES":{"missing-attributes":"El modelo no pudo ser estimado. Por favor, compruebe que se han suministrado todos los atributos necesarios."}}')}}]);