/*! For license information please see dll.ProportionsSurvey.js.LICENSE.txt */
(window.webpackJsonp_name_dll=window.webpackJsonp_name_dll||[]).push([[105],{2896:function(e,t,n){"use strict";n.r(t);var s=n(2),r=Object(s.default)((function(){return n.e(104).then(n.bind(null,3501))}));t.default=r},903:function(e,t,n){"use strict";n.r(t);var s=n(14),r=n.n(s),a=n(13),i=n.n(a),o=n(10),l=n.n(o),u=n(15),p=n.n(u),c=n(16),d=n.n(c),m=n(8),f=n.n(m),h=n(7),g=n.n(h),b=n(0),v=n.n(b),y=n(1),E=n.n(y),S=n(76),R=n(87),w=n(983),x=n(68),N=n(36),O=n.n(N),P=n(63),k=n(2896),I=n(143),A=n(146),T=n(158),H=n(37),_=n(201);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,s=f()(e);if(t){var r=f()(this).constructor;n=Reflect.construct(s,arguments,r)}else n=s.apply(this,arguments);return d()(this,n)}}var D=O()("isle:proportions-survey"),J=Object(P.default)("proportions-survey"),C=function(e){p()(n,e);var t=j(n);function n(e){var s;return r()(this,n),s=t.call(this,e),g()(l()(s),"submitQuestion",(function(){D("Sending the data: "+s.state.value);var e=s.context;e.log({id:s.id,type:_.PROPORTIONS_SURVEY_SUBMISSION,value:JSON.stringify(s.state.value),anonymous:s.props.anonymous},"members"),s.setState({submitted:!0}),e.addNotification({title:"Submitted",message:"Your answer has been submitted.",level:"success"}),s.props.onSubmit(s.state.value)})),g()(l()(s),"onData",(function(e){D("ProportionsSurvey is receiving data: "+JSON.stringify(e)),e=e[s.id],s.getAverage(e)})),s.id=e.id||J(e),s.results=[],s.state={submitted:!1,value:null,resultValues:null,nResults:0},s}return i()(n,[{key:"getAverage",value:function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=JSON.parse(e[n]);for(var s=new Array(this.props.nElements).fill(0),r=new Array(this.props.nElements).fill(0),a=0;a<t.length;a++)for(var i=0;i<t[a].length;i++)s[i]+=t[a][i];D("The sum is "+s);for(var o=0;o<this.props.nElements;o++)r[o]=s[o]/t.length;D("The mean is "+r),this.setState({resultValues:r,nResults:t.length})}},{key:"render",value:function(){var e=this,t=this.state.submitted&&!this.props.allowMultipleAnswers||this.props.disabled;return v.a.createElement(I.default,{user:!0,banner:v.a.createElement("h2",null,"Please sign in...")},v.a.createElement(w.default,null,v.a.createElement(x.default,{md:6},v.a.createElement(R.default,{body:!0,className:"ProportionsSurvey",style:{margin:"0 auto 10px",maxWidth:600,marginTop:"8px"}},v.a.createElement("h3",null,this.props.question),v.a.createElement(k.default,{legends:this.props.legends,precision:this.props.precision,step:this.props.step,height:this.props.personalHeight,innerRadius:this.props.personalInnerRadius,colors:this.props.colors,margin:this.props.margin,nElements:this.props.nElements,onChange:function(t){e.setState({value:t})}}),v.a.createElement(S.default,{size:"small",variant:"success",block:!0,fill:!0,onClick:this.submitQuestion,disabled:t},t?"Submitted":"Submit"))),v.a.createElement(x.default,{md:6},v.a.createElement(R.default,{body:!0,className:"ProportionsSurvey",style:{margin:"0 auto 10px",maxWidth:600,marginTop:"8px"}},v.a.createElement("h3",null,this.props.group),v.a.createElement(T.default,{for:[this.id],onData:this.onData}),v.a.createElement("h4",null,"Number of votes: ",this.state.nResults," "),v.a.createElement(k.default,{legends:this.props.legends,precision:this.props.precision,step:this.props.step,height:this.props.groupHeight,innerRadius:this.props.groupInnerRadius,colors:this.props.colors,disabled:!0,margin:this.props.margin,values:this.state.resultValues,nElements:this.props.nElements})))),v.a.createElement(A.default,{buttonLabel:"Responses",id:this.id}))}}]),n}(b.Component);C.defaultProps={onSubmit:function(){},allowMultipleAnswers:!1,question:"",anonymous:!1,disabled:!1,nElements:6,legends:null,group:"group results",precision:2,step:.25,colors:["tomato","orange","gold","darkcyan","salmon","lightgreen","gainsboro","lightpurple","darkkhaki","darkseagreen"],personalHeight:200,personalInnerRadius:60,groupHeight:100,groupInnerRadius:40,margin:"40px"},C.propTypes={allowMultipleAnswers:E.a.bool,anonymous:E.a.bool,colors:E.a.array,disabled:E.a.bool,group:E.a.string,groupHeight:E.a.number,groupInnerRadius:E.a.number,legends:E.a.array,margin:E.a.string,nElements:E.a.number,onSubmit:E.a.func,personalHeight:E.a.number,personalInnerRadius:E.a.number,precision:E.a.number,question:E.a.oneOfType([E.a.string,E.a.node]),step:E.a.number},C.contextType=H.default,t.default=C},983:function(e,t,n){"use strict";n.r(t);var s=n(5),r=n(11),a=n(12),i=n.n(a),o=n(0),l=n.n(o),u=n(17),p=l.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.fluid,o=e.as,p=void 0===o?"div":o,c=e.className,d=Object(r.default)(e,["bsPrefix","fluid","as","className"]),m=Object(u.useBootstrapPrefix)(n,"container"),f="string"==typeof a?"-"+a:"-fluid";return l.a.createElement(p,Object(s.default)({ref:t},d,{className:i()(c,a?""+m+f:m)}))}));p.displayName="Container",p.defaultProps={fluid:!1},t.default=p}}]);