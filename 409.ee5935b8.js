(window.webpackJsonp=window.webpackJsonp||[]).push([[409],{5863:function(t,e,n){"use strict";n.r(e);n(368),n(358),n(370);var a=n(357),r=n.n(a),i=n(359),o=n.n(i),s=n(362),u=n.n(s),c=n(377),l=n.n(c),p=n(365),f=n.n(p),d=n(366),h=n.n(d),m=n(364),y=n.n(m),g=n(355),v=n.n(g),T=n(0),C=(n(347),n(393)),x=n(444),S=n(833),b=n.n(S),V=n(488),w=n.n(V),D=n(415),R=n.n(D),k=n(575),I=n.n(k),q=n(386),M=n.n(q),P=n(376),z=n.n(P),A=n(523),B=n(495),F=n(1507),J=n(3276),_=n(437),j=n(725);function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=y()(t);if(e){var r=y()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return h()(this,n)}}function H(t,e){return t?"Classificiation"===e?M()(z()(t.length)):t.length<3?1:M()(t.length/3):1}var N=function(t){f()(n,t);var e=G(n);function n(t){var a;return o()(this,n),a=e.call(this,t),v()(l()(a),"compute",(function(){var t=a.state,e=t.y,n=t.x,i=t.type,o=t.nTrees,s=t.nTry,u=t.impurityMeasure,c=t.scoreThreshold,l=t.maxTreeDepth,p=t.minItemsCount,f=r()(J.a,{x:n,y:e,type:i,nTrees:o,nTry:s,impurityMeasure:u,scoreThreshold:c,maxTreeDepth:l,minItemsCount:p,quantitative:a.props.quantitative,data:a.props.data,onPredict:function(t,n){var r=I()(a.props.data,1);if("Classification"===i){var o=a.props.categorical.slice(),s=t.predict(r).map((function(t){return String(t)})),u="pred_forest"+n;r[u]=s,w()(o,u)||o.push(u),u="correct_forest"+n;var c=a.props.data[e];r[u]=s.map((function(t,e){return t===String(c[e])?"Yes":"No"})),w()(o,u)||o.push(u),a.props.onGenerate(a.props.quantitative,o,r)}}});a.props.logAction(_.B,{y:e,x:n,type:i,nTrees:o,nTry:s}),a.props.onCreated(f)})),a.state={y:t.categorical[0],x:t.quantitative[0],type:"Classification",nTrees:50,nTry:1,impurityMeasure:"gini",scoreThreshold:.01,maxTreeDepth:20,minItemsCount:50},a}return u()(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.categorical,a=e.quantitative,i=e.t,o=this.state,s=o.x,u=o.y,c=o.type,l=o.nTrees,p=o.nTry;return r()(x.a,{style:{fontSize:"14px",maxWidth:600}},void 0,r()(x.a.Header,{as:"h4"},void 0,i("Random Forest"),r()(j.a,{title:i("Random Forest"),content:"Instead of growing a single decision tree, a random forest as an ensemble method constructs many decision trees at once and returns the average of the predictions (regression case) or the majority vote (classification case) of the individual trees"})),r()(x.a.Body,{},void 0,r()(A.a,{legend:"Type",options:["Classification"],defaultValue:c,onChange:function(e){e!==t.state.type&&t.setState({type:e,y:"Classification"===e?n[0]:a[0],nTry:H(t.state.x,e)})}}),r()(A.a,{legend:i("outcome-y"),options:"Classification"===c?n:a,defaultValue:u,onChange:function(e){return t.setState({y:e})}}),r()(A.a,{legend:i("predictors-x"),multi:!0,options:b()(a.concat(n)),defaultValue:s||"",onChange:function(e){t.setState({x:e,nTry:H(e,c)})}}),r()(B.b,{legend:i("number-of-trees"),defaultValue:l,inputStyle:{float:"right"},onChange:function(e){return t.setState({nTrees:e})},tooltipPlacement:"top",min:1}),r()(B.b,{legend:"# of predictors to check at each split",defaultValue:p,inputStyle:{float:"right"},onChange:function(e){return t.setState({nTry:e})},tooltipPlacement:"top",min:1,max:R()(s)?s.length:1}),r()(F.a,{header:i("change-tree-features"),headerStyle:{fontSize:"1rem"}},void 0,r()(B.b,{legend:"Score threshold for split",min:0,max:1,step:.001,defaultValue:this.state.scoreThreshold,onChange:function(e){return t.setState({scoreThreshold:e})}}),r()(B.b,{legend:i("maximum-tre-depth"),min:1,max:50,defaultValue:this.state.maxTreeDepth,onChange:function(e){return t.setState({maxTreeDepth:e})}}),r()(B.b,{legend:i("min-obs-leafs"),min:1,defaultValue:this.state.minItemsCount,onChange:function(e){return t.setState({minItemsCount:e})}})),"Classification"===c?r()(A.a,{legend:i("impurity-measure"),defaultValue:this.state.impurityMeasure,options:["gini","entropy"],onChange:function(e){return t.setState({impurityMeasure:e})}}):null,r()(C.a,{disabled:!s||0===s.length,variant:"primary",block:!0,onClick:this.compute},void 0,i("calculate"))))}}]),n}(T.Component);N.defaultProps={logAction:function(){}},e.default=N}}]);