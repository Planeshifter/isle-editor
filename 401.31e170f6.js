(window.webpackJsonp=window.webpackJsonp||[]).push([[401],{5808:function(t,e,n){"use strict";n.r(e);n(358),n(351),n(361);var a=n(352),o=n.n(a),i=n(353),r=n.n(i),c=n(366),l=n.n(c),u=n(356),d=n.n(u),s=n(357),p=n.n(s),v=n(354),f=n.n(v),h=n(350),m=n.n(h),y=n(359),b=n.n(y),g=n(0),P=(n(342),n(5717)),C=n(501),x=n.n(C),w=n(508),V=n.n(w),A=n(894),S=n(699),R=n.n(S),k=n(384),D=n(470),F=n.n(D),j=n(672),q=n(509),z=n(579),E=n(472),G=n(769),J=n(421),O=n(674);function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=f()(t);if(e){var o=f()(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return p()(this,n)}}var N=b()("thead",{},void 0,b()("tr",{},void 0,b()("th",{}),b()("th",{},void 0,"Standard Deviation"),b()("th",{},void 0,"Proportion of Variance"),b()("th",{},void 0,"Cumulative Variance Proportion"))),Q=function(t,e,n){return b()(A.a,{bordered:!0,size:"sm"},void 0,N,b()("tbody",{},void 0,t.map((function(t,a){return b()("tr",{},a,b()("th",{},void 0," ","PC".concat(a+1)," "),b()("td",{},void 0," ",t.toFixed(3)," "),b()("td",{},void 0," ",e[a].toFixed(3)," "),b()("td",{},void 0," ",n[a].toFixed(3)," "))}))))},X=b()("span",{className:"title"},void 0,"PCA Summary"),_=b()("span",{},void 0,"Principal Component Analysis",b()(O.a,{title:"Principal Component Analysis",content:"Algorithm to convert observations of possibly correlated variables into linearly uncorrelated principal components."})),B=b()(z.a,{legend:"Center values (= subtract the mean)?",defaultValue:!0}),H=b()(z.a,{legend:"Scale values (= divide by standard deviation)?",defaultValue:!1}),I=b()(E.b,{legend:"# of components to add to data table",min:0,defaultValue:0}),K=function(t){d()(n,t);var e=M(n);function n(t){var a;return o()(this,n),a=e.call(this,t),m()(l()(a),"compute",(function(t,e,n,o){for(var i,r=[],c=a.props.data[t[0]].length,l=0;l<c;l++){for(var u=[],d=!1,s=0;s<t.length;s++){var p=a.props.data[t[s]][l];if(i=p,!Object(k.isPrimitive)(i)||F()(i)){d=!0;break}u.push(p)}d||r.push(u)}var v=new P.a(r,{center:e,scale:n}),f=v.predict(r,{noComponents:o});if(o>0){for(var h=V()(a.props.data,1),m=a.props.quantitative.slice(),y=t.map((function(t){return t[0]})).join(""),g=0;g<o;g++){for(var C=[],w=0;w<f.data.length;w++)C.push(f.data[w][g]);var A="PC".concat(g+1,"_").concat(y);h[A]=C,x()(m,A)||m.push(A)}a.props.onGenerate(m,h)}a.props.logAction(J.z,{variables:t,center:e,scale:n});var S=v.getStandardDeviations(),D=v.getExplainedVariance(),q=v.getCumulativeVariance(),z={x:R()(0,D.length,1),y:D,type:"scatter",name:"Proportion of variance"},E={variable:"PCA Summary",type:"PCA",value:b()("div",{style:{overflowX:"auto",width:"100%"}},void 0,X,Q(S,D,q),b()(j.a,{editable:!0,data:[z],layout:{xaxis:{title:"Principal Component"},yaxis:{title:"Explained Proportion"}}}))};a.props.onCreated(E)})),a}return r()(n,[{key:"render",value:function(){var t=this.props,e=t.quantitative,n=t.originalQuantitative;return b()(G.a,{title:_,autoStart:!1,onGenerate:this.compute},void 0,b()(q.a,{legend:"Variables:",multi:!0,defaultValue:n,options:e,closeMenuOnSelect:!1}),B,H,I)}}]),n}(g.Component);K.defaultProps={logAction:function(){}},e.default=K}}]);