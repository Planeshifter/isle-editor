(window.webpackJsonp=window.webpackJsonp||[]).push([[274],{6478:function(t,e,s){"use strict";s.r(e);s(421),s(438),s(436),s(525),s(540),s(441);var n=s(404),r=s.n(n),i=s(412),o=s.n(i),a=s(416),l=s.n(a),c=s(425),u=s.n(c),p=s(418),d=s.n(p),h=s(419),m=s.n(h),b=s(417),f=s.n(b),v=s(410),w=s.n(v),g=(s(511),s(0)),y=s(451),O=s.n(y),S=(s(402),s(4088)),j=s(933),k=s(960),P=s(918),x=s(431),N=s(473),R=s(508),q=s(442),F=s(566),C=s.n(F),A=s(493),M=s.n(A),D=s(482),I=s.n(D),T=s(448),L=s.n(T),B=s(432),z=s(883),E=s.n(z),J=s(612),Q=s(823),Y=s(818),H=s(687),V=s(1187),_=s(680),G=s(465),K=s(471),U=s(423),W=s(445);s(355);function X(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function Z(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?X(Object(s),!0).forEach((function(e){w()(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):X(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function $(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var s,n=f()(t);if(e){var r=f()(this).constructor;s=Reflect.construct(n,arguments,r)}else s=n.apply(this,arguments);return m()(this,s)}}Object(U.a)("SelectQuestionMatrix");var tt=O()("isle:select-question-matrix"),et=Object(J.a)("select-question-matrix"),st=function(t){d()(s,t);var e=$(s);function s(t){var n;return o()(this,s),n=e.call(this,t),w()(u()(n),"handleChangeFactory",(function(t){return function(e){tt("Received a new value for ".concat(t,"..."));var s=C()(n.state.answers,1);s[t]=e.value,n.setState({answers:s})}})),w()(u()(n),"handleSubmit",(function(){for(var t=n.context,e=!0,s=M()(n.props.solution),r=0;r<s.length;r++){var i=s[r],o=n.props.solution[i],a=n.state.answers[i];Object(B.isPrimitive)(a)&&(L()(o)?I()(o,a)||(e=!1):o!==a&&(e=!1))}var l=!E()(n.props.solution);"none"!==n.props.provideFeedback&&l?e?t.addNotification({title:n.props.t("correct"),message:n.props.successMsg||n.props.t("success-message"),level:"success"}):t.addNotification({title:n.props.t("incorrect"),message:n.props.failureMsg||n.props.t("failure-message"),level:"error"}):t.addNotification({title:n.state.submitted?n.props.t("answer-resubmitted"):n.props.t("answer-submitted"),message:n.state.submitted?n.props.t("resubmit-message"):n.props.t("submit-message"),level:"info"}),t.log({id:n.id,type:K.Yb,value:n.state.answers}),n.props.onSubmit(n.state.answers,e);var c=null;n.props.provideFeedback&&l&&(c=e?"success":"danger");var u=M()(n.state.answers).length,p=M()(n.props.options).length,d=n.state.numbSubmissions+1;n.setState({submitted:!0,answerState:c,submittedAnswers:C()(n.state.answers),numbSubmissions:d,completed:(d>=n.props.nTries||"success"===c&&u===p)&&"none"!==n.props.provideFeedback&&l})})),n.id=t.id||et(t),n.state={answers:{},submitted:!1,answerState:null,completed:!1,numbSubmissions:0,submittedAnswers:null},n}return l()(s,[{key:"renderColumnNames",value:function(){var t,e=this.props.cols.length;return t=e>7?1:e>4?2:3,r()(j.a.Row,{className:"multiple-choice-matrix-question-header"},void 0,r()(R.a,{sm:t}),this.props.cols.map((function(t,e){return r()(R.a,{},e,r()(j.a.Label,{},void 0,Object(q.isPrimitive)(t)?r()(V.a,{raw:t}):t))})))}},{key:"renderSelectInput",value:function(t,e){var s,n=t+":"+e,i=this.props.options[n]||[];i=i.map((function(t,e){return{label:t,value:e}}));var o="overall"===this.props.provideFeedback&&this.state.submitted||"individual"===this.props.provideFeedback&&this.state.submitted&&this.state.submittedAnswers[n];o&&this.props.solution[n]&&(s=this.state.submittedAnswers[n]===this.props.solution[n]?"green":"red");var a=r()(k.a,{name:"form-field-name",className:"select-field",isDisabled:this.state.completed,isSearchable:!1,options:i,onChange:this.handleChangeFactory(n),menuPlacement:"top",menuPortalTarget:document.body,styles:{menuPortal:function(t){return Z(Z({},t),{},{zIndex:1010})},singleValue:function(t){return Z(Z({},t),{},{color:s})}}},"select-".concat(t,"-").concat(e)),l=this.props.cellLabels[n];return r()(g.Fragment,{},void 0,l?r()("span",{className:"select-question-matrix-cell-label"},void 0,l):null,a,o&&this.state.completed?r()(P.a,{variant:"green"===s?"success":"danger"},void 0,this.props.t("correct-answer"),":",this.props.options[n][this.props.solution[n]]):null)}},{key:"renderRowSelects",value:function(t){for(var e=this.props.cols.length,s=new Array(e),n=0;n<e;n++)s[n]=r()(R.a,{},n,this.renderSelectInput(t,n));return r()(g.Fragment,{},void 0,s)}},{key:"renderRows",value:function(){var t,e=this,s=this.props.rows.length;return t=s>7?1:s>4?2:3,this.props.rows.map((function(s,n){return r()(j.a.Row,{style:{marginBottom:15,marginTop:15}},n,r()(R.a,{sm:t},void 0,r()(j.a.Label,{column:!0,style:{textAlign:"right"}},void 0,Object(q.isPrimitive)(s)?r()(V.a,{raw:s}):s)),e.renderRowSelects(n))}))}},{key:"render",value:function(){var t=this.props.hints.length,e=M()(this.state.answers).length,s=M()(this.props.options).length,n=0===e||e<s&&!this.props.allowIncomplete||this.state.completed;return r()(N.a,{id:this.id,border:this.state.answerState,className:"select-question-matrix ".concat(this.props.className),style:this.props.style,body:!0},void 0,this.props.question?r()("label",{},void 0,this.props.question):null,this.renderColumnNames(),this.renderRows(),r()("div",{className:"select-question-matrix-toolbar"},void 0,r()(x.a,{className:"submit-button",variant:"primary",size:"sm",onClick:this.handleSubmit,disabled:n},void 0,this.state.submitted?this.props.t("resubmit"):this.props.t("submit")),t>0?r()(Q.a,{onClick:this.logHint,hints:this.props.hints,placement:this.props.hintPlacement}):null,this.props.chat?r()(H.a,{for:this.id}):null),r()("div",{},void 0,r()(Y.a,{id:this.id,data:{type:"tensor",rows:this.props.rows,cols:this.props.cols,question:this.props.question,solution:this.props.solution},info:K.Yb}),this.props.feedback?r()(_.a,{id:this.id+"_feedback",style:{float:"left"}}):null))}}]),s}(g.Component);st.defaultProps={question:"",rows:[],cols:[],solution:{},options:{},hints:[],hintPlacement:"bottom",feedback:!0,provideFeedback:"individual",allowIncomplete:!1,nTries:1,failureMsg:null,successMsg:null,cellLabels:{},chat:!1,className:"",style:{},onSubmit:function(){}},st.contextType=G.a,e.default=Object(S.a)("SelectQuestionMatrix")(Object(W.a)(st))},687:function(t,e,s){"use strict";var n=s(406),r=Object(n.a)((function(){return s.e(155).then(s.bind(null,1027))}));e.a=r},823:function(t,e,s){"use strict";var n=s(406),r=Object(n.a)((function(){return s.e(183).then(s.bind(null,1168))}));e.a=r}}]);