/*! For license information please see StatusBar.43e3540e.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[3886,9254],{70332:function(t){"use strict";t.exports=JSON.parse("[8,9,10,11,12,14,18,24,30,36,48,60,72]")},601822:function(t,e,n){"use strict";var r=(0,n(844601).Z)((function(){return Promise.all([n.e(532),n.e(1327),n.e(7750),n.e(9254)]).then(n.bind(n,294702))}));e.Z=r},294702:function(t,e,n){"use strict";n.r(e);n(382139),n(627476),n(95767),n(898837),n(694882),n(298351);var r=n(858255),o=n(607560),i=n(264659),a=n(904730),s=n(673989),c=n(175663),l=n(750591),u=n(575630),d=n(151119),f=n(202784),p=(n(213980),n(355008)),h=n(179108),v=n(635314),m=n.n(v),g=n(193679);function Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){(0,d.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.Z)(t);if(e){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var w={bottom:!0,bottomLeft:!0,bottomRight:!0,left:!0,right:!0,top:!0,topLeft:!0,topRight:!0};function k(t){var e=document.getElementsByClassName("react-draggable-last");if(t.path){for(var n=t.path[1],r=0;r<t.path.length;r++){var o=t.path[r];if(o.classList&&o.classList.contains("react-draggable-dragged")){n=o;break}}setTimeout((function(){if(e)for(var t=0;t<e.length;t++)e[t].classList.remove("react-draggable-last");n.classList.add("react-draggable-last")}),0)}}var _=function(t){(0,c.Z)(n,t);var e=b(n);function n(){var t;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o)),(0,d.Z)((0,s.Z)(t),"handleStop",(function(e,n){k(e),t.props.onStop(e,n)})),(0,d.Z)((0,s.Z)(t),"handleEscape",(function(e){t.props.onEscape(e)})),(0,d.Z)((0,s.Z)(t),"updateSize",(function(e){var n=e.width,r=e.height;t.container.updateSize({width:n,height:r})})),t}return(0,a.Z)(n,[{key:"render",value:function(){var t=this,e=m()(this.props,["onStop","onEscape"]),n="button, .btn, .nav";return e.cancel&&(n+=", "+e.cancel),(0,r.Z)(h.Z,{node:document.body},void 0,f.createElement(p.s,(0,o.Z)({},e,{cancel:n,onDragStop:this.handleStop,ref:function(e){t.container=e},default:y({x:window.pageXOffset+30,y:window.pageYOffset+30},this.props.default),position:this.props.position,enableResizing:!!this.props.resizable&&w,enableUserSelectHack:!1,style:y({position:"fixed"},this.props.style),disableDragging:this.props.disabled}),this.props.children),(0,r.Z)(g.Z,{container:this.container,actions:{Escape:this.handleEscape}}))}}]),n}(f.Component);_.defaultProps={disabled:!1,resizable:!1,position:null,style:{},onEscape:function(){},onStop:function(){}},e.default=_},912740:function(t,e,n){"use strict";var r=(0,n(844601).Z)((function(){return n.e(6131).then(n.bind(n,357459))}));e.Z=r},701501:function(t,e,n){"use strict";var r=(0,n(844601).Z)((function(){return Promise.all([n.e(532),n.e(4438)]).then(n.bind(n,664062))}));e.Z=r},460231:function(t,e,n){"use strict";var r=(0,n(844601).Z)((function(){return n.e(9036).then(n.bind(n,358699))}));e.Z=r},618764:function(t,e,n){"use strict";var r=n(858255),o=(n(319371),n(202784)),i=n(588703),a=n.n(i);e.Z=function(t){var e=t.session,n=e.cohorts,i=(0,o.useCallback)((function(t){e.selectCohort(t.target.value)}),[e]);if(!a()(n))return null;var s=(0,r.Z)("select",{id:t.id,className:"cohort-select",onChange:i,onBlur:i,value:e.selectedCohort?e.selectedCohort.title:"all"},void 0,(0,r.Z)("option",{value:"all"},void 0,t.t("all-cohorts")),n.map((function(t,e){return(0,r.Z)("option",{value:t.title},e,t.title)})));return(0,r.Z)("div",{style:{padding:"5px"}},void 0,(0,r.Z)("label",{htmlFor:t.id,style:{marginRight:5}},void 0,t.label),s)}},963513:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return on}});n(382139);var r,o=n(858255),i=n(264659),a=n(904730),s=n(673989),c=n(175663),l=n(750591),u=n(575630),d=n(151119),f=(n(111246),n(6059),n(202784)),p=n(911755),h=n.n(p),v=n(198),m=n(770561),g=n(998856),Z=n(686605),y=n.n(Z),b=n(588703),w=n.n(b),k=n(623102),_=n.n(k),O=n(460231),x=n(701501),S=n(778886),C=n(150275),P=n(193679),E=n(974079),R=n(220517),M=n(672643),N=n(912740),T=n(60369),D=n(741319),A=(n(319371),n(964909)),j=(n(762850),n(462773),n(557106)),B=n.n(j),I=n(294702),z=n(462874);function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.Z)(t);if(e){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var U={DEFAULT_BACKGROUND:"#fffff8",DISABLE_VIDEO_BACKGROUND:!0,SHOW_JITSI_WATERMARK:!1,SHOW_WATERMARK_FOR_GUESTS:!1,INVITATION_POWERED_BY:!1,DEFAULT_REMOTE_DISPLAY_NAME:"Anonymous",DISPLAY_WELCOME_PAGE_CONTENT:!1,TOOLBAR_BUTTONS:["microphone","camera","closedcaptions","desktop","fullscreen","fodeviceselection","info","profile","settings","videoquality","filmstrip","shortcuts","tileview","download","help"],SETTINGS_SECTIONS:["devices","language"],MOBILE_APP_PROMO:!0,HIDE_KICK_BUTTON_FOR_GUESTS:!0,SHOW_CHROME_EXTENSION_BANNER:!1},V=function(t){(0,c.Z)(n,t);var e=L(n);function n(t){var r;return(0,i.Z)(this,n),r=e.call(this,t),(0,d.Z)((0,s.Z)(r),"handleClose",(function(t){var e=r.context;e.isOwner()&&r.api.executeCommand("hangup"),e.leaveVideoChat(r.props.roomName)})),(0,d.Z)((0,s.Z)(r),"handleCompress",(function(t){r.setState({minimized:!r.state.minimized},(function(){r.state.minimized?r.rnd.updateSize({width:160,height:100}):r.rnd.updateSize({width:B()(.3*window.innerWidth,400),height:B()(.3*window.innerHeight,400)})}))})),(0,d.Z)((0,s.Z)(r),"stopScreenSharing",(function(t){r.api.executeCommand("toggleShareScreen")})),r.state={minimized:!1,screensharing:!1},r}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.context.isOwner()?(U.TOOLBAR_BUTTONS.includes("mute-everyone")||U.TOOLBAR_BUTTONS.push("mute-everyone"),U.TOOLBAR_BUTTONS.includes("recording")||U.TOOLBAR_BUTTONS.push("recording"),U.TOOLBAR_BUTTONS.includes("livestreaming")||U.TOOLBAR_BUTTONS.push("livestreaming"),U.TOOLBAR_BUTTONS.includes("invite")||U.TOOLBAR_BUTTONS.push("invite"),U.SETTINGS_SECTIONS.includes("moderator")||U.SETTINGS_SECTIONS.push("moderator"),U.TOOLBAR_BUTTONS.includes("sharedvideo")||U.TOOLBAR_BUTTONS.push("sharedvideo")):U.TOOLBAR_BUTTONS.includes("raisehand")||U.TOOLBAR_BUTTONS.push("raisehand")}},{key:"initialize",value:function(){var t=this,e=this.context,n={roomName:this.props.roomName,width:"100%",height:"100%",parentNode:this.videoChatContainer,userInfo:{email:e.user.email},interfaceConfigOverwrite:U,noSSL:!1,jwt:e.jitsi.token};this.api=new window.JitsiMeetExternalAPI(e.jitsi.server,n),this.api.executeCommand("displayName",e.user.name),this.api.executeCommand("subject",this.props.roomSubject),this.api.executeCommand("avatarUrl",e.user.picture),this.api.addEventListener("screenSharingStatusChanged",(function(e){t.setState({screensharing:e.on,minimized:e.on},(function(){t.state.minimized?t.rnd.updateSize({width:160,height:100}):t.rnd.updateSize({width:B()(.3*window.innerWidth,400),height:B()(.3*window.innerHeight,400)})}))}))}},{key:"render",value:function(){var t,e,n=this;this.state.minimized?e={display:"none"}:(t={height:"100%",width:"100%"},e={height:"100%",width:"100%"});var i=(0,o.Z)(z.Z,{className:"video-chat-panel",style:t},void 0,f.createElement("div",{className:"video-chat-iframe",ref:function(t){n.videoChatContainer||(n.videoChatContainer=t,n.initialize())},style:e}),this.state.minimized?(0,o.Z)("h3",{style:{marginTop:22}},void 0,this.state.screensharing?(0,o.Z)("span",{},void 0,this.props.t("sharing-screen")," ",(0,o.Z)(m.Z,{onClick:this.stopScreenSharing,variant:"secondary",size:"sm"},void 0,this.props.t("stop-sharing"))):this.props.t("video-active")):null,(0,o.Z)(C.Z,{tooltip:this.state.minimized?this.props.t("maximize"):this.props.t("minimize")},void 0,(0,o.Z)(m.Z,{size:"sm",onClick:this.handleCompress,className:"video-chat-minimized-button"},void 0,(0,o.Z)("i",{className:this.state.minimized?"far fa-window-maximize":"fas fa-window-minimize"}))),(0,o.Z)(C.Z,{tooltip:this.props.t("leave-video")},void 0,(0,o.Z)(m.Z,{size:"sm",onClick:this.handleClose,className:"video-chat-button"},void 0,r||(r=(0,o.Z)("i",{className:"fas fa-video-slash"})))));return f.createElement(I.default,{default:{width:B()(.3*window.innerWidth,400),height:B()(.3*window.innerHeight,400)},ref:function(t){n.rnd=t},minWidth:160,minHeight:100,resizable:!this.state.minimized,lockAspectRatio:!0,cancel:".video-chat-iframe"},i)}}]),n}(f.Component);V.contextType=D.Z;var F=(0,v.Z)("internal/statusbar")(V);function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.Z)(t);if(e){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var W=function(t){(0,c.Z)(n,t);var e=H(n);function n(t){return(0,i.Z)(this,n),e.call(this,t)}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.context;this.unsubscribe=e.subscribe((function(e){e!==A.q&&e!==A.lK||t.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return this.context.videoChats.map((function(t){return(0,o.Z)(F,{roomName:t.name,roomSubject:t.subject||t.name},t.name)}))}}]),n}(f.Component);W.contextType=D.Z;var G,K,J,q,$,Y=W,X=n(521536),Q=n.n(X),tt=n(783158),et=n.n(tt),nt=(n(213980),n(313054)),rt=n.n(nt),ot=n(302467),it=n.n(ot),at=n(188304),st=n(912860),ct=n(435376),lt=n(203858),ut=n(175891),dt=n(306830),ft=n.n(dt),pt=n(601822),ht=n(172245),vt=n(975249),mt=n(717932),gt=n(621150),Zt=n(76882),yt=n(437893),bt=JSON.parse('[{"command":"insertText","trigger":["insert"],"description":"Dictate your message","params":["text"],"regexp":"/insert[a-z]* (?<text>[\\\\s\\\\S]+)/i"},{"command":"sendMessage","trigger":["send"],"description":"Send message"}]');function wt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.Z)(t);if(e){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var kt=h()("isle:statusbar:chat"),_t=rt()({html:!1,xhtmlOut:!0,breaks:!1,typographer:!1}),Ot=function(t){(0,c.Z)(n,t);var e=wt(n);function n(t){var r;return(0,i.Z)(this,n),r=e.call(this,t),(0,d.Z)((0,s.Z)(r),"onScroll",(function(){r.chatbody.scrollTop+r.chatbody.clientHeight>=r.chatbody.scrollHeight&&r.context.markChatMessagesAsRead(r.props.chat.name)})),(0,d.Z)((0,s.Z)(r),"sendMessage",(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r.editorView.markdown;if(0!==n.length){n=it()(n,"\\\n","\n");var o=r.context;o.sendChatMessage(r.props.chat.name,n,e),(0,mt.Z)(r.chatbody,r.chatbody.scrollHeight,1e3),r.setState({defaultValue:"",docId:r.state.docId+1})}})),(0,d.Z)((0,s.Z)(r),"sendAnonymousChatMessage",(function(t){r.sendMessage(t,!0)})),(0,d.Z)((0,s.Z)(r),"handleEditorStateChange",(function(){r.state.hasNews&&r.setState({hasNews:!1})})),(0,d.Z)((0,s.Z)(r),"insertText",(function(t){t=r.editorView.markdown+" "+t,r.setState({defaultValue:t})})),(0,d.Z)((0,s.Z)(r),"closeChat",(function(){r.context.leaveChat(r.props.chat.name)})),(0,d.Z)((0,s.Z)(r),"onMouseOver",(function(){r.state.opened||(r.chat.style.opacity=r.state.opened?.7:1)})),(0,d.Z)((0,s.Z)(r),"onMouseOut",(function(){r.state.opened||(r.chat.style.opacity=r.state.opened?1:.7)})),(0,d.Z)((0,s.Z)(r),"toggleMaximize",(function(){var t={maximized:!r.state.maximized};t.maximized&&!r.state.opened&&(t.opened=!0),r.setState(t)})),(0,d.Z)((0,s.Z)(r),"toggleChat",(function(){r.setState({opened:!r.state.opened,hasNews:!1})})),r.state={opened:!0,hasNews:!1,maximized:!1,defaultValue:"",docId:0},r}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var t=this;kt("Component has mounted. Subscribe to session: ");var e=this.context;this.unsubscribe=e.subscribe((function(e){e===A.LL||e===A.xG||e===A.Jz?t.setState({hasNews:!0}):e===A.NH&&t.setState({hasNews:!1})}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"renderMembers",value:function(){var t=this.props.chat,e=(0,o.Z)(ct.Z,{id:"userlistPopover"},void 0,(0,o.Z)(lt.Z,{},void 0,this.props.t("chat-members",{name:t.name})),(0,o.Z)(ut.Z,{},void 0,(0,o.Z)(at.Z,{},void 0,t.members.map((function(t,e){return(0,o.Z)(st.Z,{style:{padding:"3px 3px"}},e,t.name)})))));return(0,o.Z)(vt.Z,{trigger:["hover","focus"],placement:"bottom",overlay:e},void 0,(0,o.Z)("div",{className:"chat-members",style:{display:this.state.opened?"block":"none"}},void 0,t.members.map((function(e,n){return(0,o.Z)("span",{},n,e.name,n!==t.members.length-1?", ":null)}))))}},{key:"renderChatBody",value:function(){var t=this,e=this.props.chat,n=this.context;return(0,o.Z)("div",{className:"chat-body-outer",style:{display:this.state.opened?"block":"none"}},void 0,f.createElement("div",{className:"chat-body cancel",ref:function(e){t.chatbody=e},onScroll:this.onScroll,style:{height:this.state.maximized?"calc(85vh - 150px)":"150px"}},e.messages.map((function(e,r){var i={__html:_t.renderInline(e.content)};return(0,o.Z)("div",{className:e.unread?"chat-message unread":"chat-message"},r,(0,o.Z)("img",{className:"chat-picture unselectable",src:n.server+"/thumbnail/"+(e.picture&&!e.anonymous?e.picture:"anonymous.jpg"),alt:t.props.t("profile-pic")}),(0,o.Z)("div",{className:"chat-message-right"},void 0,(0,o.Z)("span",{className:"chat-user"},void 0,e.anonymous?(0,o.Z)(f.Fragment,{},void 0,(0,o.Z)("span",{style:{marginRight:4}},void 0,t.props.t("anonymous")),(0,o.Z)(S.Z,{owner:!0},void 0,(0,o.Z)(C.Z,{tooltip:e.user,placement:"right"},void 0,G||(G=(0,o.Z)("i",{className:"fas fa-user-secret"}))))):e.user)," - ",(0,o.Z)("span",{className:"chat-time"},void 0,(0,yt.Z)(e.time)),K||(K=(0,o.Z)("br",{})),(0,o.Z)("span",{className:"chat-message-content",dangerouslySetInnerHTML:i})))}))),f.createElement(gt.Z,{className:"chat-textarea cancel",onEditorState:this.handleEditorStateChange,showStatusBar:!1,showColorPicker:!1,defaultValue:this.state.defaultValue,docId:this.state.docId,menu:{marks:Zt.EI,wraps:Zt.Uy,insert:[Zt.$T[0],Zt.$T[1],Zt.$T[5]]},ref:function(e){t.editorView=e},onKeyDown:function(e,n){n.stopPropagation(),"Enter"!==n.key||n.shiftKey||(n.preventDefault(),t.sendMessage())},t:this.props.t}),(0,o.Z)(m.Z,{size:"sm",variant:"light",onClick:this.sendMessage,style:{float:"left"}},void 0,this.props.t("send-message")),this.props.chat.anonymousSubmissions?(0,o.Z)(m.Z,{size:"sm",variant:"light",onClick:this.sendAnonymousChatMessage,style:{float:"left",marginLeft:"4px"}},void 0,this.props.t("send-anonymously")):null,(0,o.Z)(ht.Z,{id:this.props.chat.name,reference:this,commands:bt}))}},{key:"render",value:function(){var t=this,e=this.props,n=e.chat,r=e.left,i=e.width,a={position:R.Z?"absolute":"fixed",left:r};this.state.maximized&&this.state.opened?a.width="40vw":a.width=i,a.minWidth="275px";var s="chat_"+n.name;return(0,o.Z)(pt.Z,{cancel:".cancel",onEscape:this.props.chat.canLeave?this.closeChat:ft()},void 0,f.createElement("div",{id:s,className:"chat-outer-div",style:a,ref:function(e){t.chat=e}},(0,o.Z)("div",{className:"chat-div",style:{opacity:this.state.opened?1:.7},onMouseOver:this.onMouseOver,onFocus:this.onMouseOver,onMouseOut:this.onMouseOut,onBlur:this.onMouseOut,tabIndex:0,role:"button"},void 0,n.name,(0,o.Z)("span",{className:"chat-presence",style:{display:this.state.hasNews?"inline":"none"}}),n.canLeave?(0,o.Z)(C.Z,{tooltip:"".concat(this.props.t("close")," ").concat("(Esc)"),placement:"bottom"},void 0,(0,o.Z)("button",{className:"chat-header-button",onClick:this.closeChat,"aria-label":"".concat(this.props.t("close")," (Esc)")},void 0,J||(J=(0,o.Z)("i",{className:"fas fa-times"})))):null,(0,o.Z)(C.Z,{tooltip:this.state.maximized?this.props.t("shrink"):this.props.t("enlarge"),placement:"bottom"},void 0,(0,o.Z)("button",{className:"chat-header-button",onClick:this.toggleMaximize,"aria-label":this.state.maximized?this.props.t("shrink"):this.props.t("enlarge")},void 0,q||(q=(0,o.Z)("i",{className:"far fa-window-maximize"})))),(0,o.Z)(C.Z,{tooltip:this.state.opened?this.props.t("minimize"):this.props.t("maximize"),placement:"left"},void 0,(0,o.Z)("button",{className:"chat-header-button",onClick:this.toggleChat,"aria-label":this.state.opened?this.props.t("minimize"):this.props.t("maximize")},void 0,$||($=(0,o.Z)("i",{className:"far fa-window-minimize"}))))),this.renderMembers(),this.renderChatBody()))}}]),n}(f.Component);Ot.defaultProps={left:400,width:600},Ot.contextType=D.Z;var xt=(0,v.Z)("internal/statusbar")(Ot);function St(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.Z)(t);if(e){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var Ct=function(t){(0,c.Z)(n,t);var e=St(n);function n(t){var r;(0,i.Z)(this,n),r=e.call(this,t),(0,d.Z)((0,s.Z)(r),"getStatusbarInfo",(function(){var t=B()(.34*window.innerWidth,300),e=(window.innerWidth-t)/2;r.setState({statusbarWidth:t,side:e})}));var o=B()(.34*window.innerWidth,300),a=(window.innerWidth-o)/2;return r.state={statusbarWidth:o,side:a},r}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.context;this.unsubscribe=e.subscribe((function(e){e!==A._Z&&e!==A.PY||t.forceUpdate()})),window.addEventListener("resize",this.getStatusbarInfo)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),window.removeEventListener("resize",this.getStatusbarInfo)}},{key:"getChatPosition",value:function(t){var e=this.context,n=Q()(e.chats.length/2),r=.6*this.state.side,o=et()((this.state.side-10-10*n)/n,r),i=10+t*(o+10);return t>n-1&&(i+=this.state.statusbarWidth,1===n&&1===t&&(i+=o+10)),{left:i,width:o}}},{key:"render",value:function(){var t=this;return this.context.chats.map((function(e,n){var r=t.getChatPosition(n);return(0,o.Z)(xt,{chat:e,idx:n,left:r.left,width:r.width},n)}))}}]),n}(f.Component);Ct.contextType=D.Z;var Pt,Et,Rt=Ct,Mt=n(81982),Nt=function(t){return(0,o.Z)(Mt.Z,{show:t.show,onHide:t.close},void 0,(0,o.Z)(Mt.Z.Header,{},void 0,(0,o.Z)(Mt.Z.Title,{},void 0,t.title)),(0,o.Z)(Mt.Z.Body,{},void 0,t.message),(0,o.Z)(Mt.Z.Footer,{},void 0,(0,o.Z)(m.Z,{onClick:t.close},void 0,t.t("cancel")),(0,o.Z)(m.Z,{variant:"danger",onClick:t.onConfirm},void 0,t.t("confirm"))))},Tt=n(388481),Dt=n(5140),At=n(607615),jt=n(208910);function Bt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.Z)(t);if(e){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var It,zt,Lt,Ut,Vt,Ft,Ht=h()("isle:statusbar:voice-control"),Wt=function(t){(0,c.Z)(n,t);var e=Bt(n);function n(t){var r;return(0,i.Z)(this,n),r=e.call(this,t),(0,d.Z)((0,s.Z)(r),"handleFinalVoiceInput",(function(t){var e=t[0],n=r.state.transcript;n.push(e),r.setState({transcript:n,recordedText:e,isSegment:!1},r.renderRecordedText),setTimeout((function(){r.setState({recordedText:null},r.renderRecordedText)}),3e3),r.props.session.log({id:A.Ac,type:A.Ac,value:e,noSave:!0},"members")})),(0,d.Z)((0,s.Z)(r),"handleVoiceInput",(function(t){Ht("Received voice input: "+t);var e=t[0];r.setState({recordedText:e,isSegment:!0},r.renderRecordedText),r.props.session.log({id:A.Be,type:A.Be,value:e,noSave:!0},"members")})),(0,d.Z)((0,s.Z)(r),"handleStartRecording",(function(){r.props.session.setVoiceRecordingStatus(!0)})),(0,d.Z)((0,s.Z)(r),"handleStopRecording",(function(){r.setState({recordedText:null},r.renderRecordedText),r.props.session.setVoiceRecordingStatus(!1)})),(0,d.Z)((0,s.Z)(r),"toggleTranscriptEditor",(function(t){t&&t.stopPropagation(),r.setState({showTranscriptEditor:!r.state.showTranscriptEditor})})),(0,d.Z)((0,s.Z)(r),"handleVoiceInputChange",(function(t){t.stopPropagation()})),(0,d.Z)((0,s.Z)(r),"renderRecordedText",(function(){r.state.recordedText?r.displayedText.innerHTML=r.state.recordedText:r.displayedText.innerHTML=""})),r.state={recordedText:null,transcript:[],showTranscriptEditor:!1,isSegment:!1},r}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.session;this.unsubscribe=e.subscribe((function(e,n){e===A.Wh&&(n.type===A.Ac?(t.setState({recordedText:n.value,isSegment:!1},t.renderRecordedText),setTimeout((function(){t.setState({recordedText:null},t.renderRecordedText)}),3e3)):n.type===A.Be&&t.setState({recordedText:n.value,isSegment:!0},t.renderRecordedText))}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var t=this,e=this.props.session,n="";if(this.state.showTranscriptEditor){var r=new Date;n+="# ".concat(this.props.t("transcript-header")," ").concat(e.namespaceName+"/"+e.lessonName),_()(e.user)||(n+="\n## ".concat(this.props.t("by")," ").concat(e.user.name," (").concat(e.user.email,")")),n+="\n### ".concat(r.toLocaleDateString()," - ").concat(r.toLocaleTimeString()),n+="\n\n\n",n+=this.state.transcript.join("\n")}return(0,o.Z)(f.Fragment,{},void 0,(0,o.Z)("div",{className:"statusbar-voice",style:{display:e.config.hideVoiceControl?"none":"inherit"}},void 0,(0,o.Z)(jt.Z,{id:"statusbar-voice",onClick:this.handleVoiceInputChange,mode:"microphone",width:18,height:18,stopTooltip:"".concat(this.props.t("disable-voice")," (F9)"),startTooltip:"".concat(this.props.t("enable-voice")," (F9)"),onSegment:this.handleVoiceInput,onFinalText:this.handleFinalVoiceInput,onRecordingStart:this.handleStartRecording,onRecordingStop:this.handleStopRecording,maxAlternatives:5,speechInterface:e.speechInterface,remote:{toggle:120}})),this.state.transcript.length>0?(0,o.Z)(C.Z,{placement:"bottom",tooltip:this.props.t("open-transcript")},void 0,(0,o.Z)("span",{role:"button",tabIndex:0,onClick:this.toggleTranscriptEditor,onKeyPress:this.toggleTranscriptEditor,className:"statusbar-transcript-editor statusbar-icon"},void 0,Pt||(Pt=(0,o.Z)("span",{className:"fa fa-xs fa-closed-captioning"})))):null,f.createElement("span",{ref:function(e){t.displayedText=e},style:{color:this.state.isSegment?"darkslategray":"black"},className:"statusbar-voice-text"}),this.state.showTranscriptEditor?(0,o.Z)(Mt.Z,{show:this.state.showTranscriptEditor,onHide:this.toggleTranscriptEditor,dialogClassName:"modal-100w"},void 0,(0,o.Z)(Mt.Z.Header,{closeButton:!0},void 0,(0,o.Z)(Mt.Z.Title,{as:"h3"},void 0,this.props.t("transcript"))),(0,o.Z)(Mt.Z.Body,{style:{height:.8*window.innerHeight}},void 0,(0,o.Z)(At.Z,{id:"".concat(e.namespaceName,"-").concat(e.lessonName,"-transcript"),defaultValue:n,allowSubmissions:!1,resetModal:{title:this.props.t("load-latest-transcript"),body:this.props.t("transcript-click-discard"),buttonLabel:this.props.t("confirm"),tooltip:this.props.t("load-latest-transcript"),notificationTitle:this.props.t("transcript-loaded"),notification:this.props.t("transcript-discard-notification"),icon:Et||(Et=(0,o.Z)("i",{className:"prosemirror-icon fa fa-closed-captioning"}))},canLoadHTML:!1})),(0,o.Z)(Mt.Z.Footer,{},void 0,(0,o.Z)(m.Z,{onClick:this.toggleTranscriptEditor},void 0,this.props.t("close")))):null)}}]),n}(f.Component),Gt=(n(627476),n(95767),n(694882),n(298351),n(898837),n(850110),n(318967)),Kt=n.n(Gt),Jt=n(454319),qt=n(647537),$t=n(287013),Yt=n.n($t),Xt=n(294565),Qt=n(295943),te=n.n(Qt),ee=n(240054),ne=n.n(ee),re=n(418823),oe=n.n(re),ie=n(185749),ae=n(741709),se=n(927447),ce=n(596997),le=function t(e,n){(0,i.Z)(this,t),this.name=e,this.members=n},ue=n(618764),de=JSON.parse('["daffodil","dahlia","daisy","dandelion","forget-me-not","foxglove","geranium","lily","orchid","pansy","poppy","primrose","rose","snowdrop","sunflower","tulip","waterlily","bluebell","buttercup","carnation","chrysanthemum","crocus","alder","ash","beech","birch","cedar","elm","fir","hazel","hawthorn","holly","lime","maple","oak","plane","pine","poplar","sycamore","weeping-willow","willow","yew","apple-tree","cherry-tree","chestnut-tree","coconut-tree","fig-tree","horse-chestnut-tree","olive-tree","pear-tree","plum-tree"]'),fe=n(963210);function pe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.Z)(t);if(e){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}function he(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?he(Object(n),!0).forEach((function(e){(0,d.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var me=h()("isle:group-manager"),ge={multiValue:function(t){return ve(ve({},t),{},{boxShadow:"0 0 2px black",marginRight:"4px"})},control:function(t){return ve(ve({},t),{},{borderRadius:"0 0 4px 4px"})}},Ze={MultiValueLabel:function(t){return(0,o.Z)(C.Z,{tooltip:t.data.value.email,placement:"bottom"},void 0,(0,o.Z)("span",{},void 0,(0,o.Z)("img",{className:"group-manager-profile-pic",alt:"User Profile",src:t.data.value.picture}),f.createElement(qt.c.MultiValueLabel,t)))}};function ye(t,e){var n=t;if(!e)return n.filter((function(t){return!t.owner&&!t.exitTime&&Yt()(t.email,"@")}));for(var r=[],o=0;o<n.length;o++){var i=n[o];!i.owner&&(0,fe.Z)(e,i.email)&&r.push(i)}return r}function be(t,e){var n=0;if(e)for(var r=0;r<t.length;r++){var o=t[r];o.owner||o.exitTime||!(0,fe.Z)(e,o.email)||(n+=1)}else for(var i=0;i<t.length;i++){var a=t[i];a.owner||a.exitTime||!Yt()(a.email,"@")||(n+=1)}return n}function we(t){for(var e=[],n=t.responseVisualizerIds,r=0;r<n.length;r++){var o=n[r],i=t.responseVisualizers[o].ref.props.data.question;i=(0,Xt.isPrimitive)(i)?i:Kt()(i),e.push("".concat(i," (").concat(o,")"))}return e}function ke(t,e){e=oe()(e);for(var n={},r=te()(e.length/t),o=0;o<t;o++)n[o]=e.slice(r*o,r*(o+1));for(var i=r*t;i<e.length;i++){n[i%t].push(e[i])}return n}function _e(t){var e,n=t.nGroups,r=t.users,o=t.mode,i=t.progress,a=t.matching,s=ne()(de,{size:n,replace:!1});switch(o){case"random":e=ke(n,r);break;case"progress":e=function(t,e,n,r){var o={},i=te()(e.length/t);if(e=e.sort((function(t,e){return n[t.email]-n[e.email]})),"similar"===r)for(var a=e.length%t,s=0,c=0;s<t;s++){var l=i*s+c;s<a&&(c+=1);var u=i*(s+1)+c;o[s]=e.slice(l,u)}else{for(var d=0;d<t;d++)o[d]=[];for(var f=0,p=!1;e.length>0;)o[f].push(p?e.shift():e.pop()),f<t-1?f+=1:(f=0,p=!p)}return o}(n,r,i,a);break;case"answers":e=ke(n,r)}for(var c=[],l=0;l<s.length;l++)c[l]=new le(s[l],e[l]);return c}var Oe=function(t){(0,c.Z)(n,t);var e=pe(n);function n(t){var r;return(0,i.Z)(this,n),r=e.call(this,t),(0,d.Z)((0,s.Z)(r),"handleGroupCreation",(function(){var t=r.context,e=_e({nGroups:r.state.nGroups,users:ye(t.userList,t.selectedCohort),mode:r.state.activeMode,progress:t.userProgress,matching:r.state.matching});t.createGroups(e)})),(0,d.Z)((0,s.Z)(r),"reuseLastGroups",(function(){r.context.createGroups(r.state.lastGroups)})),(0,d.Z)((0,s.Z)(r),"updateGroups",(function(){for(var t=r.context,e=t.allGroups,n=function(t){for(var n=r.state.toRemove[t].value,o=n.email,i=n.group,a=0;a<e.length;a++)if(e[a].name===i){e[a].members=e[a].members.filter((function(t){return t.email!==o}));break}},o=0;o<r.state.toRemove.length;o++)n(o);for(var i=function(n){for(var o=r.state.toAdd[n].value,i=0;i<e.length;i++){var a=e[i];if(a.name===o.group&&0===a.members.filter((function(t){return t.email===o.email})).length){var s=t.userList.filter((function(t){return t.email===o.email}));a.members.push(s[0]);break}}},a=0;a<r.state.toAdd.length;a++)i(a);t.deleteGroups(),t.createGroups(e),r.setState({toAdd:[],toRemove:[]})})),(0,d.Z)((0,s.Z)(r),"handleGroupDeletion",(function(){var t=r.context;t.log({id:"group-manager",type:Dt.kK,value:!0},"members"),setTimeout(t.deleteGroups,6e4),r.setState({showCloseModal:!1})})),(0,d.Z)((0,s.Z)(r),"sendMessageToAll",(function(){var t=r.editorView.markdown;if(0!==t.length){t=it()(t,"\\\n","\n");for(var e=r.context,n=0;n<e.allGroups.length;n++){var o=e.allGroups[n].name;e.sendChatMessage(o,t)}r.setState({message:"",docId:r.state.docId+1})}})),(0,d.Z)((0,s.Z)(r),"toggleCloseConfirm",(function(){r.setState({showCloseModal:!r.state.showCloseModal})})),r.state={activeMode:"random",matching:"similar",nGroups:1,isClosing:!1,showCloseModal:!1,notAssigned:[],toRemove:[],toAdd:[],lastGroups:null,message:"",docId:0},r}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var t=this;me("Component did mount...");var e=this.context;e&&(this.unsubscribe=e.subscribe((function(n,r){if(n===A.At&&e.allGroups.length>0&&!r.owner){if(!(0,ce.Z)(e.allGroups,r)){var i=t.state.notAssigned.slice(),a=e.server+"/thumbnail/"+r.picture,s={value:{email:r.email,picture:a},label:r.name};i.push(s),t.setState({notAssigned:i})}}else if(n===A.vB)e.removeNotification(t.closeNotification),t.setState({isClosing:!1,lastGroups:r});else if(n===A.Wh&&r.type===Dt.kK)t.closeNotification=e.addNotification({title:t.props.t("groups-close-soon"),message:t.props.t("groups-close-soon-instructor-message"),level:"info",position:"tr",dismissible:"none",autoDismiss:0,children:(0,o.Z)(ie.Z,{style:{position:"relative"},duration:60,active:!0})}),t.setState({isClosing:!0});else if(n===A.WF){var c=t.state.notAssigned.filter((function(t){for(var n=0;n<e.allGroups.length;n++)for(var r=e.allGroups[n].members,o=0;o<r.length;o++)if(r[o].email===t.value.email)return!1;return!0}));t.setState({notAssigned:c})}else if(n===A.At||n===A.c_)t.forceUpdate();else if(n===A.vu){var l=t.state.notAssigned.filter((function(t){return t.value.email!==r}));t.setState({notAssigned:l})}})))}},{key:"componentWillUnmount",value:function(){me("Component will unmount..."),this.unsubscribe()}},{key:"renderModeOptions",value:function(){var t=this,e=(0,o.Z)(se.Z,{options:["similar","dissimilar"],value:this.state.matching,inline:!0,onChange:function(e){t.setState({matching:e})},style:{width:150}}),n=(0,o.Z)(se.Z,{options:we(this.context),inline:!0,style:{width:412}}),r=this.props.t;switch(this.state.activeMode){case"progress":return(0,o.Z)("div",{},void 0,(0,o.Z)("p",{},void 0,r("create-groups-pairing-students"),e,"."));case"answers":return(0,o.Z)("div",{},void 0,(0,o.Z)("p",{},void 0,r("create-groups-with-answers"),e,It||(It=(0,o.Z)("br",{})),r("to-the-question"),": ",n));default:return(0,o.Z)("div",{},void 0,(0,o.Z)("p",{},void 0,this.props.t("random-groups-description")))}}},{key:"renderGroups",value:function(){for(var t=this,e=this.context,n=[],r=function(r){var i=e.allGroups[r],a=i.name,s=i.members.map((function(t){var n=e.server+"/thumbnail/"+t.picture;return{value:{email:t.email,picture:n,group:a},label:t.name}}));n[r]=(0,o.Z)("div",{},r,(0,o.Z)("h3",{className:"group-manager-header"},void 0,(0,o.Z)("span",{className:"group-manager-header-name"},void 0,t.props.t("group")," ",a),t.props.video?(0,o.Z)(M.Z,{showTooltip:!1,for:a,subject:a,style:{float:"right",marginTop:-2,marginLeft:5}}):null,(0,o.Z)(N.Z,{showTooltip:!1,for:a,style:{float:"right",marginTop:-2}})),(0,o.Z)(Jt.ZP,{components:Ze,isMulti:!0,isClearable:!1,defaultValue:s,options:t.state.notAssigned,styles:ge,menuPlacement:"bottom",menuShouldScrollIntoView:!1,onChange:function(e,n){if("remove-value"===n.action){var r=t.state.notAssigned.slice();r.push(n.removedValue);var o=t.state.toRemove.slice();o.push(n.removedValue),t.setState({notAssigned:r,toRemove:o})}else if("select-option"===n.action){var i=t.state.toAdd.slice();n.option.value.group=a,i.push(n.option);var s=t.state.notAssigned.filter((function(t){return t.value.email!==n.option.value.email}));t.setState({notAssigned:s,toAdd:i})}}}))},i=0;i<e.allGroups.length;i++)r(i);return this.state.notAssigned.length>0&&n.push((0,o.Z)("span",{className:"group-manager-not-assigned-warning"},void 0,this.props.t("nonassigned-students",{n:this.state.notAssigned.length}))),n}},{key:"renderBody",value:function(){var t=this,e=this.context,n=be(e.userList,e.selectedCohort),r=te()(n/this.state.nGroups),i="(".concat(this.props.t("group-sizes"),": ").concat(r);return n%this.state.nGroups!=0?i+="-".concat(r+1,")"):i+=")",e.allGroups.length>0?(0,o.Z)(f.Fragment,{},void 0,this.renderGroups(),(0,o.Z)("div",{className:"group-manager-editor-wrapper"},void 0,f.createElement(gt.Z,{className:"group-manager-textarea cancel",showStatusBar:!1,defaultValue:this.state.message,showColorPicker:!1,menu:{marks:Zt.EI,wraps:Zt.Uy,insert:[Zt.$T[0],Zt.$T[1],Zt.$T[5]]},ref:function(e){t.editorView=e},onKeyDown:function(e,n){n.stopPropagation(),"Enter"!==n.key||n.shiftKey||(n.preventDefault(),t.sendMessageToAll())}}))):(0,o.Z)(f.Fragment,{},void 0,(0,o.Z)(ue.Z,{id:"group-manager-cohort-select",label:this.props.t("pair-users-from"),session:this.context,t:this.props.t}),(0,o.Z)(ae.Z,{legend:this.props.t("number-of-groups"),value:this.state.nGroups,min:1,max:te()(Q()(n/2+1e-9),99),onChange:function(e){t.setState({nGroups:e})},inline:!0,inputStyle:{width:50}}),(0,o.Z)("span",{className:"title"},void 0,i),zt||(zt=(0,o.Z)("hr",{})),(0,o.Z)("div",{},void 0,(0,o.Z)(C.Z,{tooltip:this.props.t("random-assignment"),placement:"bottom"},void 0,(0,o.Z)(m.Z,{active:"random"===this.state.activeMode,size:"lg",variant:"outline-secondary",onClick:function(){"random"!==t.state.activeMode&&t.setState({activeMode:"random"})},"aria-label":this.props.t("random-assignment")},void 0,Lt||(Lt=(0,o.Z)("span",{className:"fa fa-dice"})))),(0,o.Z)(C.Z,{tooltip:this.props.t("match-by-progress"),placement:"bottom"},void 0,(0,o.Z)(m.Z,{active:"progress"===this.state.activeMode,size:"lg",variant:"outline-secondary",style:{marginLeft:6},onClick:function(){"progress"!==t.state.activeMode&&t.setState({activeMode:"progress"})},"aria-label":this.props.t("match-by-progress")},void 0,Ut||(Ut=(0,o.Z)("span",{className:"fa fa-trophy"})))),(0,o.Z)(C.Z,{tooltip:this.props.t("match-by-answers"),placement:"bottom"},void 0,(0,o.Z)(m.Z,{active:"answers"===this.state.activeMode,disabled:_()(e.responseVisualizers),size:"lg",variant:"outline-secondary",style:{marginLeft:6},onClick:function(){"answers"!==t.state.activeMode&&t.setState({activeMode:"answers"})},"aria-label":this.props.t("match-by-answers")},void 0,Vt||(Vt=(0,o.Z)("span",{className:"fa fa-poll"}))))),Ft||(Ft=(0,o.Z)("br",{})),this.renderModeOptions())}},{key:"renderFooter",value:function(){var t=this.context,e=be(t.userList);return t.allGroups.length>0?(0,o.Z)(f.Fragment,{},void 0,(0,o.Z)(C.Z,{tooltip:this.props.t("broadcast-message-tooltip"),placement:"bottom"},void 0,(0,o.Z)(m.Z,{onClick:this.sendMessageToAll},void 0,this.props.t("broadcast-message"))),(0,o.Z)(C.Z,{tooltip:this.props.t("close-groups-tooltip"),placement:"bottom"},void 0,(0,o.Z)(m.Z,{variant:"danger",disabled:this.state.isClosing,onClick:this.toggleCloseConfirm,style:{float:"right"}},void 0,this.props.t("close-groups"))),this.state.toAdd.length>0||this.state.toRemove.length>0?(0,o.Z)(C.Z,{tooltip:this.props.t("update-groups-tooltip"),placement:"bottom"},void 0,(0,o.Z)(m.Z,{onClick:this.updateGroups,style:{float:"right",marginRight:6}},void 0,this.props.t("update-groups"))):null):(0,o.Z)(f.Fragment,{},void 0,(0,o.Z)(C.Z,{tooltip:this.props.t("reopen-last-groups-tooltip"),placement:"bottom",show:this.state.lastGroups},void 0,(0,o.Z)(m.Z,{variant:"secondary",disabled:!this.state.lastGroups,onClick:this.reuseLastGroups},void 0,this.props.t("reopen-last-groups"))),(0,o.Z)(C.Z,{tooltip:this.props.t("create-groups-tooltip"),placement:"bottom",show:e>0},void 0,(0,o.Z)(m.Z,{disabled:0===e,onClick:this.handleGroupCreation,style:{float:"right"}},void 0,this.props.t("create-groups"))))}},{key:"render",value:function(){return this.props.active?(0,o.Z)(f.Fragment,{},void 0,(0,o.Z)(pt.Z,{cancel:".card-body",default:{x:.4*window.innerWidth}},void 0,(0,o.Z)(z.Z,{minimizable:!0,trapFocus:!0,header:(0,o.Z)("span",{},void 0,(0,o.Z)("span",{className:"fa fa-xs fa-user-friends",style:{marginRight:5}}),this.props.t("group-manager")),onHide:this.props.onHide,style:{width:600},bodyStyle:{maxHeight:"75vh"},footer:this.renderFooter()},void 0,this.renderBody())),(0,o.Z)(Nt,{show:this.state.showCloseModal,close:this.toggleCloseConfirm,title:this.props.t("close-groups"),message:this.props.t("close-groups-confirm"),onConfirm:this.handleGroupDeletion,t:this.props.t})):null}}]),n}(f.Component);Oe.contextType=D.Z,Oe.defaultProps={video:!0};var xe=(0,v.Z)("internal/statusbar")(Oe);function Se(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.Z)(t);if(e){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var Ce=function(t){(0,c.Z)(n,t);var e=Se(n);function n(t){return(0,i.Z)(this,n),e.call(this,t)}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.context;this.unsubscribe=e.subscribe((function(n,r){n===A.WF?t.forceUpdate():n===A.vB?(e.removeNotification(t.closeNotification),t.forceUpdate()):n===A.Wh&&r.type===Dt.kK&&(t.closeNotification=e.addNotification({title:t.props.t("groups-close-soon"),message:t.props.t("groups-close-soon-message"),level:"info",position:"tr",dismissible:"none",autoDismiss:0,children:(0,o.Z)(ie.Z,{style:{position:"relative"},duration:60,active:!0})}))}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"renderMembers",value:function(){var t=this.context,e=t.group.members;return(0,o.Z)(at.Z,{},void 0,e.map((function(e,n){var r=t.server+"/thumbnail/"+e.picture;return(0,o.Z)(st.Z,{className:"group-client-list-item"},n,(0,o.Z)("img",{className:"group-client-user-picture",alt:"User Profile",src:r,height:"".concat(40,"px"),width:"".concat(40,"px")}),(0,o.Z)("span",{},void 0,e.name))})))}},{key:"render",value:function(){var t=this.context;return t.group?(0,o.Z)(pt.Z,{default:{x:window.innerWidth-280}},void 0,(0,o.Z)(z.Z,{minimizable:!0,header:(0,o.Z)("span",{},void 0,(0,o.Z)("span",{className:"fa fa-xs fa-user-friends",style:{marginRight:5}}),(0,o.Z)("span",{className:"group-name"},void 0,this.props.t("group")," ",t.group.name)),className:"group-client-panel"},void 0,this.renderMembers(),this.props.video?(0,o.Z)(M.Z,{for:t.group.name}):null)):null}}]),n}(f.Component);Ce.contextType=D.Z,Ce.defaultProps={video:!0};var Pe,Ee,Re=(0,v.Z)("internal/statusbar")(Ce);function Me(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.Z)(t);if(e){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var Ne=h()("isle:statusbar-score"),Te=function(t){(0,c.Z)(n,t);var e=Me(n);function n(t,r){var o;return(0,i.Z)(this,n),o=e.call(this,t),(0,d.Z)((0,s.Z)(o),"handleClick",(function(t){t.stopPropagation()})),o.state={score:r.get("score"),isReceiving:!1,addition:4},o}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var t=this;Ne("Component did mount...");var e=this.context;e&&(this.unsubscribe=e.subscribe((function(e,n){e===A.Zh&&t.addScore(n)})))}},{key:"componentWillUnmount",value:function(){Ne("Component will unmount..."),this.unsubscribe()}},{key:"addScore",value:function(t){var e=this;this.setState({addition:t,isReceiving:!0}),setTimeout((function(){var n=e.state.score+t;e.setState({score:n,isReceiving:!1})}),2e3)}},{key:"getAnimation",value:function(){return this.state.isReceiving&&this.rect?(0,o.Z)("div",{className:"receiving-score",style:{left:this.rect.x,top:this.rect.y,transformOrigin:"".concat(this.rect.width/2,"px ").concat(this.rect.height/2,"px")}},void 0,"+",this.state.addition,Pe||(Pe=(0,o.Z)("div",{className:"receiving-score-outer-circle2"})),Ee||(Ee=(0,o.Z)("div",{className:"receiving-score-outer-circle"}))):null}},{key:"render",value:function(){var t=this;return(0,o.Z)(f.Fragment,{},void 0,(0,o.Z)(C.Z,{placement:"bottom",tooltip:this.props.t("achievement-points")},void 0,f.createElement("div",{className:"statusbar-score",role:"button",ref:function(e){if(e){var n=e.getBoundingClientRect();n&&n.x>0&&n.y>0&&(t.rect=n)}},onClick:this.handleClick,onKeyPress:this.handleClick,tabIndex:0},this.state.score)),this.getAnimation())}}]),n}(f.Component);Te.contextType=D.Z;var De,Ae,je,Be,Ie,ze,Le,Ue,Ve,Fe,He,We,Ge,Ke,Je,qe,$e=Te;function Ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.Z)(t);if(e){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var Xe=(0,f.lazy)((function(){return Promise.all([n.e(532),n.e(9553),n.e(7555),n.e(1189),n.e(6823),n.e(6281),n.e(111)]).then(n.bind(n,635324))})),Qe=h()("isle:statusbar");function tn(t){var e=(new Date).getTime()-t.startTime;return e=y()(e/6e4)}function en(t){t.stopPropagation()}function nn(t){var e=document.createElement("div");e.setAttribute("id","blackscreen"),document.getElementById("Lesson").appendChild(e);var n=document.createElement("div");n.setAttribute("id","blackscreen-notice"),n.innerText=t,e.append(n)}var rn=function(t){(0,c.Z)(n,t);var e=Ye(n);function n(t,r){var o;return(0,i.Z)(this,n),o=e.call(this,t),(0,d.Z)((0,s.Z)(o),"closeSignup",(function(){o.setState({visibleSignup:!1})})),(0,d.Z)((0,s.Z)(o),"closeLogin",(function(){o.setState({visibleLogin:!1})})),(0,d.Z)((0,s.Z)(o),"closeLogout",(function(){o.setState({visibleLogout:!1})})),(0,d.Z)((0,s.Z)(o),"toggleBarVisibility",(function(t){t&&t.stopPropagation();var e=o.context;e.togglePresentationView(),Qe("Toggle visibility of statusbar..."),e.config.hideStatusBar||o.setState({showStatusBar:!o.state.showStatusBar})})),(0,d.Z)((0,s.Z)(o),"toggleGroupManager",(function(t){t&&t.stopPropagation(),o.setState({showGroupManager:!o.state.showGroupManager})})),(0,d.Z)((0,s.Z)(o),"toggleBlackScreen",(function(t){t&&t.stopPropagation(),Qe("Toggling blackout mode...");var e=document.getElementById("blackscreen"),n=o.context;e?(e.parentElement.removeChild(e),n.log({id:"statusbar",type:Dt.TN,value:!1},"members")):(nn(n.isOwner()?o.props.t("blackout-intro-owner",{hotkey:"F8"}):o.props.t("blackout-intro-user")),n.log({id:"statusbar",type:Dt.TN,value:!0},"members"))})),(0,d.Z)((0,s.Z)(o),"toggleBar",(function(){o.state.hidden?((0,T.Z)(o.statusbar,"top",0,300),o.statusbar.style.opacity=1,o.setState({hidden:!1})):((0,T.Z)(o.statusbar,"top",-32,300),o.statusbar.style.opacity=.95,o.setState({hidden:!0}))})),(0,d.Z)((0,s.Z)(o),"onMouseOver",(function(){o.state.hidden&&(o.statusbar.style.opacity=1)})),(0,d.Z)((0,s.Z)(o),"onMouseOut",(function(){o.state.hidden&&(o.statusbar.style.opacity=.95)})),(0,d.Z)((0,s.Z)(o),"login",(function(t){t.stopPropagation(),o.setState({visibleLogin:!0})})),(0,d.Z)((0,s.Z)(o),"signup",(function(t){t.stopPropagation(),o.setState({visibleSignup:!0})})),(0,d.Z)((0,s.Z)(o),"logout",(function(t){t.stopPropagation(),o.setState({visibleLogout:!0})})),(0,d.Z)((0,s.Z)(o),"handleLogout",(function(){o.context.logout(),o.closeLogout()})),(0,d.Z)((0,s.Z)(o),"handleBarClick",(function(t){o.toggleBar()})),(0,d.Z)((0,s.Z)(o),"handleBarKeyPress",(function(){o.toggleBar()})),(0,d.Z)((0,s.Z)(o),"toggleProgress",(function(){var t=o.context;t.setProgress(),o.state.isProgressLeaving||t.isOwner()||(o.state.showProgressBar?o.progressTimeout=setTimeout((function(){o.setState({showProgressBar:!1,isProgressLeaving:!1,duration:tn(o.context)}),o.progressTimeout=null}),12e3):o.setState({showProgressBar:!0,duration:tn(o.context)}))})),(0,d.Z)((0,s.Z)(o),"jumpToUnfinished",(function(t){Qe("Jump to next unfinished question..."),t.stopPropagation();var e=o.context.unfinished;if(w()(e)){var n=e[0];if(n){var r=document.getElementById(n);if(!r)return;if((0,Tt.Z)(r)){var i=r.cloneNode(!0),a=document.createElement("div");a.id="unfinished-container",i.id="unfinished-elem",i.classList.add("focus-glow"),a.append(i),document.body.appendChild(a),setTimeout((function(){var t=document.getElementById("unfinished-container");t&&t.parentNode.removeChild(t)}),4e3)}else r.classList.add("focus-glow"),r.scrollIntoView(),setTimeout((function(){r.classList.remove("focus-glow")}),4e3)}}})),(0,d.Z)((0,s.Z)(o),"preventPropagationForUsers",(function(t){o.context.anonymous||t.stopPropagation()})),o.state={visibleSignup:!1,visibleLogin:!1,visibleLogout:!1,showGroupManager:!1,showStatusBar:!r.config.hideStatusBar,showProgressBar:!1,isProgressLeaving:!1,progress:0,duration:"0",hidden:!0},o}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var t=this,e=!1,n=this.props.t,r=this.context;this.unsubscribe=r.subscribe((function(i,a){if(setTimeout((function(){!e&&r.anonymous&&r.live&&(!function(){var e=t.context;!R.Z&&t.state.showStatusBar&&e.addNotification({title:n("login"),message:n("please-connect-message"),level:"success",autoDismiss:e.config.noLoginDismiss?0:15,position:"tl",children:(0,o.Z)("div",{style:{marginBottom:"30px"}},void 0,!1!==e.settings.allowUserRegistrations?(0,o.Z)(m.Z,{id:"statusbar-signup-button",size:"sm",style:{float:"right",marginRight:"10px"},onClick:t.signup},void 0,n("signup")):null,(0,o.Z)(m.Z,{id:"statusbar-login-button",size:"sm",variant:"primary",style:{float:"right",marginRight:"10px"},onClick:t.login},void 0,n("login")))})}(),e=!0)}),3e3),i===A.Gq)t.setState({progress:y()(100*Number(a))});else if(i===A.tf||i===A.Zh){var s={showProgressBar:!0,isProgressLeaving:!0};i===A.tf&&(s.progress=y()(100*Number(a))),t.setState(s),t.progressTimeout&&(clearTimeout(t.progressTimeout),t.progressTimeout=null),t.progressTimeout=setTimeout((function(){t.setState({showProgressBar:!1,isProgressLeaving:!1,duration:tn(r)}),t.progressTimeout=null}),4e3)}else if(i===A.SC||i===A.Fw||i===A.E7||i===A.OG||i===A.YQ)t.forceUpdate();else if(i===A.Wh&&a.type===Dt.TN&&a.email!==r.user.email)if(a.value)nn(r.isOwner()?t.props.t("blackout-intro-owner",{hotkey:"F8"}):t.props.t("blackout-intro-user"));else{var c=document.getElementById("blackscreen");c&&c.parentElement.removeChild(c)}else i!==A.WF||t.state.showGroupManager||t.toggleGroupManager()})),this.renderTextInterval=setInterval(this.renderRecordedText,1e3)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.renderTextInterval&&clearInterval(this.renderTextInterval),this.progressTimeout&&clearTimeout(this.progressTimeout)}},{key:"renderUpperBar",value:function(){if(this.state.hidden)return null;var t=this.props.t,e=this.context;return e.anonymous?(0,o.Z)("div",{},void 0,(0,o.Z)(m.Z,{size:"sm",className:"statusbar-button",variant:"outline-secondary",style:{position:"absolute",right:"60px"},onClick:this.login,disabled:!e.live},void 0,t("login")),!1!==e.settings.allowUserRegistrations?(0,o.Z)(m.Z,{size:"sm",className:"statusbar-button",variant:"outline-secondary",style:{position:"absolute",right:"-20px"},onClick:this.signup,disabled:!e.live},void 0,t("signup")):null):(0,o.Z)(f.Fragment,{},void 0,(0,o.Z)("a",{href:e.server,target:"_blank",rel:"noopener noreferrer",id:"statusbar-dashboard-button",size:"sm",className:"statusbar-button",variant:"outline-secondary",style:{float:"right",marginRight:"60px"}},void 0,t("goto-dashboard")),(0,o.Z)(m.Z,{size:"sm",className:"statusbar-button",variant:"outline-secondary",style:{position:"absolute",right:"-20px"},onClick:this.logout},void 0,t("logout")))}},{key:"render",value:function(){var t=this,e=this.context,n=this.props.t,r=100===this.state.progress,i=e.isOwner()||R.Z,a=e.user.picture,s=(0,o.Z)(f.Fragment,{},void 0,a?(0,o.Z)("img",{className:"statusbar-profile",alt:"User Profile Pic",src:a,onClick:en}):null,(0,o.Z)(C.Z,{placement:"bottom",tooltip:n("time-spent-tooltip")},void 0,(0,o.Z)("div",{className:"progress-time",onClick:en},void 0,De||(De=(0,o.Z)("i",{className:"fas fa-clock"}))," ",this.state.duration," MIN"))),c=e.namespaceName+"-"+e.lessonName;return(0,o.Z)(f.Fragment,{},void 0,Ae||(Ae=(0,o.Z)(Rt,{})),je||(je=(0,o.Z)(Y,{})),i?(0,o.Z)(xe,{active:this.state.showGroupManager,onHide:this.toggleGroupManager}):Be||(Be=(0,o.Z)(Re,{})),(0,o.Z)("div",{},void 0,f.createElement("div",{className:"statusbar unselectable",role:"button",tabIndex:0,ref:function(e){t.statusbar=e},onClick:this.handleBarClick,onKeyPress:this.handleBarKeyPress,onMouseOver:this.onMouseOver,onFocus:this.onMouseOver,onMouseOut:this.onMouseOut,onBlur:this.onMouseOut,style:{top:"-32px",display:this.state.showStatusBar?null:"none"}},(0,o.Z)(C.Z,{tooltip:this.state.hidden?n("click-to-expand"):n("click-to-collapse"),placement:"left"},void 0,Ie||(Ie=(0,o.Z)("div",{className:"statusbar-left"}))),(0,o.Z)("div",{className:"statusbar-middle"},void 0,(0,o.Z)(Wt,{session:this.context,t:n}),i?(0,o.Z)(C.Z,{placement:"bottom",tooltip:"".concat(n("presentation-mode-tooltip")," ").concat("(F7)")},void 0,(0,o.Z)("span",{role:"button",tabIndex:0,onClick:this.toggleBarVisibility,onKeyPress:this.toggleBarVisibility,className:"statusbar-presentation-mode statusbar-icon","aria-label":n("presentation-mode-label")},void 0,ze||(ze=(0,o.Z)("span",{className:"fa fa-xs fa-eye-slash"})))):null,i?(0,o.Z)(C.Z,{placement:"bottom",tooltip:"".concat(n("blackout-tooltip")," ").concat("(F8)")},void 0,(0,o.Z)("span",{role:"button",tabIndex:0,"aria-label":n("blackout-label"),onClick:this.toggleBlackScreen,onKeyPress:this.toggleBlackScreen,className:"statusbar-blackscreen-mode statusbar-icon"},void 0,Le||(Le=(0,o.Z)("span",{className:"fa fa-xs fa-stop"})))):null,i?(0,o.Z)(C.Z,{placement:"bottom",tooltip:"".concat(n("group-manager")," ").concat("(G)")},void 0,(0,o.Z)("span",{role:"button",tabIndex:0,"aria-label":n("group-manager"),onClick:this.toggleGroupManager,onKeyPress:this.toggleGroupManager,className:"statusbar-group-manager statusbar-icon"},void 0,Ue||(Ue=(0,o.Z)("span",{className:"fa fa-xs fa-user-friends"})))):null,e.cohort?(0,o.Z)("div",{className:"statusbar-cohort"},void 0,e.cohort):null,(0,o.Z)(C.Z,{placement:"bottom",tooltip:e.live?n("connection-active"):n("connection-broken")},void 0,(0,o.Z)("div",{className:"statusbar-presence",style:{backgroundColor:e.live?"rgb(130, 224, 160)":"rgb(209, 107, 71)"}},void 0,Ve||(Ve=(0,o.Z)("div",{className:"statusbar-inner-presence"})))),(0,o.Z)("div",{role:"button",tabIndex:0,style:{cursor:this.context.anonymous?"pointer":"help"},className:"statusbar-username",onClick:this.preventPropagationForUsers,onKeyPress:this.preventPropagationForUsers,onMouseEnter:this.toggleProgress,onFocus:this.toggleProgress,onMouseOut:this.toggleProgress,onBlur:this.toggleProgress,"aria-label":n("user-progress")},void 0,e.anonymous?"".concat(n("anonymous")," ").concat(e.anonymousIdentifier):e.user.name),e.config.hideVideoChat?null:(0,o.Z)(M.Z,{for:c,buttonVariant:"link",buttonLabel:Fe||(Fe=(0,o.Z)("i",{className:"fa fa-xs fa-video"})),tooltipPlacement:"bottom",tooltip:n("video-chat"),className:"statusbar-icon statusbar-video-chat",onClick:en}),e.config.hideTextChat?null:(0,o.Z)(N.Z,{for:c,buttonVariant:"link",anonymousSubmissions:!0,buttonLabel:He||(He=(0,o.Z)("i",{className:"fas fa-comments"})),tooltipPlacement:"bottom",tooltip:n("text-chat"),className:"statusbar-icon statusbar-text-chat",onClick:en}),this.renderUpperBar(),We||(We=(0,o.Z)("div",{className:"statusbar-text"},void 0,"ISLE"))),(0,o.Z)(C.Z,{tooltip:this.state.hidden?n("click-to-expand"):n("click-to-collapse"),placement:"right"},void 0,Ge||(Ge=(0,o.Z)("div",{className:"statusbar-right"}))),(0,o.Z)("div",{className:"statusbar-progress ".concat(this.state.isProgressLeaving?"progress-fade-out":""," "),style:{display:!e.config.hideProgressBar&&this.state.showProgressBar?"inherit":"none"}},void 0,(0,o.Z)(S.Z,{user:!0},void 0,s,_()(e.responseVisualizers)?Ke||(Ke=(0,o.Z)("div",{className:"outer-statusbar-progress-bar"})):(0,o.Z)(C.Z,{placement:"bottom",tooltip:n(r?"completed":"preview-unfinished"),show:w()(e.unfinished)},void 0,(0,o.Z)("div",{className:"outer-statusbar-progress-bar"},void 0,(0,o.Z)(g.Z,{label:"".concat(n("completion-rate"),": ").concat(this.state.progress,"%"),variant:"success",now:this.state.progress,style:{animation:"anim-fade-in 0.7s",border:"solid 1px darkgrey"},onClick:this.jumpToUnfinished}))),(0,o.Z)($e,{t:n})))),this.state.showStatusBar||!i&&!R.Z?null:(0,o.Z)(C.Z,{placement:"bottom",tooltip:"".concat(n("presentation-mode-exit")," (F7)")},void 0,(0,o.Z)("span",{className:"statusbar-presentation-mode-lone-icon",role:"button",tabIndex:0,onClick:this.toggleBarVisibility,onKeyPress:this.toggleBarVisibility},void 0,Je||(Je=(0,o.Z)("span",{className:"fa fa-xs fa-eye-slash"}))))),qe||(qe=(0,o.Z)(f.Suspense,{fallback:null},void 0,(0,o.Z)(S.Z,{owner:!0},void 0,(0,o.Z)(Xe,{})))),this.state.visibleLogin?(0,o.Z)(x.Z,{show:this.state.visibleLogin,onClose:this.closeLogin}):null,this.state.visibleSignup?(0,o.Z)(O.Z,{show:this.state.visibleSignup,onClose:this.closeSignup}):null,this.state.visibleLogout?(0,o.Z)(Nt,{show:this.state.visibleLogout,close:this.closeLogout,title:n("logout"),message:n("confirm-logout"),onConfirm:this.handleLogout,t:n}):null,(0,o.Z)(P.Z,{actions:{F7:this.toggleBarVisibility,F8:this.toggleBlackScreen,g:this.toggleGroupManager}}),r&&!e.config.hideProgressBar?(0,o.Z)(E.Z,{title:"100%",upper:n("congratulations"),lower:n("lesson-completed"),upperArc:120,lowerArc:120,noOrnaments:!0,removable:!0,style:{position:"fixed",right:"0px",bottom:"5%",transform:"rotate(-17deg) scale(".concat(window.innerWidth/1920,")"),transformOrigin:"100% 100%",animation:"anim-fade-in 1s forwards",background:"linear-gradient(to right, white, silver, white)",fontFamily:"Courier",zIndex:1002},innerStyle:{background:"linear-gradient(to right, ghostwhite, #ffc107, ghostwhite, #ffc107, silver)"}}):null)}}]),n}(f.Component);rn.contextType=D.Z;var on=(0,v.Z)("internal/statusbar")(rn)},672643:function(t,e,n){"use strict";var r=(0,n(844601).Z)((function(){return n.e(2273).then(n.bind(n,796117))}));e.Z=r},777866:function(t,e,n){"use strict";var r=n(990929);e.Z=function(t,e,n,o){if(!t.selection||!t.doc||!n)return t;var i=t.selection,a=i.empty,s=i.$cursor,c=i.ranges;if(a&&!s||!function(t,e,n){for(var o=function(r){var o=e[r],i=o.$from,a=o.$to,s=0===i.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,a.pos,(function(t){return!s&&(s=t.inlineContent&&t.type.allowsMarkType(n),!0)})),s)return{v:!0}},i=0;i<e.length;i++){var a=o(i);if("object"===(0,r.Z)(a))return a.v}return!1}(t.doc,c,n))return t;if(s)return t=t.removeStoredMark(n),o?t.addStoredMark(n.create(o)):t;for(var l=!1,u=0;!l&&u<c.length;u++){var d=c[u],f=d.$from,p=d.$to;l=t.doc.rangeHasMark(f.pos,p.pos,n)}for(var h=0;h<c.length;h++){var v=c[h],m=v.$from,g=v.$to;l&&(t=t.removeMark(m.pos,g.pos,n)),o&&(t=t.addMark(m.pos,g.pos,n.create(o)))}return t}},268874:function(t,e,n){"use strict";n.d(e,{yz:function(){return c},wM:function(){return l}});var r=n(56470),o=n(977162),i=n.n(o),a=(n(319371),n(296253),n(940851),n(516037)),s=new a.PluginKey("cursor-parking");e.ZP=function(){return new a.Plugin({key:s,state:{init:function(){return{inCursorParking:!1,storedMarks:null,bookmarkToRestore:null,pos:null}},apply:function(t,e){var n=t.getMeta(this);return n?n.inCursorParking?{inCursorParking:!0,pos:n.pos,storedMarks:t.storedMarks,bookmarkToRestore:t.selection.getBookmark()}:{inCursorParking:!1,pos:n.pos,storedMarks:null,bookmarkToRestore:null}:t.docChanged&&e.inCursorParking&&e.bookmarkToRestore?{inCursorParking:!0,pos:null,storedMarks:e.storedMarks,bookmarkToRestore:e.bookmarkToRestore.map(t.mapping)}:e}},view:function(){var t=document.createElement("cursor-parking");t.setAttribute("style","width:0px;height:0px;position:fixed;top:50%,left:50%;"),t.setAttribute("tabIndex","-1"),t.setAttribute("contenteditable","true");var e=function(){t.innerHTML="<div><br/></div>"};return e(),document.body.appendChild(t),{update:function(n,r){var o=s.getState(r),i=s.getState(n.state);if(!o.inCursorParking&&i.inCursorParking&&function(){var e=document.createRange();e.selectNodeContents(t.firstChild);var n=window.getSelection();n.removeAllRanges(),n.addRange(e)}(),o.inCursorParking&&!i.inCursorParking){var c=n.dispatch,l=n.state.tr;if(o.bookmarkToRestore&&l.setSelection(o.bookmarkToRestore.resolve(l.doc)),o.storedMarks&&l.setStoredMarks(o.storedMarks),n.focus(),i.pos){var u=i.pos;l=l.setSelection(a.TextSelection.create(l.doc,u,u))}else c(l);e()}},destroy:function(){t.parentNode.removeChild(t)}}}})};var c=function(){var t=(0,r.Z)(i().mark((function t(e,n){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.dispatch(e.state.tr.setMeta(s,{inCursorParking:!0,pos:n})),t.next=3,new Promise((function(t){return setTimeout(t,0)}));case 3:e.dispatch(e.state.tr.setMeta(s,{inCursorParking:!1,pos:n}));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),l=function(t){t.dispatch(t.state.tr.setMeta(s,{inCursorParking:!1,storedMarks:null,bookmarkToRestore:null,pos:null}))}},86381:function(t,e,n){"use strict";n.d(e,{NV:function(){return g},ud:function(){return Z}});var r=n(264659),o=n(673989),i=n(175663),a=n(750591),s=n(575630),c=(n(319371),n(52310),n(382139),n(516037)),l=n(506565);function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,s.Z)(t);if(e){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var d={name:"CursorPlaceholderPlugin"},f=null,p={state:{init:function(){return l.EH.empty},apply:function(t,e){e=e.map(t.mapping,t.doc);var n=t.getMeta(this);if(!n)return e;if(n.add){var r=document.createElement("editor-cursor-placeholder");r.className="editor-cursor-placeholder";var o=l.p.widget(n.add.pos,r,{id:d});e=e.add(t.doc,[o])}else if(n.remove){var i=e.find(null,null,v);e=e.remove(i)}return e}},props:{decorations:function(t){return f?f.getState(t):null}}},h=function(t){(0,i.Z)(n,t);var e=u(n);function n(){var t;return(0,r.Z)(this,n),t=e.call(this,p),f?(0,a.Z)(t,f):(f=(0,o.Z)(t),t)}return n}(c.Plugin);function v(t){return t.id===d}function m(t){if(!f)return null;var e=f.getState(t).find(null,null,v);return(e.length?e[0].from:null)||null}function g(t){var e=f,n=t.tr;return e&&n.selection?(null===m(t)&&(n.selection.empty||(n=n.deleteSelection()),n=n.setMeta(e,{add:{pos:n.selection.from}})),n):n}function Z(t){var e=f,n=t.tr;return e?(null!==m(t)&&(n=n.setMeta(e,{remove:{}})),n):n}e.ZP=h},924285:function(t,e,n){"use strict";n.d(e,{Z:function(){return r}});n(52310);function r(t,e,n,r){for(var o=e,i=function(t){return t.type===r},a=null,s=null,c=null;o<=n;){var l=t.nodeAt(o);if(!l||!l.marks)return null;var u=l.marks.find(i);if(!u)return null;if(a&&u!==a)return null;s=s||l,a=a||u,c=l,o++}var d=e,f=n,p=0;for(o=e-1;o>p;){var h=t.nodeAt(o),v=h&&h.marks.find(i);if(!v||v!==a)break;d=o,s=h,o--}for(o=n+1,p=t.nodeSize-2;o<p;){var m=t.nodeAt(o),g=m&&m.marks.find(i);if(!g||g!==a)break;f=o,c=m,o++}return{mark:a,from:{node:s,pos:d},to:{node:c,pos:f}}}},550171:function(t,e,n){"use strict";var r=n(858255),o=(n(202784),{alignLeft:(0,r.Z)("i",{className:"prosemirror-icon fas fa-align-left"}),alignCenter:(0,r.Z)("i",{className:"prosemirror-icon fas fa-align-center"}),alignRight:(0,r.Z)("i",{className:"prosemirror-icon fas fa-align-right"}),alignJustify:(0,r.Z)("i",{className:"prosemirror-icon fas fa-align-justify"}),annotation:(0,r.Z)("i",{className:"prosemirror-icon fas fa-comment"}),blockquote:(0,r.Z)("i",{className:"prosemirror-icon fas fa-quote-left"}),bold:(0,r.Z)("i",{className:"prosemirror-icon fas fa-bold"}),bullet_list:(0,r.Z)("i",{className:"prosemirror-icon fas fa-list-ul"}),code_block:(0,r.Z)("i",{className:"prosemirror-icon fas fa-file-code"}),code:(0,r.Z)("i",{className:"prosemirror-icon fas fa-code"}),color:(0,r.Z)("i",{className:"prosemirror-icon fas fa-palette"}),editTable:(0,r.Z)("i",{className:"prosemirror-icon fas fa-table"}),em:(0,r.Z)("i",{className:"prosemirror-icon fas fa-italic"}),error:(0,r.Z)("i",{className:"prosemirror-icon fas fa-bug"}),fullscreen:(0,r.Z)("i",{className:"prosemirror-icon fas fa-expand"}),guides:(0,r.Z)("i",{className:"prosemirror-icon fa fa-question-circle"}),history:(0,r.Z)("i",{className:"prosemirror-icon fas fa-history"}),insert:(0,r.Z)("i",{className:"prosemirror-icon fa fa-plus-square"}),link:(0,r.Z)("i",{className:"prosemirror-icon fa fa-link"}),open:(0,r.Z)("i",{className:"prosemirror-icon fa fa-folder-open"}),ordered_list:(0,r.Z)("i",{className:"prosemirror-icon fas fa-list-ol"}),paragraph:(0,r.Z)("i",{className:"prosemirror-icon fas fa-paragraph"}),pdf:(0,r.Z)("i",{className:"prosemirror-icon fas fa-file-pdf"}),redo:(0,r.Z)("i",{className:"prosemirror-icon fas fa-redo"}),reset:(0,r.Z)("i",{className:"prosemirror-icon fa fa-eraser"}),save:(0,r.Z)("i",{className:"prosemirror-icon fa fa-save"}),selectParent:(0,r.Z)("i",{className:"prosemirror-icon far fa-object-group"}),strikethrough:(0,r.Z)("i",{className:"prosemirror-icon fas fa-strikethrough"}),strong:(0,r.Z)("i",{className:"prosemirror-icon fas fa-bold"}),submit:(0,r.Z)("i",{className:"prosemirror-icon fa fa-share-square"}),subscript:(0,r.Z)("i",{className:"prosemirror-icon fas fa-subscript"}),table:(0,r.Z)("i",{className:"prosemirror-icon fas fa-table"}),superscript:(0,r.Z)("i",{className:"prosemirror-icon fas fa-superscript"}),underline:(0,r.Z)("i",{className:"prosemirror-icon fas fa-underline"}),undo:(0,r.Z)("i",{className:"prosemirror-icon fas fa-undo"})});e.Z=o},770290:function(t,e,n){"use strict";n.d(e,{q:function(){return y}});n(382139);var r=n(264659),o=n(175663),i=n(750591),a=n(575630),s=(n(798184),n(39115),n(296253),n(856997),n(991181),n(52310),n(898837),n(95767),n(530522),n(319371),n(516037)),c=n(506565),l=n(409961),u=n.n(l),d=n(427249),f=n(974247);function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,a.Z)(t);if(e){var o=(0,a.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}var h=(0,d.Z)("image_upload"),v=new Set(["image/jpeg","image/gif","image/png","image/jpg"]),m=new Array(4).join('<div class="editor-image-upload-placeholder-child"></div>');function g(t){return t instanceof b}function Z(t){return t&&v.has(t.type)}function y(t,e,r){var o=t.state,i=t.readOnly,a=t.disabled,c=o.schema,l=o.plugins;if(i||a)return!1;var d=c.nodes.image;if(!d)return!1;var p=Array.from(e).filter(Z);if(!p.length)return!1;var v=l.find(g);if(!v)return!1;var m,y={debugId:h()},b=(m=function(){var e=function(e){var n=function(t,e,n){var r=t.getState(e).find(null,null,(function(t){return t.id===n}));return r.length?r[0].from:null}(v,t.state,y),r=t.state.tr;if(!n||t.readOnly||t.disabled)p.length=0;else{var o=d.create(e);r=r.replaceWith(n,n,o)}p.length?b():r=r.setMeta(v,{remove:{id:y}}),t.dispatch(r)},r=p.shift();if(u()(r))throw new Error("unexpected null value");var o=n.g.session;if(o.server&&o.uploadFile){var i=new FormData;i.append("file",r),o.uploadFile({formData:i,callback:function(t,n){return t?e({src:null}):n&&n.filename?e({src:o.server+"/"+n.filename}):e({src:null})},showNotification:!1})}else(0,f.Z)(r).then(e).catch(e.bind(null,{src:null}))},function(){setTimeout(m,0)});b();var w=o.tr,k=0;if(r){var _=t.posAtCoords({left:r.x,top:r.y});if(!_)return!1;k=_.pos,w=w.setSelection(s.TextSelection.create(w.doc,k,k))}else k=w.selection.to,w=w.setSelection(s.TextSelection.create(w.doc,k,k));var O={add:{id:y,pos:k}};return w=w.setMeta(v,O),t.dispatch(w),!0}var b=function(t){(0,o.Z)(n,t);var e=p(n);function n(){return(0,r.Z)(this,n),e.call(this,{state:{init:function(){return c.EH.empty},apply:function(t,e){e=e.map(t.mapping,t.doc);var n=t.getMeta(this);if(n&&n.add){var r=document.createElement("div");r.title="Uploading...",r.className="editor-image-upload-placeholder",r.innerHTML=m;var o=c.p.widget(n.add.pos,r,{id:n.add.id});e=e.add(t.doc,[o])}else if(n&&n.remove){e=e.remove(e.find(null,null,(function(t){return t.id===n.remove.id})))}return e}},props:{decorations:function(t){return this.getState(t)}}})}return n}(s.Plugin);e.Z=b},588714:function(t,e,n){"use strict";var r=n(516037);e.Z=function(t,e){var n=t.selection,o=t.schema,i=t.tr;if(!o.marks[e])return!1;if(!(n instanceof r.TextSelection||n instanceof r.AllSelection))return!1;var a=t.selection,s=a.from;if(a.to===s+1){var c=i.doc.nodeAt(s);if(c.isAtom&&!c.isText&&c.isLeaf)return!1}return!0}},76882:function(t,e,n){"use strict";n.d(e,{ZP:function(){return qt},$T:function(){return Gt},EI:function(){return Lt},Uy:function(){return Ht}});n(319371);var r=n(919353),o=n(141396),i=n(516037),a=n(757343),s=n(414256),c=n(603423),l=n(550171),u=n(828919),d=function(t){return function(e){for(var n=e.selection.$from,r=n.depth;r>=0;r--){var o=n.index(r);if(n.node(r).canReplaceWith(o,o,t))return!0}return!1}},f=n(607125),p=n(777866),h=n(70332),v=n(588714),m=(n(382139),n(264659)),g=n(673989),Z=n(175663),y=n(750591),b=n(575630),w=n(151119),k=(n(304531),n(296253),n(940851),n(676065)),_=n.n(k),O=n(925161),x=n(924285),S=n(111057),C=n(640987),P=n(70698);function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,b.Z)(t);if(e){var o=(0,b.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,y.Z)(this,n)}}var R=function(t){(0,Z.Z)(n,t);var e=E(n);function n(){var t;(0,m.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o)),(0,w.Z)((0,g.Z)(t),"_popUp",null),(0,w.Z)((0,g.Z)(t),"title","apply-link"),(0,w.Z)((0,g.Z)(t),"content",l.Z.link),(0,w.Z)((0,g.Z)(t),"enable",(function(t){if(!(t.selection instanceof i.TextSelection))return!1;if(!t.schema.marks.link)return!1;var e=t.selection;return e.from<e.to})),(0,w.Z)((0,g.Z)(t),"waitForUserInput",(function(e,n,r,o){if(t._popUp)return Promise.resolve(void 0);n&&n((0,O.tk)(e));var i=e.doc,a=e.schema,s=e.selection,c=a.marks.link;if(!c)return Promise.resolve(void 0);var l=s.from,u=s.to,d=(0,x.Z)(i,l,u,c),f=d?d.mark.attrs.href:null;return new Promise((function(e){t._popUp=(0,P.Z)(S.Z,{href:f},{modal:!0,onClose:function(n){t._popUp&&(t._popUp=null,e(n))}})}))})),(0,w.Z)((0,g.Z)(t),"executeWithUserInput",(function(t,e,n,r){if(e){var o=t.selection,i=t.schema,a=t.tr;if(a=(a=n?(0,O.be)(n.state):a).setSelection(o),!_()(r)){var s=i.marks.link,c=r?{href:r}:null;a=(0,p.Z)(a.setSelection(t.selection),i,s,c)}e(a)}return n&&n.focus(),!0})),t}return n}(C.Z),M=n(904730),N=n(202784),T=n(867696),D=n(86381);function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,b.Z)(t);if(e){var o=(0,b.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,y.Z)(this,n)}}function j(t,e,n){var r=t.selection;if(!r)return t;var o=r.from;if(o!==r.to)return t;var i=e.nodes.image;if(!i)return t;var a={src:n||"",alt:"",title:""},s=i.create(a,null,null),c=T.Fragment.from(s);return t=t.insert(o,c)}var B=function(t){(0,Z.Z)(n,t);var e=A(n);function n(){var t;(0,m.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o)),(0,w.Z)((0,g.Z)(t),"_popUp",null),(0,w.Z)((0,g.Z)(t),"enable",(function(e,n){return t.__isEnabled(e,n)})),(0,w.Z)((0,g.Z)(t),"waitForUserInput",(function(e,n,r,o){return t._popUp?Promise.resolve(void 0):(n&&n((0,D.NV)(e)),new Promise((function(e){var n={runtime:r?r.runtime:null};t._popUp=(0,P.Z)(t.getEditor(),n,{modal:!0,onClose:function(n){t._popUp&&(t._popUp=null,e(n))}})})))})),(0,w.Z)((0,g.Z)(t),"executeWithUserInput",(function(t,e,n,r){if(e){var o=t.selection,i=t.schema,a=t.tr;if(a=(a=n?(0,D.ud)(n.state):a).setSelection(o),r)a=j(a,i,r.src);e(a),n&&n.focus()}return!1})),(0,w.Z)((0,g.Z)(t),"__isEnabled",(function(t,e){var n=t.selection;return n instanceof i.TextSelection&&n.from===n.to})),t}return n}(C.Z),I=(n(627476),n(95767),n(898837),n(694882),n(298351),n(858255)),z=n(320765),L=n(273783),U=n(171696),V=n(304600);function F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){(0,w.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,b.Z)(t);if(e){var o=(0,b.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,y.Z)(this,n)}}var G=function(t){(0,Z.Z)(n,t);var e=W(n);function n(t){var r;return(0,m.Z)(this,n),r=e.call(this,t),(0,w.Z)((0,g.Z)(r),"_onSrcChange",(function(t){var e=t.target.value;r.setState({src:e,validValue:null},r._didSrcChange)})),(0,w.Z)((0,g.Z)(r),"_didSrcChange",(function(){(0,V.Z)(r.state.src).then((function(t){if(r.state.src===t.src&&!r._unmounted){var e=t.complete?t:null;r.setState({validValue:e})}}))})),(0,w.Z)((0,g.Z)(r),"_cancel",(function(){r.props.close()})),(0,w.Z)((0,g.Z)(r),"_insert",(function(){var t=r.state.validValue;r.props.close(t)})),r._img=null,r._unmounted=!1,r.state=H(H({},r.props.initialValue||{}),{},{validValue:null}),r}return(0,M.Z)(n,[{key:"componentWillUnmount",value:function(){this._unmounted=!0}},{key:"render",value:function(){var t=this.state,e=t.src,n=t.validValue,r=n?(0,I.Z)("div",{className:"editor-image-url-editor-input-preview",style:{backgroundImage:"url(".concat(String(n.src))}}):null;return(0,I.Z)("div",{className:"editor-image-url-editor"},void 0,(0,I.Z)("form",{className:"editor-form",onSubmit:U.Z},void 0,(0,I.Z)("fieldset",{},void 0,(0,I.Z)("legend",{},void 0,z.a.t("text-editor:insert-image")),(0,I.Z)("div",{className:"editor-image-url-editor-src-input-row"},void 0,(0,I.Z)("input",{autoFocus:!0,className:"editor-image-url-editor-src-input",onChange:this._onSrcChange,placeholder:"Paste URL of Image...",type:"text",value:e||""}),r),(0,I.Z)("em",{},void 0,z.a.t("text-editor:require-license"))),(0,I.Z)("div",{className:"editor-form-buttons"},void 0,(0,I.Z)(L.Z,{label:z.a.t("text-editor:cancel"),onClick:this._cancel}),(0,I.Z)(L.Z,{active:!!n,disabled:!n,label:z.a.t("text-editor:insert"),onClick:this._insert}))))}}]),n}(N.PureComponent);function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,b.Z)(t);if(e){var o=(0,b.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,y.Z)(this,n)}}var J,q=function(t){(0,Z.Z)(n,t);var e=K(n);function n(){var t;(0,m.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,w.Z)((0,g.Z)(t),"title","insert-image-url"),(0,w.Z)((0,g.Z)(t),"content","insert-image-url"),t}return(0,M.Z)(n,[{key:"getEditor",value:function(){return G}}]),n}(B),$=n(990929),Y=n(72779),X=n.n(Y),Q=n(294325),tt=n(427249),et=n(974247);function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,b.Z)(t);if(e){var o=(0,b.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,y.Z)(this,n)}}var rt=(0,tt.Z)("image-upload-editor"),ot=function(t){(0,Z.Z)(r,t);var e=nt(r);function r(t){var o;return(0,m.Z)(this,r),o=e.call(this,t),(0,w.Z)((0,g.Z)(o),"_onSelectFile",(function(t){var e=t.target.files&&t.target.files[0];e&&"object"===(0,$.Z)(e)&&o._upload(e)})),(0,w.Z)((0,g.Z)(o),"_onSuccess",(function(t){o._unmounted||o.props.close(t)})),(0,w.Z)((0,g.Z)(o),"_onError",(function(t){o._unmounted||o.setState({error:t,id:rt(),pending:!1})})),(0,w.Z)((0,g.Z)(o),"_upload",(function(t){o.setState({pending:!0,error:null});var e=n.g.session;if(e.server&&e.uploadFile){var r=new FormData;r.append("file",t),e.uploadFile({formData:r,callback:function(t,n){return t?o._onError(t):n&&n.filename?o._onSuccess({src:e.server+"/"+n.filename}):o._onSuccess({src:null})},showNotification:!1})}else(0,et.Z)(t).then((function(t){o._onSuccess(t)})).catch((function(t){o._onError(t)}))})),(0,w.Z)((0,g.Z)(o),"_cancel",(function(){o.props.close()})),o._img=null,o._unmounted=!1,o.state={error:null,id:rt(),pending:!1},o}return(0,M.Z)(r,[{key:"componentWillUnmount",value:function(){this._unmounted=!0}},{key:"render",value:function(){var t=this.state,e=t.id,n=t.error,r=t.pending,o=X()("editor-image-upload-editor",{pending:r,error:n}),i=z.a.t("text-editor:choose-an-image-file");return r?i=J||(J=(0,I.Z)(Q.Z,{animation:"border",role:"status"})):n&&(i=z.a.t("text-editor:error-while-uploading")),(0,I.Z)("div",{className:o},void 0,(0,I.Z)("form",{className:"editor-form"},void 0,(0,I.Z)("fieldset",{},void 0,(0,I.Z)("legend",{},void 0,z.a.t("text-editor:upload-image")),(0,I.Z)("div",{className:"editor-image-upload-editor-body"},void 0,(0,I.Z)("div",{className:"editor-image-upload-editor-label"},void 0,i),(0,I.Z)("input",{accept:"image/png,image/gif,image/jpeg,image/jpg",className:"editor-image-upload-editor-input",disabled:r,id:e,onChange:this._onSelectFile,type:"file"},e))),(0,I.Z)("div",{className:"editor-form-buttons"},void 0,(0,I.Z)(L.Z,{label:z.a.t("text-editor:cancel"),onClick:this._cancel}))))}}]),r}(N.PureComponent);function it(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,b.Z)(t);if(e){var o=(0,b.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,y.Z)(this,n)}}var at,st=function(t){(0,Z.Z)(n,t);var e=it(n);function n(){var t;(0,m.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,w.Z)((0,g.Z)(t),"title","upload-image"),(0,w.Z)((0,g.Z)(t),"content","upload-image"),t}return(0,M.Z)(n,[{key:"getEditor",value:function(){return ot}}]),n}(B),ct=n(59821),lt=n(928316),ut=n(306830),dt=n.n(ut),ft=n(877119),pt=n.n(ft),ht=n(686605),vt=n.n(ht),mt=n(521536),gt=n.n(mt),Zt=n(557106),yt=n.n(Zt),bt=n(783158),wt=n.n(bt),kt=n(615581);function _t(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,b.Z)(t);if(e){var o=(0,b.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,y.Z)(this,n)}}var Ot=16;var xt=function(t){(0,Z.Z)(n,t);var e=_t(n);function n(){return(0,m.Z)(this,n),e.apply(this,arguments)}return(0,M.Z)(n,[{key:"render",value:function(){var t=this.props,e=t.x,n=t.y,r=t.selected,o={left:e+"px",top:n+"px",width:"16px",height:"16px"},i=X()("editor-table-grid-size-editor-cell",{selected:r});return(0,I.Z)("div",{className:i,style:o})}}]),n}(N.PureComponent),St=function(t){(0,Z.Z)(n,t);var e=_t(n);function n(t){var r;return(0,m.Z)(this,n),r=e.call(this,t),(0,w.Z)((0,g.Z)(r),"_onRef",(function(t){r._ref=t})),(0,w.Z)((0,g.Z)(r),"_onMouseEnter",(function(t){var e=t.currentTarget;if(e instanceof HTMLElement){var n=(0,kt.hs)(e),o=vt()(t.clientX),i=vt()(t.clientY);r._ex=n.x,r._ey=n.y,r._mx=o,r._my=i,r._entered||(r._entered=!0,document.addEventListener("mousemove",r._onMouseMove,!0))}})),(0,w.Z)((0,g.Z)(r),"_onMouseMove",(function(t){var e=r._ref&&lt.findDOMNode(r._ref),n=e?function(t){var e=t.getBoundingClientRect();return{x:e.left,y:e.top,w:e.width,h:e.height}}(e):null,o=(0,kt.mv)(t.screenX,t.screenY,10);n&&o&&(0,kt.vY)(n,o,50)&&(t.preventDefault(),t.stopImmediatePropagation());var i=vt()(t.clientX),a=vt()(t.clientY);i===r._mx&&a===r._my||(r._mx=i,r._my=a,r._rafID&&cancelAnimationFrame(r._rafID),r._rafID=requestAnimationFrame(r._updateGridSize))})),(0,w.Z)((0,g.Z)(r),"_updateGridSize",(function(){r._rafID=0;var t=r._mx,e=r._my,n=t-r._ex,o=e-r._ey,i=pt()(gt()(o/21),1,20),a=pt()(gt()(n/21),1,20),s=r.state,c=s.rows,l=s.cols;c===i&&l===a||r.setState({rows:i,cols:a})})),(0,w.Z)((0,g.Z)(r),"_onMouseDown",(function(t){t.preventDefault(),r.props.close(r.state)})),r._ex=0,r._ey=0,r._mx=0,r._my=0,r._rafID=0,r._ref=null,r._entered=!1,r.state={rows:1,cols:1},r}return(0,M.Z)(n,[{key:"componentWillUnmount",value:function(){this._entered&&document.removeEventListener("mousemove",this._onMouseMove,!0),this._rafID&&cancelAnimationFrame(this._rafID)}},{key:"render",value:function(){var t=this.state,e=t.rows,n=t.cols,r=yt()(5,e),o=yt()(5,n);r===e&&(r=wt()(20,r+1)),o===n&&(o=wt()(20,o+1));for(var i=[],a=0,s=0,c=0,l=0;a<r;){s+=5;for(var u=0,d=0;u<o;){d+=5;var f=a<e&&u<n;i.push((0,I.Z)(xt,{selected:f,x:d,y:s},"".concat(String(a),"-").concat(String(u)))),c=(d+=Ot)+5,u++}l=(s+=Ot)+5,a++}var p={width:c+"px",height:l+"px"};return N.createElement("div",{className:"editor-table-grid-size-editor",ref:this._onRef},(0,I.Z)("div",{className:"editor-table-grid-size-editor-body",onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter,style:p,role:"button",tabIndex:0},void 0,i),(0,I.Z)("div",{className:"editor-table-grid-size-editor-footer"},void 0,(0,I.Z)("b",{},void 0,e)," ",at||(at=(0,I.Z)("i",{className:"fa fa-times"}))," ",(0,I.Z)("b",{},void 0,n)))}}]),n}(N.PureComponent);St.defaultProps={close:dt()};var Ct=St,Pt=n(871199),Et=n.n(Pt);function Rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,b.Z)(t);if(e){var o=(0,b.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,y.Z)(this,n)}}function Mt(t){if(!Et()(t))return t;var e=new Error("Received unexpected "+t);throw e.framesToPop=1,e}var Nt=function(t){(0,Z.Z)(n,t);var e=Rt(n);function n(){var t;(0,m.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o)),(0,w.Z)((0,g.Z)(t),"_popUp",null),(0,w.Z)((0,g.Z)(t),"title","insert-table"),(0,w.Z)((0,g.Z)(t),"content","insert-table"),(0,w.Z)((0,g.Z)(t),"enable",(function(t){var e=t.selection;return e instanceof i.TextSelection&&e.from===e.to})),(0,w.Z)((0,g.Z)(t),"waitForUserInput",(function(e,n,r,o){if(t._popUp)return Promise.resolve(void 0);if(!(Mt(o).target instanceof HTMLElement))return Promise.resolve(void 0);var i=o?o.target.parentElement.parentElement:null;return new Promise((function(e){t._popUp=(0,P.Z)(Ct,null,{anchor:i,position:ct.SC,onClose:function(n){t._popUp&&(t._popUp=null,e(n))}})}))})),(0,w.Z)((0,g.Z)(t),"executeWithUserInput",(function(t,e,n,r){if(e){var o=t.schema;if(r){for(var i=r.rows,a=r.cols,s=[];a--;)s.push(o.nodes.table_cell.createAndFill());for(var c=[];i--;)c.push(o.nodes.table_row.createAndFill(void 0,s));var l=o.nodes.table.createAndFill(void 0,c);e(t.tr.replaceSelectionWith(l))}}return!1})),t}return n}(C.Z),Tt=function(t){var e=t.selection;return e instanceof i.TextSelection||e instanceof i.AllSelection},Dt=function(t){var e=t.selection;return e instanceof i.TextSelection&&e.from===e.to},At=function(t){return function(e){var n=e.selection,r=n.from,o=n.$from,i=n.to;return n.empty?!!t.isInSet(e.storedMarks||o.marks()):!!e.doc.rangeHasMark(r,i,t)}},jt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=n.selection,o=r.$from,i=r.to,a=r.node;return a?a.hasMarkup(t,e):i<=o.end()&&o.parent.hasMarkup(t,e)}},Bt=function(t){return function(e,n){var r=e.schema,o=e.selection,i=function(t,e,n){var r=e.marks.fontSize;if(!r)return t;var o=n?{pt:n}:null;return(0,p.Z)(t,e,r,o)}(e.tr.setSelection(o),r,t);return!(!i.docChanged&&!i.storedMarksSet)&&(!n||n(i))}},It=function(t){return(0,v.Z)(t,"fontSize")},zt=function(t){return function(e){var n,r=e.schema.nodes.heading;return(n=r?(0,o.Tr)(r)(e.selection):e.selection)&&n.node&&n.node.attrs&&n.node.attrs.level===t}},Lt=[{title:"strong",content:l.Z.strong,enable:Tt,active:At(u.Z.marks.strong),run:(0,r.w9)(u.Z.marks.strong),hotkey:"Ctrl+B"},{title:"emphasis",content:l.Z.em,enable:Tt,active:At(u.Z.marks.em),run:(0,r.w9)(u.Z.marks.em),hotkey:"Ctrl+I"},new R],Ut=[{title:"underline",content:l.Z.underline,enable:Tt,active:At(u.Z.marks.underline),run:(0,r.w9)(u.Z.marks.underline),hotkey:"Ctrl+U"},{title:"strikethrough",content:l.Z.strikethrough,enable:Tt,active:At(u.Z.marks.strikethrough),run:(0,r.w9)(u.Z.marks.strikethrough),hotkey:"Ctrl+S"},{title:"code",content:l.Z.code,enable:Tt,active:At(u.Z.marks.code),run:(0,r.w9)(u.Z.marks.code),hotkey:"Ctrl+C"},{title:"subscript",content:l.Z.subscript,enable:Tt,active:At(u.Z.marks.subscript),run:(0,r.w9)(u.Z.marks.subscript),hotkey:"Ctrl+L"},{title:"superscript",content:l.Z.superscript,enable:Tt,active:At(u.Z.marks.superscript),run:(0,r.w9)(u.Z.marks.superscript),hotkey:"Ctrl+P"}],Vt=[{title:"change-paragraph",content:l.Z.paragraph,active:jt(u.Z.nodes.paragraph),enable:(0,r.uJ)(u.Z.nodes.paragraph),run:(0,r.uJ)(u.Z.nodes.paragraph)},{title:"change-heading-1",content:"H1",active:zt(1),enable:(0,r.uJ)(u.Z.nodes.heading,{level:1}),run:(0,r.uJ)(u.Z.nodes.heading,{level:1}),hotkey:"Shift+Ctrl+1"},{title:"change-heading-2",content:"H2",active:zt(2),enable:(0,r.uJ)(u.Z.nodes.heading,{level:2}),run:(0,r.uJ)(u.Z.nodes.heading,{level:2}),hotkey:"Shift+Ctrl+2"}],Ft=[{title:"change-heading-3",content:"Heading 3",enable:(0,r.uJ)(u.Z.nodes.heading,{level:3}),run:(0,r.uJ)(u.Z.nodes.heading,{level:3}),hotkey:"Shift+Ctrl+3"},{title:"change-heading-4",content:"Heading 4",enable:(0,r.uJ)(u.Z.nodes.heading,{level:4}),run:(0,r.uJ)(u.Z.nodes.heading,{level:4}),hotkey:"Shift+Ctrl+4"},{title:"change-heading-5",content:"Heading 5",enable:(0,r.uJ)(u.Z.nodes.heading,{level:5}),run:(0,r.uJ)(u.Z.nodes.heading,{level:5}),hotkey:"Shift+Ctrl+5"}],Ht=[{title:"wrap-block-quote",content:l.Z.blockquote,active:jt(u.Z.nodes.blockquote),enable:(0,r.ym)(u.Z.nodes.blockquote),run:(0,r.ym)(u.Z.nodes.blockquote),hotkey:"Ctrl+>"},{title:"wrap-bullet-list",content:l.Z.bullet_list,active:jt(u.Z.nodes.bullet_list),enable:(0,s.KI)(u.Z.nodes.bullet_list),run:(0,s.KI)(u.Z.nodes.bullet_list),hotkey:"Shift+Ctrl+8"},{title:"wrap-ordered-list",content:l.Z.ordered_list,active:jt(u.Z.nodes.ordered_list),enable:(0,s.KI)(u.Z.nodes.ordered_list),run:(0,s.KI)(u.Z.nodes.ordered_list),hotkey:"Shift+Ctrl+9"}],Wt=[{title:"lift-out-enclosing",content:"lift-out-enclosing",enable:r.xb,run:r.xb},{title:"join-with-above",content:"join-with-above",enable:r.MI,run:r.MI},{title:"join-with-below",content:"join-with-below",enable:r.Ig,run:r.Ig}],Gt=[new q,new st,{title:"insert-footnote",content:"insert-footnote",enable:d(u.Z.nodes.footnote),run:function(t,e){var n=u.Z.nodes.footnote.create();e(t.tr.replaceSelectionWith(n))}},{title:"insert-figure-caption",content:"insert-figure-caption",enable:Dt,run:function(t,e){var n=u.Z.nodes.figureCaption.create();e(t.tr.replaceSelectionWith(n))}},{title:"insert-table-caption",content:"insert-table-caption",enable:Dt,run:function(t,e){var n=u.Z.nodes.tableCaption.create();e(t.tr.replaceSelectionWith(n))}},{title:"insert-code-block",content:"insert-code-block",enable:d(u.Z.nodes.code_block),run:function(t,e){var n=u.Z.nodes.code_block.create();e(t.tr.replaceSelectionWith(n))}}],Kt=[{title:"undo-last-change",content:l.Z.undo,enable:a.Yw,run:a.Yw,hotkey:"Ctrl+Z"},{title:"redo-last-undone-change",content:l.Z.redo,enable:a.KX,run:a.KX,hotkey:"Ctrl+Y"},{title:"select-parent-node",content:l.Z.selectParent,run:r.N0,select:function(t){return(0,r.N0)(t)},hotkey:"Escape"}],Jt=[new Nt,{title:"insert-column-before",content:"insert-column-before",run:c.addColumnBefore},{title:"insert-column-after",content:"insert-column-after",run:c.addColumnAfter},{title:"insert-row-before",content:"insert-row-before",run:c.addRowBefore},{title:"insert-row-after",content:"insert-row-after",run:c.addRowAfter},{title:"delete-column",content:"delete-column",run:c.deleteColumn},{title:"delete-row",content:"delete-row",run:c.deleteRow},{title:"merge-cells",content:"merge-cells",run:c.mergeCells},{title:"split-cells",content:"split-cells",run:c.splitCell},{title:"toggle-header-column",content:"toggle-header-column",run:c.toggleHeaderColumn},{title:"toggle-header-row",content:"toggle-header-row",run:c.toggleHeaderRow},{title:"delete-table",content:"delete-table",run:c.deleteTable}],qt={marks:Lt,extraMarks:Ut,blocks:Vt,headers:Ft,alignment:f.ZP,wraps:Ht,fontSizes:h.map((function(t){return{title:String(t),content:String(t),run:Bt(t),enable:It}})),actions:Wt,insert:Gt,history:Kt,tableEdits:Jt}},814346:function(t,e,n){"use strict";n.d(e,{Z:function(){return gt}});var r=n(305250),o=n(960703),i=n(757343),a=n(603423),s=(n(382139),n(904730)),c=n(151119),l=n(264659),u=n(175663),d=n(750591),f=n(575630),p=(n(304531),n(319371),n(516037)),h=n(676065),v=n.n(h),m=n(925161),g=n(777866),Z=n(924285);var y=function(t,e){for(;t&&t.nodeName;){if(e(t))return t;t=t.parentElement}return null},b=n(858255),w=n(56470),k=n(673989),_=n(977162),O=n.n(_),x=n(202784),S=n(772659),C=n(871685),P=n(273783);function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,f.Z)(t);if(e){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var R=function(t){(0,u.Z)(n,t);var e=E(n);function n(){var t;(0,l.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,c.Z)((0,k.Z)(t),"_openLink",(function(e){if(e&&0===e.indexOf("#")){var n=e.substr(1),r=document.getElementById(n);if(r){var o=t.props;(0,o.onCancel)(o.editorView),(0,w.Z)(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,S.Z)(r,{scrollMode:"if-needed",behavior:"smooth"});case 2:case"end":return t.stop()}}),t)})))()}}else e&&window.open((0,C.Z)(e))})),t}return(0,s.Z)(n,[{key:"render",value:function(){var t=this.props,e=t.href,n=t.editorView,r=t.onEdit,o=t.onRemove;return(0,b.Z)("div",{className:"editor-link-tooltip"},void 0,(0,b.Z)("div",{className:"editor-link-tooltip-body"},void 0,(0,b.Z)("div",{className:"editor-link-tooltip-row"},void 0,(0,b.Z)(P.Z,{className:"editor-link-tooltip-href",label:e,onClick:this._openLink,target:"new",title:e,value:e}),(0,b.Z)(P.Z,{label:"Change",onClick:r,value:n}),(0,b.Z)(P.Z,{label:"Remove",onClick:o,value:n}))))}}]),n}(x.PureComponent),M=n(111057),N=n(59821),T=n(70698);function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,f.Z)(t);if(e){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var A={view:function(t){return new B(t)}},j=function(t){(0,u.Z)(n,t);var e=D(n);function n(){return(0,l.Z)(this,n),e.call(this,A)}return n}(p.Plugin),B=function(){function t(e){var n=this;(0,l.Z)(this,t),(0,c.Z)(this,"_anchorEl",null),(0,c.Z)(this,"_popup",null),(0,c.Z)(this,"_editor",null),(0,c.Z)(this,"_onCancel",(function(t){n.destroy(),t.focus()})),(0,c.Z)(this,"_onClose",(function(){n._anchorEl=null,n._editor=null,n._popup=null})),(0,c.Z)(this,"_onEdit",(function(t){if(!n._editor){var e=t.state,r=e.schema,o=e.doc,i=e.selection,a=i.from,s=i.to,c=r.marks.link,l=(0,Z.Z)(o,a,s,c);if(l){var u=e.tr,d=p.TextSelection.create(u.doc,l.from.pos,l.to.pos+1);u=u.setSelection(d),u=(0,m.tk)(e,u),t.dispatch(u);var f=l?l.mark.attrs.href:null;n._editor=(0,T.Z)(M.Z,{href:f},{onClose:function(e){n._editor=null,n._onEditEnd(t,i,e)}})}}})),(0,c.Z)(this,"_onRemove",(function(t){n._onEditEnd(t,t.state.selection,null)})),(0,c.Z)(this,"_onEditEnd",(function(t,e,n){var r=t.state,o=t.dispatch,i=(0,m.be)(r);if(!v()(n)){var a=r.schema,s=a.marks.link;if(s){var c=(0,Z.Z)(i.doc,e.from,e.to,s);if(c){var l=p.TextSelection.create(i.doc,c.from.pos,c.to.pos+1);i=i.setSelection(l);var u=n?{href:n}:null;i=(0,g.Z)(i,a,s,u)}}}i.setSelection(e.map(i.doc,i.mapping)),o(i),t.focus()})),this.update(e,null)}return(0,s.Z)(t,[{key:"update",value:function(t,e){if(t.readOnly)this.destroy();else{var n=t.state,r=n.doc,o=n.selection,i=n.schema.marks.link;if(i){var a=o.from,s=o.to,c=(0,Z.Z)(r,a,s,i);if(c){var l=t.domAtPos(a);if(l){var u=y(l.node,(function(t){return"A"===t.nodeName}));if(u){var d=this._popup,f={editorState:n,editorView:t,href:c.mark.attrs.href,onCancel:this._onCancel,onEdit:this._onEdit,onRemove:this._onRemove};d&&u===this._anchorEl?d.update(f):(d&&d.close(),this._anchorEl=u,this._popup=(0,T.Z)(R,f,{anchor:u,autoDismiss:!1,onClose:this._onClose,position:N.DL}))}else this.destroy()}else this.destroy()}else this.destroy()}}}},{key:"destroy",value:function(){this._popup&&this._popup.close(),this._editor&&this._editor.close()}}]),t}(),I=j,z=n(86381),L=n(770290),U=n(141396);function V(t){var e=t.doc,n=t.selection,r=t.schema,o=r.nodes.table_cell,i=r.nodes.table_header;if(!o&&!i)return null;var s=n;if(s instanceof p.TextSelection){var c=o&&(0,U.Tr)(o)(n)||i&&(0,U.Tr)(i)(n);if(!c)return null;s=a.CellSelection.create(e,c.pos)}return s instanceof a.CellSelection?function(t){var e,n=t.$anchorCell,r=n.start(-1),o=n.node(-1),i=a.TableMap.get(o),s=null,c=null;return t.forEachCell((function(t,n){var o=i.findCell(n-r);(!e||o.top>=e.top&&o.left>e.left)&&(e=o,s=n,c=t)})),null===s?null:{node:c,pos:s}}(s):null}var F=n(226010),H=n(155061),W=n(320765),G=n(550171),K=n(76882);function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,f.Z)(t);if(e){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var q=function(t){(0,u.Z)(n,t);var e=J(n);function n(){var t;(0,l.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,c.Z)((0,k.Z)(t),"onMenuMouseDown",(function(e){return function(n){n.preventDefault(),e.run&&e.run(t.props.editorState,t.props.editorView.dispatch,t.props.editorView,n.nativeEvent)}})),(0,c.Z)((0,k.Z)(t),"createDropdownButtons",(function(e,n){return(0,b.Z)(H.Z,{onMouseDown:t.onMenuMouseDown(e)},"dropdown-item-".concat(n),W.a.t("text-editor:".concat(e.content)))})),t}return(0,s.Z)(n,[{key:"render",value:function(){return(0,b.Z)(F.Z,{title:G.Z.table,variant:"outline-secondary",size:"sm",style:{display:"inline-block"}},void 0,K.ZP.tableEdits.map(this.createDropdownButtons))}}]),n}(x.PureComponent);var $=n(615581);function Y(t){var e=(0,$.hs)(t),n=e.x,r=e.y,o=e.w,i=e.h,a=o&&i&&t?t.ownerDocument.elementFromPoint(n+1,r+1):null;return!!a&&(a===t||!!t.contains(a))}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,f.Z)(t);if(e){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Q=function(){function t(e){var n=this;(0,l.Z)(this,t),(0,c.Z)(this,"destroy",(function(){n._popUp&&n._popUp.close(),n._popUp=null})),(0,c.Z)(this,"_onOpen",(function(){var t=n._cellElement;t&&(n._scrollHandle=function(t,e){if(t){for(var n=t.ownerDocument.defaultView,r=[],o=0,i=function(){o&&cancelAnimationFrame(o),o=requestAnimationFrame(e)},a=t;a;){var s=n.getComputedStyle(a).overflow;(i&&"auto"===s||"scroll"===s)&&(a.addEventListener("scroll",i,!1),r.push(a)),a=a.parentElement}return{dispose:function(){for(;i&&r.length;)(a=r.pop())&&a.removeEventListener("scroll",i,!1);i=null,o&&window.cancelAnimationFrame(o),o=0}}}}(t,n._onScroll))})),(0,c.Z)(this,"_onClose",(function(){n._popUp=null,n._scrollHandle&&n._scrollHandle.dispose(),n._scrollHandle=null})),(0,c.Z)(this,"_onScroll",(function(){var t=n._popUp,e=n._cellElement;t&&e&&(Y(e)||t.close())})),this._cellElement=null,this._popUp=null,this._scrollHandle=null,this.update(e,null)}return(0,s.Z)(t,[{key:"update",value:function(t,e){var n=t.state,r=t.readOnly,o=V(n);if(o&&!r){var i=t.domAtPos(o.pos+1);if(i){var a=i.node,s=this._popUp,c={editorState:n,editorView:t};a&&!Y(a)&&(a=null),a?s&&a===this._cellElement?s.update(c):(s&&s.close(),this._cellElement=a,this._popUp=(0,T.Z)(q,c,{anchor:a,autoDismiss:!1,onClose:this._onClose,position:N.ID}),this._onOpen()):(s&&s.close(),this._cellElement=null)}else this.destroy()}else this.destroy()}}]),t}(),tt={view:function(t){return new Q(t)}},et=function(t){(0,u.Z)(n,t);var e=X(n);function n(){return(0,l.Z)(this,n),e.call(this,tt)}return n}(p.Plugin),nt=n(268874),rt=n(919353),ot=n(642777),it=n(260593),at=n(414256),st=n(437069),ct=n.n(st),lt=n(607125),ut=n(828919),dt=function(t,e){var n=ut.Z.nodes.hard_break.create();return e(t.tr.replaceSelectionWith(n).scrollIntoView()),!0},ft={"Alt-ArrowDown":rt.Ig,"Alt-ArrowUp":rt.MI,"Ctrl-Enter":(0,rt.QF)(rt.uo,dt),"Mod->":(0,rt.ym)(ut.Z.nodes.blockquote),"Mod-_":function(t,e){var n=ut.Z.nodes.horizontal_rule.create();return e(t.tr.replaceSelectionWith(n).scrollIntoView()),!0},"Mod-[":(0,at.IB)(ut.Z.nodes.list_item),"Mod-]":(0,at.bw)(ut.Z.nodes.list_item),"Mod-b":(0,rt.w9)(ut.Z.marks.strong),"Mod-BracketLeft":rt.xb,"Mod-Enter":(0,rt.QF)(rt.uo,dt),"Mod-i":(0,rt.w9)(ut.Z.marks.em),"Mod-u":(0,rt.w9)(ut.Z.marks.underline),"Mod-c":(0,rt.w9)(ut.Z.marks.code),"Mod-l":(0,rt.w9)(ut.Z.marks.subscript),"Mod-s":(0,rt.w9)(ut.Z.marks.strikethrough),"Mod-p":(0,rt.w9)(ut.Z.marks.superscript),"Mod-y":i.KX,"Mod-z":i.Yw,"Shift-Ctrl-\\":(0,rt.uJ)(ut.Z.nodes.code_block),"Shift-Ctrl-0":(0,rt.uJ)(ut.Z.nodes.paragraph),"Shift-Ctrl-1":(0,rt.uJ)(ut.Z.nodes.heading,{level:1}),"Shift-Ctrl-2":(0,rt.uJ)(ut.Z.nodes.heading,{level:2}),"Shift-Ctrl-3":(0,rt.uJ)(ut.Z.nodes.heading,{level:3}),"Shift-Ctrl-4":(0,rt.uJ)(ut.Z.nodes.heading,{level:4}),"Shift-Ctrl-5":(0,rt.uJ)(ut.Z.nodes.heading,{level:5}),"Shift-Ctrl-6":(0,rt.uJ)(ut.Z.nodes.heading,{level:6}),"Shift-Ctrl-8":(0,at.KI)(ut.Z.nodes.bullet_list),"Shift-Ctrl-9":(0,at.KI)(ut.Z.nodes.ordered_list),"Shift-Enter":(0,rt.QF)(rt.uo,dt),"Alt-Ctrl-l":lt.H_,"Alt-Ctrl-r":lt.cP,"Alt-Ctrl-c":lt.A8,"Alt-Ctrl-j":lt.nx,"Shift-Mod-z":i.KX,"Shift-Tab":(0,a.goToNextCell)(-1),Backspace:ot.dU,Enter:(0,at.s6)(ut.Z.nodes.list_item),Escape:rt.N0,Tab:(0,a.goToNextCell)(1)};ct()(rt.YR).forEach((function(t){ft[t]?ft[t]=(0,rt.QF)(ft[t],rt.YR[t]):ft[t]=rt.YR[t]}));var pt=(0,it.h)(ft),ht=n(711746);n(283946);function vt(t,e,n){return new ot.VK(t,(function(t,r,o,i){var a=n instanceof Function?n(r):n,s=t.tr;if(r[1]){var c=o+r[0].indexOf(r[1]),l=c+r[1].length;l<i&&s.delete(l,i),c>o&&s.delete(o,c),i=o+r[1].length}return s.addMark(o,i,e.create(a)),s.removeStoredMark(e),s}))}var mt=(0,ot.Hw)({rules:[].concat((0,ht.Z)(ot.yR),[ot.LH,ot.pR,(0,ot.S0)(/^\s*>\s$/,ut.Z.nodes.blockquote),(0,ot.S0)(/^(\d+)\.\s$/,ut.Z.nodes.ordered_list,(function(t){return{order:+t[1]}}),(function(t,e){return e.childCount+e.attrs.order===+t[1]})),(0,ot.S0)(/^\s*([-+*])\s$/,ut.Z.nodes.bullet_list),(0,ot.zK)(/^```$/,ut.Z.nodes.code_block),vt(/(?:^|[^`])`([^`]+)`$/,ut.Z.marks.code),vt(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,ut.Z.marks.strong),vt(/(?:^|[^*_])(?:\*|_)([^*_]+)(?:\*|_)$/,ut.Z.marks.em),vt(/(?:\+\+)([^+]+)(?:\+\+)$/,ut.Z.marks.underline),vt(/(?:~~)([^~]+)(?:~~)$/,ut.Z.marks.strikethrough),(0,ot.zK)(new RegExp("^(#{1,6})\\s$"),ut.Z.nodes.heading,(function(t){return{level:t[1].length}}))])}),gt=[new L.Z,new I,new m.ZP,new z.ZP,mt,pt,(0,r.q)(),(0,o.d)(),(0,i.m8)(),(0,a.columnResizing)({}),new et,(0,a.tableEditing)(),(0,nt.ZP)()];document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)},871685:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=/^http(s?):*\/\//i;function o(t){return t?r.test(t)?t:"http://"+t:"http://"}},828919:function(t,e,n){"use strict";n.d(e,{Z:function(){return ft}});var r=n(867696),o={attrs:{href:{},target:{default:"blank"},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(t){var e=t.getAttribute("href"),n=e&&0===e.indexOf("#")?"":"blank";return{href:t.getAttribute("href"),title:t.getAttribute("title"),target:n}}}],toDOM:function(t){var e=t.attrs;return["a",{href:e.href,title:e.title,target:e.target},0]}},i={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}},a={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(t){return"normal"!==t.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(t){return/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}}],toDOM:function(){return["strong",0]}},s={parseDOM:[{tag:"code"}],toDOM:function(){return["code",0]}},c={excludes:"superscript",parseDOM:[{tag:"sub"},{style:"vertical-align=sub"}],toDOM:function(){return["sub"]}},l={attrs:{color:""},inline:!0,group:"inline",parseDOM:[{style:"color",getAttrs:function(t){return{color:t}}}],toDOM:function(t){var e=t.attrs.color,n="";return e&&(n+="color: ".concat(e,";")),["span",{style:n},0]}},u=(n(21466),n(762850),n(462773),n(32593)),d=n.n(u),f=n(395465),p=n.n(f),h=n(70332),v=/([\d.]+)(px|pt)/i;function m(t){var e=function(t){var e=t.match(v);if(!e)return 0;var n=parseFloat(e[1]),r=e[2];return n&&r?("px"===r&&(n*=.7518796992481203),n):0}(t);return h.includes(e)?e:h.reduce((function(t,n){return d()(n-e)<d()(t-e)?n:t}),p())}var g={link:o,code:s,em:i,fontSize:{attrs:{pt:{default:null}},inline:!0,group:"inline",parseDOM:[{style:"font-size",getAttrs:function(t){var e={};if(!t)return e;var n=m(t);if(!n)return e;return{pt:n}}}],toDOM:function(t){var e=t.attrs.pt;return["span",e?{style:"font-size: ".concat(e,"pt;"),class:"pm-font-size-mark"}:null,0]}},strikethrough:{parseDOM:[{tag:"strike"},{style:"text-decoration:line-through"},{style:"text-decoration-line:line-through"}],toDOM:function(){return["strike"]}},strong:a,subscript:c,superscript:{excludes:"subscript",parseDOM:[{tag:"sup"},{style:"vertical-align=super"}],toDOM:function(){return["sup"]}},textColor:l,underline:{parseDOM:[{tag:"u"},{style:"text-decoration:underline",getAttrs:function(t){return"underline"===t&&null}}],toDOM:function(){return["u",0]}}},Z=(n(627476),n(95767),n(898837),n(694882),n(298351),n(151119)),y=n(603423),b=(n(798184),n(39115),n(296253),n(856997),n(991181),/(left|right|center|justify)/),w="data-indent",k=new Set(["","0%","0pt","0px"]);function _(t){var e=t.style,n=e.textAlign,r=e.paddingTop,o=e.paddingBottom,i=t.getAttribute("align")||n||"";return{align:i=b.test(i)?i:null,indent:parseInt(t.getAttribute(w),10),paddingTop:r,paddingBottom:o,id:t.getAttribute("id")||""}}function O(t){var e=t.attrs,n=e.align,r=e.indent,o=e.paddingTop,i=e.paddingBottom,a=e.id,s={},c="";return n&&"left"!==n&&(c+="text-align: ".concat(n,";")),o&&!k.has(o)&&(c+="padding-top: ".concat(o,";")),i&&!k.has(i)&&(c+="padding-bottom: ".concat(i,";")),c&&(s.style=c),r&&(s["data-indent"]=String(r)),a&&(s.id=a),["p",s,0]}var x=O,S=_,C={attrs:{align:{default:null},color:{default:null},id:{default:null},indent:{default:null},lineSpacing:{default:null},paddingBottom:{default:null},paddingTop:{default:null}},content:"inline*",group:"block",parseDOM:[{tag:"p",getAttrs:_}],toDOM:O};function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){(0,Z.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var R={H1:1,H2:2,H3:3,H4:4,H5:5,H6:6};function M(t){var e=S(t),n=R[t.nodeName.toUpperCase()]||1;return e.level=n,e}var N=E(E({},C),{},{attrs:E(E({},C.attrs),{},{level:{default:1}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:M},{tag:"h2",getAttrs:M},{tag:"h3",getAttrs:M},{tag:"h4",getAttrs:M},{tag:"h5",getAttrs:M},{tag:"h6",getAttrs:M}],toDOM:function(t){var e=x(t),n=t.attrs.level||1;return e[0]="h".concat(n),e}}),T={group:"inline",content:"inline*",inline:!0,atom:!0,toDOM:function(){return["footnote",0]},parseDOM:[{tag:"footnote"}]};function D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){(0,Z.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var j=A(A({},C),{},{attrs:A({},C.attrs),content:"inline*",group:"block",defining:!0,toDOM:function(t){var e=x(t);return e[0]="legend",e[1].class="figure-caption",e},parseDOM:[{tag:"legend",getAttrs:function(t){return S(t)}}]});function B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){(0,Z.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var z=I(I({},C),{},{attrs:I({},C.attrs),content:"inline*",group:"block",defining:!0,toDOM:function(t){var e=x(t);return e[0]="legend",e[1].class="table-caption",e},parseDOM:[{tag:"legend",getAttrs:function(t){return S(t)}}]}),L=/rotate\(([0-9.]+)rad\)/i,U=new Set(["0%","0pt","0px"]);function V(t){var e=t.style,n=e.cssFloat,r=e.display,o=e.marginTop,i=e.marginLeft,a=t.style,s=a.width,c=a.height,l=t.getAttribute("data-align")||t.getAttribute("align");l?l=/(left|right|center)/.test(l)?l:null:"left"!==n||r?"right"!==n||r?n||"block"!==r||(l="block"):l="right":l="left",s=s||t.getAttribute("width"),c=c||t.getAttribute("height");var u=null,d=null,f=t.parentElement;if(f instanceof HTMLElement){var p=f.style;if("inline-block"===p.display&&"hidden"===p.overflow&&p.width&&p.height&&i&&!U.has(i)&&o&&!U.has(o)&&(u={width:parseInt(p.width,10)||0,height:parseInt(p.height,10)||0,left:parseInt(i,10)||0,top:parseInt(o,10)||0}),p.transform){var h=p.transform.match(L);h&&h[1]&&(d=parseFloat(h[1])||null)}}return{align:l,alt:t.getAttribute("alt")||null,crop:u,height:parseInt(c,10)||null,rotate:d,src:t.getAttribute("src")||null,title:t.getAttribute("title")||null,width:parseInt(s,10)||null}}var F=V,H={inline:!0,attrs:{align:{default:null},alt:{default:"An inserted image"},crop:{default:null},height:{default:null},rotate:{default:null},src:{default:null},title:{default:"None"},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:V}],toDOM:function(t){return["img",t.attrs]}};function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach((function(e){(0,Z.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var K={attrs:{src:{},plotID:{default:null},align:{default:null},alt:{default:""},crop:{default:null},title:{default:""},meta:{default:null},width:{default:null},height:{default:null},rotate:{default:null}},inline:!0,group:"inline",draggable:!0,toDOM:function(t){return["div",{class:"img-container","data-plot-id":t.attrs.plotID,align:t.attrs.align},["img",{src:t.attrs.src,align:t.attrs.align,alt:t.attrs.alt,crop:t.attrs.crop,title:t.attrs.title,width:t.attrs.width,height:t.attrs.height,rotate:t.attrs.rotate}],["pre",{class:"img-tooltip"},t.attrs.meta]]},parseDOM:[{priority:51,tag:"div[data-plot-id]",getAttrs:function(t){var e=t.getAttribute("data-plot-id"),n=t.firstChild,r=F(n),o=t.lastChild.innerText;return G(G({},r),{},{meta:o,plotID:e})}}]};function J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(Object(n),!0).forEach((function(e){(0,Z.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var $={attrs:{src:{},plotID:{default:null},align:{default:null},alt:{default:""},crop:{default:null},title:{default:""},meta:{default:null},width:{default:null},height:{default:null},rotate:{default:null}},inline:!0,group:"inline",draggable:!0,toDOM:function(t){return["div",{class:"img-container","data-plot-id":t.attrs.plotID,align:t.attrs.align},["img",{src:t.attrs.src,align:t.attrs.align,alt:t.attrs.alt,crop:t.attrs.crop,title:t.attrs.title,width:t.attrs.width,height:t.attrs.height,rotate:t.attrs.rotate}],["pre",{class:"img-tooltip"},t.attrs.meta]]},parseDOM:[{priority:51,tag:"img[data-plot-id]",getAttrs:function(t){var e=t.getAttribute("align"),n=t.getAttribute("width"),r=F(t);e||(r.align="center"),n||(r.width=550);var o=t.getAttribute("data-plot-id"),i=t.getAttribute("data-plot-meta");return q(q({},r),{},{meta:i,plotID:o})}}]},Y={content:"block+"},X={content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}},Q={group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["hr"]}},tt={content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return["pre",["code",0]]}},et={group:"inline"},nt={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}},rt=n(414256);function ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(n),!0).forEach((function(e){(0,Z.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function at(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?at(Object(n),!0).forEach((function(e){(0,Z.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){(0,Z.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ut(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var dt=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(n),!0).forEach((function(e){(0,Z.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({doc:Y,plot:$,plotContainer:K,footnote:T,paragraph:C,ordered_list:it(it({},rt.dq),{},{content:"list_item+",group:"block"}),bullet_list:st(st({},rt.iI),{},{content:"list_item+",group:"block"}),list_item:lt(lt({},rt.qb),{},{content:"paragraph block*",group:"block"}),blockquote:X,horizontal_rule:Q,heading:N,code_block:tt,text:et,image:H,hard_break:nt,figureCaption:j,tableCaption:z},(0,y.tableNodes)({tableGroup:"block",cellContent:"block+"})),ft=new r.Schema({nodes:dt,marks:g})},925161:function(t,e,n){"use strict";n.d(e,{tk:function(){return g},be:function(){return Z}});n(382139);var r=n(264659),o=n(673989),i=n(175663),a=n(750591),s=n(575630),c=(n(319371),n(52310),n(762850),n(462773),n(516037)),l=n(506565);function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,s.Z)(t);if(e){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var d={name:"SelectionPlaceholderPlugin"},f=null,p={state:{init:function(){return l.EH.empty},apply:function(t,e){e=e.map(t.mapping,t.doc);var n=t.getMeta(this);if(!n)return e;if(n.add){var r=l.p.inline(n.add.from,n.add.to,{class:"selection-placeholder"},{id:d});e=e.add(t.doc,[r])}else if(n.remove){var o=e.find(null,null,v);e=e.remove(o)}return e}},props:{decorations:function(t){return f?f.getState(t):null}}},h=function(t){(0,i.Z)(n,t);var e=u(n);function n(){var t;return(0,r.Z)(this,n),t=e.call(this,p),f?(0,a.Z)(t,f):(f=(0,o.Z)(t),t)}return n}(c.Plugin);function v(t){return t.id===d}function m(t){if(!f)return null;if(!t.plugins.includes(f))return null;var e=f.getState(t).find(null,null,v);return(e.length?e[0]:null)||null}function g(t,e){e=e||t.tr;var n=f;return n&&e.selection&&!e.selection.empty?(null===m(t)&&(e=e.setMeta(n,{add:{from:e.selection.from,to:e.selection.to}})),e):e}function Z(t,e){e=e||t.tr;var n=f;return n?(m(t)&&(e=e.setMeta(n,{remove:{}})),e):e}e.ZP=h},607125:function(t,e,n){"use strict";n.d(e,{H_:function(){return d},A8:function(){return f},cP:function(){return p},nx:function(){return h}});var r=n(151119),o=(n(798184),n(39115),n(296253),n(856997),n(991181),n(627476),n(95767),n(898837),n(694882),n(298351),n(516037)),i=n(550171);function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var c=function(t){var e=t.selection;return e instanceof o.TextSelection||e instanceof o.AllSelection},l=function(t,e,n){var r=t,o=r.selection,i=r.doc;if(!o||!i)return t;var a=o.from,c=o.to,l=e.nodes,u=l.blockquote,d=l.list_item,f=l.heading,p=l.paragraph,h=[];n=n||null;var v=new Set([u,f,d,p]);return i.nodesBetween(a,c,(function(t,e,r){var o=t.type;return(t.attrs.align||null)!==n&&v.has(o)&&h.push({node:t,pos:e,nodeType:o}),!0})),h.length?(h.forEach((function(e){var r=e.node,o=e.pos,i=e.nodeType,a=r.attrs;a=s(s({},a),{},n?{align:n}:{align:null}),t=t.setNodeMarkup(o,i,a,r.marks)})),t):t},u=function(t){return function(e){var n=e.selection,r=e.doc,o=n.from,i=n.to,a=!0,s=!1;return r.nodesBetween(o,i,(function(e,n){return a&&e.attrs.align===t&&(a=!1,s=!0),a})),s}};function d(t,e){var n=t.schema,r=t.selection,o=l(t.tr.setSelection(r),n,"left");return!!o.docChanged&&(e&&e(o))}function f(t,e){var n=t.schema,r=t.selection,o=l(t.tr.setSelection(r),n,"center");return!!o.docChanged&&(e&&e(o))}function p(t,e){var n=t.schema,r=t.selection,o=l(t.tr.setSelection(r),n,"right");return!!o.docChanged&&(e&&e(o))}function h(t,e){var n=t.schema,r=t.selection,o=l(t.tr.setSelection(r),n,"justify");return!!o.docChanged&&(e&&e(o))}var v=[{title:"align-left",content:i.Z.alignLeft,enable:c,active:u("left"),run:d,hotkey:"Ctrl+Alt+L"},{title:"align-center",content:i.Z.alignCenter,enable:c,active:u("center"),run:f,hotkey:"Ctrl+Alt+C"},{title:"align-right",content:i.Z.alignRight,enable:c,active:u("right"),run:p,hotkey:"Ctrl+Alt+R"},{title:"justified",content:i.Z.alignJustify,enable:c,active:u("justify"),run:h,hotkey:"Ctrl+Alt+J"}];e.ZP=v},70698:function(t,e,n){"use strict";n.d(e,{Z:function(){return D}});var r=n(858255),o=(n(95767),n(530522),n(39115),n(296253),n(856997),n(991181),n(111246),n(440856),n(202784)),i=n(928316),a=(n(382139),n(607560)),s=n(264659),c=n(904730),l=n(673989),u=n(175663),d=n(750591),f=n(575630),p=n(151119),h=(n(850110),n(6059),n(574315)),v=(n(388416),n(798184),n(615581)),m=n(877119),g=n.n(m);function Z(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var b={x:-1e4,y:-1e4,w:0,h:0},w=new(function(){function t(){var e=this;(0,s.Z)(this,t),(0,p.Z)(this,"_bridges",new Map),(0,p.Z)(this,"_positions",new Map),(0,p.Z)(this,"_mx",0),(0,p.Z)(this,"_my",0),(0,p.Z)(this,"_rafID",0),(0,p.Z)(this,"_onScroll",(function(){e._rafID&&cancelAnimationFrame(e._rafID),e._rafID=requestAnimationFrame(e._syncPosition)})),(0,p.Z)(this,"_onResize",(function(t){e._rafID&&cancelAnimationFrame(e._rafID),e._rafID=requestAnimationFrame(e._syncPosition)})),(0,p.Z)(this,"_onMouseChange",(function(t){e._mx=Math.round(t.clientX),e._my=Math.round(t.clientY),e._rafID&&cancelAnimationFrame(e._rafID),e._rafID=requestAnimationFrame(e._syncPosition)})),(0,p.Z)(this,"_onClick",(function(t){var n,r,o=Date.now(),i=Z(e._bridges);try{for(i.s();!(r=i.n()).done;){var a=(0,h.Z)(r.value,2),s=a[0];if(o-a[1]>350){var c=s.getDetails();c.modal&&c.autoDismiss&&(n=c)}}}catch(m){i.e(m)}finally{i.f()}if(n){var l=n,u=l.body,d=l.close,f=(0,v.mv)(t.clientX,t.clientY,1),p=u?(0,v.hs)(u):null;p&&(0,v.vY)(f,p)||d()}})),(0,p.Z)(this,"_syncPosition",(function(){e._rafID=0;var t,n=new Map,r=Z(e._bridges);try{for(r.s();!(t=r.n()).done;){var o=(0,h.Z)(t.value,2),i=o[0],a=(o[1],i.getDetails());n.set(i,a);var s=a.anchor,c=a.body;c instanceof HTMLElement&&(a.bodyRect=(0,v.hs)(c)),s instanceof HTMLElement&&(a.anchorRect=(0,v.hs)(s))}}catch(Q){r.e(Q)}finally{r.f()}var l,u=(0,v.mv)(e._mx,e._my,2),d=new Set,f=Z(n);try{for(f.s();!(l=f.n()).done;){var p=(0,h.Z)(l.value,2),m=p[0],y=p[1],w=y.anchor,k=y.bodyRect,_=y.anchorRect,O=y.position,x=y.body;if(k||_){var S=O(_,k),C=S.x,P=S.y,E="".concat(C,"-").concat(P);if(x&&k&&e._positions.get(m)!==E){var R=_?g()(0,_.x-C+_.w/2,k.w-_.w/2):0;e._positions.set(m,E);var M=x.style;M.position="absolute",M.left="".concat(C,"px"),M.top="".concat(P,"px"),M.setProperty("--editor-pop-up-anchor-offset-left","".concat(R,"px")),k.x=C,k.y=P}((0,v.vY)(u,k||b,0)||(0,v.vY)(u,_||b,0))&&w&&d.add(w)}}}catch(Q){f.e(Q)}finally{f.f()}for(;;){var N,T=d.size,D=Z(n);try{for(D.s();!(N=D.n()).done;){var A,j=(0,h.Z)(N.value,2),B=(j[0],j[1]),I=B.anchor,z=B.body,L=Z(d);try{for(L.s();!(A=L.n()).done;){var U=A.value;I&&z&&!d.has(I)&&z.contains(U)&&d.add(I)}}catch(Q){L.e(Q)}finally{L.f()}}}catch(Q){D.e(Q)}finally{D.f()}if(d.size===T)break}var V,F=Date.now(),H=Z(e._bridges);try{for(H.s();!(V=H.n()).done;){var W=(0,h.Z)(V.value,2),G=W[0],K=W[1],J=n.get(G);if(J){var q=J.autoDismiss,$=J.anchor,Y=J.close,X=J.modal;q&&!X&&F-K>350&&!d.has($)&&Y()}}}catch(Q){H.e(Q)}finally{H.f()}}))}return(0,c.Z)(t,[{key:"register",value:function(t){this._bridges.set(t,Date.now()),this._positions.set(t,null),1===this._bridges.size&&this._observe(),this._rafID=requestAnimationFrame(this._syncPosition)}},{key:"unregister",value:function(t){this._bridges.delete(t),this._positions.delete(t),0===this._bridges.size&&this._unobserve(),this._rafID&&cancelAnimationFrame(this._rafID)}},{key:"_observe",value:function(){document.addEventListener("mousemove",this._onMouseChange,!1),document.addEventListener("mouseup",this._onMouseChange,!1),document.addEventListener("click",this._onClick,!1),window.addEventListener("scroll",this._onScroll,!0),window.addEventListener("resize",this._onResize,!0)}},{key:"_unobserve",value:function(){document.removeEventListener("mousemove",this._onMouseChange,!1),document.removeEventListener("mouseup",this._onMouseChange,!1),document.removeEventListener("click",this._onClick,!1),window.removeEventListener("scroll",this._onScroll,!0),window.removeEventListener("resize",this._onResize,!0),this._rafID&&cancelAnimationFrame(this._rafID)}}]),t}()),k=n(59821),_=n(427249);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,f.Z)(t);if(e){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var x=(0,_.Z)("popup"),S=function(t){(0,u.Z)(n,t);var e=O(n);function n(t){var r;return(0,s.Z)(this,n),r=e.call(this,t),(0,p.Z)((0,l.Z)(r),"_getDetails",(function(){var t=r.props,e=t.close,n=t.popUpParams,o=n.anchor,i=n.autoDismiss,a=n.position,s=n.modal;return{anchor:o,autoDismiss:!1!==i,body:document.getElementById(r._id),close:e,modal:!0===s,position:a||(s?k.Oi:k.SC)}})),r._bridge=null,r._id=x(),r}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){this._bridge={getDetails:this._getDetails},w.register(this._bridge)}},{key:"componentWillUnmount",value:function(){this._bridge&&w.unregister(this._bridge)}},{key:"render",value:function(){var t=this.props,e=t.View,n=t.viewProps,i=t.close;return(0,r.Z)("div",{"data-pop-up-id":this._id,id:this._id},void 0,o.createElement(e,(0,a.Z)({},n||{},{close:i})))}}]),n}(o.PureComponent),C=(0,_.Z)("create-popup"),P=0,E=0,R="pop-up-modal-mask-"+C();function M(){var t=document.getElementById(R);t&&t.parentElement&&t.parentElement.removeChild(t)}function N(t,e,n,r){var o=n&&n.container||document.body||document.documentElement,i=document.getElementById(t);if(!i&&e&&(i=document.createElement("div")),!i)return null;n&&n.modal&&i.setAttribute("data-pop-up-modal","y"),i.className="pop-up-element vars",i.id=t;var a=i.style,s=n&&n.modal?1:0;return n&&n.container||(a.zIndex=1005+3*E+s),r&&(a.zIndex+=r),i.setAttribute("role","dialog"),i.setAttribute("aria-modal","true"),o&&!i.parentElement&&o.appendChild(i),i}function T(t,e,o,a,s){var c=0,l=document.getElementsByClassName("editorview-wrapper fullscreen");n.g.DOM=l,l[0]&&(c+=1e3);var u=N(t,!0,s,c);if(u){var d=(0,r.Z)(S,{View:o,close:e,popUpParams:s,viewProps:a});i.render(d,u)}P>0?function(){var t=document.body||document.documentElement,e=document.getElementById(R);e||((e=document.createElement("div")).id=R,e.className="pop-up-modal-mask",e.setAttribute("data-mask-type","pop-up-modal-mask"),e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true")),t&&!e.parentElement&&t.appendChild(e);var n=e.style,r=Array.from(document.querySelectorAll(".pop-up-element[data-pop-up-modal]")).reduce((function(t,e){return Math.max(t,Number(e.style.zIndex))}),0);n.zIndex=r-1}():M()}function D(t,e,n){var r=C(),o=null,a=e;e=e||{};var s=(n=n||{}).modal||!n.anchor;n.modal=s,E++,s&&P++;var c=function(t){if(o){s&&P--,E--,o=null,function(t){var e=N(t,!1);e&&(i.unmountComponentAtNode(e),e.parentElement&&e.parentElement.removeChild(e)),0===P&&M()}(r);var e=n&&n.onClose;e&&e(t)}},l=T.bind(null,r,c,t),u={};return o={close:c,update:function(t){l((a=t)||u,n||u)}},l(a||u,n||u),o}},273783:function(t,e,n){"use strict";n.d(e,{Z:function(){return P}});n(382139);var r=n(858255),o=n(607560),i=n(454530),a=n(264659),s=n(904730),c=n(175663),l=n(750591),u=n(575630),d=n(673989),f=n(151119),p=n(72779),h=n.n(p),v=n(202784),m=n(171696);function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.Z)(t);if(e){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var Z=function(t){(0,c.Z)(n,t);var e=g(n);function n(t){var r;return(0,a.Z)(this,n),r=e.call(this,t),(0,f.Z)((0,d.Z)(r),"_onMouseEnter",(function(t){r._pressedTarget=null,t.preventDefault();var e=r.props,n=e.onMouseEnter,o=e.value;n&&n(o,t)})),(0,f.Z)((0,d.Z)(r),"_onMouseLeave",(function(t){r._pressedTarget=null;var e=t;r._onMouseUpCapture(e)})),(0,f.Z)((0,d.Z)(r),"_onMouseDown",(function(t){t.preventDefault(),r._pressedTarget=null,r._clicked=!1,3!==t.which&&2!==t.button&&(r.setState({pressed:!0}),r._pressedTarget=t.currentTarget,r._clicked=!1,r._mul||(document.addEventListener("mouseup",r._onMouseUpCapture,!0),r._mul=!0))})),(0,f.Z)((0,d.Z)(r),"_onMouseUp",(function(t){if(t.preventDefault(),r._clicked||"keypress"===t.type){var e=r.props,n=e.onClick,o=e.value;!e.disabled&&n&&n(o,t)}r._pressedTarget=null,r._clicked=!1})),(0,f.Z)((0,d.Z)(r),"_onMouseUpCapture",(function(t){r._mul&&(r._mul=!1,document.removeEventListener("mouseup",r._onMouseUpCapture,!0));var e=t.target;r._clicked=r._pressedTarget instanceof HTMLElement&&e instanceof HTMLElement&&(e===r._pressedTarget||e.contains(r._pressedTarget)||r._pressedTarget.contains(e)),r.setState({pressed:!1})})),r._clicked=!1,r._mul=!1,r._pressedTarget=null,r._unmounted=!1,r.state={pressed:!1},r}return(0,s.Z)(n,[{key:"componentWillUnmount",value:function(){this._unmounted=!0,this._mul&&(this._mul=!1,document.removeEventListener("mouseup",this._onMouseUpCapture,!0))}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.disabled,o=t.active,i=t.id,a=t.style,s=t.title,c=t.children,l=this.state.pressed,u=h()(e,{active:o,disabled:n,pressed:l});return(0,r.Z)("span",{"aria-disabled":n,"aria-pressed":l,className:u,disabled:n,id:i,onKeyPress:n?m.Z:this._onMouseUp,onMouseDown:n?m.Z:this._onMouseDown,onMouseEnter:n?m.Z:this._onMouseEnter,onMouseLeave:n?null:this._onMouseLeave,onMouseUp:n?m.Z:this._onMouseUp,role:"button",style:a,tabIndex:n?null:0,title:s},void 0,c)}}]),n}(v.PureComponent),y=n(427249),b=n(70698),w=n(59821);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.Z)(t);if(e){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var _=(0,y.Z)("tooltip-surface"),O=function(t){(0,c.Z)(n,t);var e=k(n);function n(){return(0,a.Z)(this,n),e.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var t=this.props.tooltip;return(0,r.Z)("div",{className:"editor-tooltip-view editor-animation-fade-in"},void 0,t)}}]),n}(v.PureComponent),x=function(t){(0,c.Z)(n,t);var e=k(n);function n(t){var r;return(0,a.Z)(this,n),r=e.call(this,t),(0,f.Z)((0,d.Z)(r),"_onMouseEnter",(function(){if(!r._popUp){var t=r.props.tooltip;r._popUp=(0,b.Z)(O,{tooltip:t},{anchor:document.getElementById(r._id),onClose:r._onClose,position:w.lS})}})),(0,f.Z)((0,d.Z)(r),"_onMouseLeave",(function(){r._popUp&&r._popUp.close(),r._popUp=null})),(0,f.Z)((0,d.Z)(r),"_onClose",(function(){r._popUp=null})),r._id=_(),r._popUp=null,r}return(0,s.Z)(n,[{key:"componentWillUnmount",value:function(){this._popUp&&this._popUp.close()}},{key:"render",value:function(){var t=this.props,e=t.tooltip,n=t.children;return(0,r.Z)("span",{"aria-label":e,className:"editor-tooltip-surface","data-tooltip":e,id:this._id,onMouseDown:e&&this._onMouseLeave,onMouseEnter:e&&this._onMouseEnter,onMouseLeave:e&&this._onMouseLeave,role:"tooltip"},void 0,n)}}]),n}(v.PureComponent),S=["icon","label","className","title"];function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,u.Z)(t);if(e){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var P=function(t){(0,c.Z)(n,t);var e=C(n);function n(){return(0,a.Z)(this,n),e.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var t=this.props,e=t.icon,n=t.label,a=t.className,s=t.title,c=(0,i.Z)(t,S),l=h()(a,"editor-custom-button",{"use-icon":!!e});return(0,r.Z)(x,{tooltip:s},void 0,v.createElement(Z,(0,o.Z)({},c,{className:l}),e,n))}}]),n}(v.PureComponent)},291798:function(t,e,n){"use strict";n.d(e,{Z:function(){return kt}});n(382139),n(627476),n(95767),n(898837),n(694882),n(298351);var r=n(417760),o=n(858255),i=n(56470),a=n(264659),s=n(904730),c=n(673989),l=n(175663),u=n(750591),d=n(575630),f=n(151119),p=(n(319371),n(977162)),h=n.n(p),v=n(72779),m=n.n(v),g=n(202784),Z=n(928316),y=n(427249),b=n(320765),w=(n(798184),n(39115),n(296253),n(856997),n(991181),n(850110),n(6059),n(530522),n(489375),Object.freeze({from:0,to:0}));function k(t){if(!window.getSelection)return console.warn("window.getSelection() is not supported"),w;var e=window.getSelection();if(!e.containsNode)return console.warn("selection.containsNode() is not supported"),w;if(!e.rangeCount)return w;var n=e.getRangeAt(0);if(!n)return w;var r=n.startContainer,o=n.endContainer,i=n.startOffset,a=n.endOffset;return r===t||o===t||r&&t.contains(r)||o&&t.contains(o)?{from:i,to:a}:w}var _=function(){function t(e){var n=this;(0,a.Z)(this,t),(0,f.Z)(this,"_observables",[]),(0,f.Z)(this,"_callback",null),(0,f.Z)(this,"_onClick",(function(){var t=n._callback;if(n._observables=n._observables.map((function(t){var e=t.target;return{target:e,selection:k(e)}})),t)return t(n.takeRecords(),n)})),(0,f.Z)(this,"_check",(function(){var t=!1,e=n._callback;if(n._observables=n._observables.map((function(e){var n=e.target,r=e.selection,o=k(n);return r===o||r.from===o.from&&r.to===o.to?e:(t=!0,{target:n,selection:o})})),t&&e)return e(n.takeRecords(),n)})),this._callback=e}return(0,s.Z)(t,[{key:"disconnect",value:function(){var t=this;this._observables.forEach((function(e){var n=e.target;n.removeEventListener("click",t._check,!1),n.removeEventListener("selectionchange",t._check,!1)})),this._observables=[]}},{key:"observe",value:function(t){if(window.getSelection){if(!this._observables.some((function(e){return e.target===t}))){var e={target:t,selection:k(t)};t.addEventListener("click",this._check,!1),t.addEventListener("selectionchange",this._check,!1),this._observables.push(e)}}else console.warn("window.getSelection() is not supported")}},{key:"takeRecords",value:function(){return this._observables.slice(0)}}]),t}();function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){(0,f.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function S(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var P="ProseMirror-selectednode",E=new Set,R=new Set;var M,N=new _((function(t,e){if(!window.getSelection)return console.warn("window.getSelection() is not supported"),void e.disconnect();var n=window.getSelection();if(!n.containsNode)return console.warn("selection.containsNode() is not supported"),void e.disconnect();var r,o=S(E);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=i.dom;n.containsNode(a)?i.selectNode():i.deselectNode()}}catch(s){o.e(s)}finally{o.f()}0===E.size&&e.disconnect()})),T=new MutationObserver((function(t,e){var n=document.body;if(n){var r,o=[],i=S(R);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=a.dom;n.contains(s)&&(R.delete(a),o.push(a),a.__renderReactComponent())}}catch(d){i.e(d)}finally{i.f()}var c,l=S(E);try{for(l.s();!(c=l.n()).done;){var u=c.value.dom;n.contains(u)||(E.delete(u),Z.unmountComponentAtNode(u))}}catch(d){l.e(d)}finally{l.f()}o.forEach((function(t){return E.add(t)})),0===E.size&&e.disconnect()}})),D=function(){function t(e,n,r,o){(0,a.Z)(this,t),this.props={decorations:o,editorView:n,getPos:r,node:e,selected:!1,focused:!1},R.add(this);var i=this.createDOMElement();this.dom=i,this._selected=null,i.onClick=this._onClick,1===R.size&&(T.observe(document,{childList:!0,subtree:!0}),N.observe(document))}return(0,s.Z)(t,[{key:"update",value:function(t,e){return this.props=x(x({},this.props),{},{node:t}),this.__renderReactComponent(),!0}},{key:"stopEvent",value:function(){return!1}},{key:"selectNode",value:function(){this._selected=!0,this.dom.classList.add(P),this.__renderReactComponent()}},{key:"deselectNode",value:function(){this._selected=!1,this.dom.classList.remove(P),this.__renderReactComponent()}},{key:"createDOMElement",value:function(){throw new Error("not implemented")}},{key:"renderReactComponent",value:function(){throw new Error("not implemented")}},{key:"destroy",value:function(){}},{key:"__renderReactComponent",value:function(){var t=this.props,e=t.editorView,n=t.getPos;if(e.state&&e.state.selection){var r=e.state.selection.from,o=n();this.props.selected=this._selected,this.props.focused=e.focused&&o===r}else this.props.selected=!1,this.props.focused=!1;Z.render(this.renderReactComponent(),this.dom)}}]),t}(),A=n(871199),j=n.n(A),B=n(676065),I=n.n(B);function z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,d.Z)(t);if(e){var o=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var L="text-editor-frame-body";function U(t){return"number"==typeof t?t+"px":j()(t)?"auto":String(t)}g.PureComponent;var V=n(550171),F=n(273783);function H(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,d.Z)(t);if(e){var o=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var W={NONE:{value:null,text:"Inline"},LEFT:{value:"left",text:"Float left"},CENTER:{value:"center",text:"Center"},RIGHT:{value:"right",text:"Float right"}},G=function(t){(0,l.Z)(n,t);var e=H(n);function n(){var t;(0,a.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return t=e.call.apply(e,[this].concat(o)),(0,f.Z)((0,c.Z)(t),"_onClick",(function(e){t.props.onSelect({align:e})})),t}return(0,s.Z)(n,[{key:"render",value:function(){var t=this.props.value?this.props.value.align:null,e=this._onClick,n=Object.keys(W).map((function(n){var r=W[n],i=r.value,a=r.text;return(0,o.Z)(F.Z,{active:t===i,label:a,onClick:e,value:i},n)}));return(0,o.Z)("div",{className:"editor-inline-editor"},void 0,n)}}]),n}(g.PureComponent),K=n(877119),J=n.n(K),q=n(409961),$=n.n(q);function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,d.Z)(t);if(e){var o=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var X=(0,y.Z)("image-resize-box"),Q=20,tt={top:nt,top_right:rt,right:et,bottom_right:rt,bottom:nt,bottom_left:rt,left:et,top_left:rt};function et(t,e,n){t.style.width=e+"px"}function nt(t,e,n){t.style.height=n+"px"}function rt(t,e,n){t.style.width=Math.round(e)+"px",t.style.height=Math.round(n)+"px"}var ot=function(t){(0,l.Z)(n,t);var e=Y(n);function n(t){var r;return(0,a.Z)(this,n),r=e.call(this,t),(0,f.Z)((0,c.Z)(r),"_syncSize",(function(){if(r._active){var t=r.props,e=t.direction,n=t.width,o=t.height,i=(r._x2-r._x1)*(/left/.test(e)?-1:1),a=(r._y2-r._y1)*(/top/.test(e)?-1:1),s=r._el;if($()(s))throw new Error("Encountered an error: `el` should not be null.");var c=tt[e];if($()(c))throw new Error("Encountered an error: `fn` should not be null.");var l=n/o,u=J()(Q,n+Math.round(i),1e4),d=J()(Q,o+Math.round(a),1e4);c===rt&&(u=(d=Math.max(u/l,Q))*l),c(s,Math.round(u),Math.round(d)),r._ww=u,r._hh=d}})),(0,f.Z)((0,c.Z)(r),"_onMouseDown",(function(t){t.preventDefault(),t.stopPropagation(),r._end(),r._start(t)})),(0,f.Z)((0,c.Z)(r),"_onMouseMove",(function(t){t.preventDefault(),t.stopPropagation(),r._x2=t.clientX,r._y2=t.clientY,r._rafID=requestAnimationFrame(r._syncSize)})),(0,f.Z)((0,c.Z)(r),"_onMouseUp",(function(t){t.preventDefault(),t.stopPropagation(),r._x2=t.clientX,r._y2=t.clientY;var e=r.props.direction,n=r._el;if($()(n))throw new Error("Encountered an error: `el` should not be null.");n.classList.remove(e),r._end(),r.props.onResizeEnd(r._ww,r._hh)})),r._active=!1,r._el=null,r._h="",r._rafID=0,r._w="",r._x1=0,r._x2=0,r._y1=0,r._y2=0,r._ww=0,r._hh=0,r}return(0,s.Z)(n,[{key:"componentWillUnmount",value:function(){this._end()}},{key:"_start",value:function(t){this._active&&this._end(),this._active=!0;var e=this.props,n=e.boxID,r=e.direction,o=e.width,i=e.height,a=document.getElementById(n);if($()(a))throw new Error("Encountered an error: `el` should not be null.");a.className+=" "+r,this._el=a,this._x1=t.clientX,this._y1=t.clientY,this._x2=this._x1,this._y2=this._y1,this._w=this._el.style.width,this._h=this._el.style.height,this._ww=o,this._hh=i,document.addEventListener("mousemove",this._onMouseMove,!0),document.addEventListener("mouseup",this._onMouseUp,!0)}},{key:"_end",value:function(){if(this._active){this._active=!1,document.removeEventListener("mousemove",this._onMouseMove,!0),document.removeEventListener("mouseup",this._onMouseUp,!0);var t=this._el;if($()(t))throw new Error("Encountered an error: `el` should not be null.");t.style.width=this._w,t.style.height=this._h,t.className="editor-image-resize-box",this._el=null,this._rafID&&cancelAnimationFrame(this._rafID),this._rafID=null}}},{key:"render",value:function(){var t=this.props.direction,e=m()((0,f.Z)({"editor-image-resize-box-control":!0},t,!0));return(0,o.Z)("span",{role:"button",tabIndex:-1,className:e,onMouseDown:this._onMouseDown})}}]),n}(g.PureComponent),it=function(t){(0,l.Z)(n,t);var e=Y(n);function n(t){var r;return(0,a.Z)(this,n),(r=e.call(this,t))._id=X(),r}return(0,s.Z)(n,[{key:"render",value:function(){var t=this.props,e=t.onResizeEnd,n=t.width,r=t.height,i=t.src,a={height:r+"px",width:n+"px"},s=this._id,c=Object.keys(tt).map((function(t){return(0,o.Z)(ot,{boxID:s,config:tt[t],direction:t,height:r,onResizeEnd:e,width:n},t)}));return(0,o.Z)("span",{className:"editor-image-resize-box",id:s,style:a},void 0,c,(0,o.Z)("img",{className:"editor-image-resize-box-image",alt:"Resize Box",src:i}))}}]),n}(g.PureComponent),at=n(59821),st=(n(388416),n(297209)),ct=null,lt=new Map;function ut(t){t.forEach(dt)}function dt(t){var e=t.target,n=lt.get(e);n&&n.forEach((function(e){return e(t)}))}var ft={observe:function(t,e){var n=t,r=ct||(ct=new st.default(ut));if(lt.has(n)){var o=lt.get(n);if($()(o))throw new Error("Encountered an error: callbacks are missing.");o.push(e)}else{var i=[e];lt.set(n,i),r.observe(n)}},unobserve:function(t,e){var n=ct;if(n){var r=t;if(n.unobserve(r),e){var o=null;if(lt.has(r)){if(o=lt.get(r),$()(o))throw new Error("Encountered an error: callbacks are missing.");o=o.filter((function(t){return t!==e}))}o&&o.length?lt.set(r,o):lt.delete(r)}else lt.delete(r);lt.size||(n.disconnect(),ct=null)}}},pt=n(70698),ht=n(304600);function vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){(0,f.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function gt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,d.Z)(t);if(e){var o=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var Zt=(0,y.Z)("image-node-view"),yt=1e5,bt={src:"",complete:!1,height:0,width:0};var wt=function(t){(0,l.Z)(n,t);var e=gt(n);function n(t){var r;return(0,a.Z)(this,n),r=e.call(this,t),(0,f.Z)((0,c.Z)(r),"_resolveOriginalSize",(0,i.Z)(h().mark((function t(){var e,n,o;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r._mounted){t.next=2;break}return t.abrupt("return");case 2:return r.setState({originalSize:bt}),e=r.props.node.attrs.src,n=e,t.next=7,(0,ht.Z)(n);case 7:if(o=t.sent,r._mounted){t.next=10;break}return t.abrupt("return");case 10:if(r.props.node.attrs.src===e){t.next=12;break}return t.abrupt("return");case 12:o.complete||(o.width=Q,o.height=Q),r.setState({originalSize:o});case 14:case"end":return t.stop()}}),t)})))),(0,f.Z)((0,c.Z)(r),"_onResizeEnd",(function(t,e){var n=r.props,o=n.getPos,i=n.node,a=n.editorView,s=o(),c=mt(mt({},i.attrs),{},{crop:null,width:t,height:e}),l=a.state.tr,u=a.state.selection;l=(l=l.setNodeMarkup(s,null,c)).setSelection(u.map(l.doc,l.mapping)),a.dispatch(l)})),(0,f.Z)((0,c.Z)(r),"_onChange",(function(t){if(r._mounted){var e=t?t.align:null,n=r.props,o=n.getPos,i=n.node,a=n.editorView,s=o(),c=mt(mt({},i.attrs),{},{align:e}),l=a.state.tr,u=a.state.selection;l=(l=l.setNodeMarkup(s,null,c)).setSelection(u.map(l.doc,l.mapping)),a.dispatch(l)}})),(0,f.Z)((0,c.Z)(r),"_onBodyRef",(function(t){if(t){r._body=t;var e=Z.findDOMNode(t);e instanceof HTMLElement&&ft.observe(e,r._onBodyResize)}else{var n=r._body&&Z.findDOMNode(r._body);n instanceof HTMLElement&&ft.unobserve(n),r._body=null}})),(0,f.Z)((0,c.Z)(r),"_onBodyResize",(function(t){var e=r._body?function(t){for(var e=t.parentElement;e&&!e.offsetParent;)e=e.parentElement;if(e&&e.offsetParent&&e.offsetParent.offsetWidth&&e.offsetParent.offsetWidth>0){var n=e.offsetParent,r=t.ownerDocument.defaultView.getComputedStyle(n),o=n.clientWidth-4;return"border-box"===r.boxSizing&&(o-=parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10)),Math.max(o,Q)}return yt}(Z.findDOMNode(r._body)):yt;r.setState({maxSize:{width:e,height:yt,complete:!!r._body}})})),r._body=null,r._id=Zt(),r._inlineEditor=null,r._mounted=!1,r.state={maxSize:{width:yt,height:yt,complete:!1},originalSize:bt},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this._mounted=!0,this._resolveOriginalSize(),this._renderInlineEditor()}},{key:"componentDidUpdate",value:function(t){t.node.attrs.src!==this.props.node.attrs.src&&this._resolveOriginalSize(),this._renderInlineEditor()}},{key:"componentWillUnmount",value:function(){this._mounted=!1,this._inlineEditor&&this._inlineEditor.close(),this._inlineEditor=null}},{key:"_renderInlineEditor",value:function(){var t=this,e=document.getElementById(this._id);if(e&&"true"===e.getAttribute("data-active")){var n={value:this.props.node.attrs,onSelect:this._onChange};this._inlineEditor?this._inlineEditor.update(n):this._inlineEditor=(0,pt.Z)(G,n,{anchor:e,autoDismiss:!1,container:e.closest?e.closest(".".concat(L)):null,position:at.lS,onClose:function(){t._inlineEditor=null}})}else this._inlineEditor&&this._inlineEditor.close()}},{key:"render",value:function(){var t=this.state,e=t.originalSize,n=t.maxSize,r=this.props,i=r.editorView,a=r.node,s=r.selected,c=r.focused,l=i.readOnly,u=a.attrs,d=u.align,f=u.crop,p=u.rotate,h=e===bt,v=!h&&c&&!l&&e.complete,Z=e.complete?e.src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",y=h?1:e.width/e.height,w=!h&&!e.complete,k=u.width,_=u.height;h&&(k=k||24,_=_||24),k&&!_?_=k/y:_&&!k?k=_*y:k||_||(k=e.width,_=e.height);var O=1;k>n.width&&(!f||f.width>n.width)&&(_=(k=n.width)/y,O=n.width/k);var x=m()("editor-image-view-body",{active:v,error:w,focused:c,loading:h,selected:s}),S=!v||f||p?null:(0,o.Z)(it,{height:_,onResizeEnd:this._onResizeEnd,src:Z,width:k}),C={display:"inline-block",height:_+"px",left:"0",top:"0",width:k+"px",position:"relative"},P={};if(f){var E=mt({},f);1!==O&&(O=n.width/E.width,E.width*=O,E.height*=O,E.left*=O,E.top*=O),P.width=E.width+"px",P.height=E.height+"px",C.left=E.left+"px",C.top=E.top+"px"}p&&(P.transform="rotate(".concat(p,"rad)"));var R=null;u.meta&&(R=(0,o.Z)("pre",{className:"img-tooltip"},void 0,u.meta));var M=w?(0,o.Z)("span",{className:"editor-image-view-error"},void 0,V.Z.error," "):null,N=w?"".concat(b.a.t("text-editor:unable-to-load-image")," ").concat(u.src||""):void 0,T=(0,o.Z)("img",{alt:"",className:"editor-image-view-body-img","data-align":d,height:_,id:"".concat(this._id,"-img"),src:Z,width:k});return(0,o.Z)(g.Fragment,{},void 0,R,g.createElement("span",{className:x,"data-active":v?"true":void 0,"data-original-src":String(u.src),id:this._id,ref:this._onBodyRef,title:N},(0,o.Z)("span",{className:"editor-image-view-body-img-clip",style:P},void 0,(0,o.Z)("span",{style:C},void 0,M,T)),S))}}]),n}(g.PureComponent),kt=function(t){(0,l.Z)(n,t);var e=gt(n);function n(){return(0,a.Z)(this,n),e.apply(this,arguments)}return(0,s.Z)(n,[{key:"createDOMElement",value:function(){var t=this,e=document.createElement("span");return e.className="editor-image-view",e.addEventListener("dragstart",(function(e){var n=document.createElement("img");n.src=t.props.node.attrs.src,e.dataTransfer.setDragImage(n,0,0)}),!1),this._updateDOM(e),e}},{key:"update",value:function(t,e){return(0,r.Z)((0,d.Z)(n.prototype),"update",this).call(this,t,e),this._updateDOM(this.dom),!0}},{key:"renderReactComponent",value:function(){return g.createElement(wt,this.props)}},{key:"_updateDOM",value:function(t){var e=this.props.node.attrs.align,n="editor-image-view";e&&(n+=" align-"+e),t.className=n}}]),n}(D)},111057:function(t,e,n){"use strict";n(382139);var r=n(858255),o=n(264659),i=n(904730),a=n(673989),s=n(175663),c=n(750591),l=n(575630),u=n(151119),d=n(202784),f=n(320765),p=n(871685),h=n(273783),v=n(171696);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,l.Z)(t);if(e){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var g=/\s/,Z=function(t){(0,s.Z)(n,t);var e=m(n);function n(){var t;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i)),(0,u.Z)((0,a.Z)(t),"state",{url:t.props.href}),(0,u.Z)((0,a.Z)(t),"_onKeyDown",(function(e){13===e.keyCode&&(e.preventDefault(),t._apply())})),(0,u.Z)((0,a.Z)(t),"_onURLChange",(function(e){var n=e.target.value;t.setState({url:n})})),(0,u.Z)((0,a.Z)(t),"_cancel",(function(){t.props.close()})),(0,u.Z)((0,a.Z)(t),"_apply",(function(){var e=t.state.url;e&&!g.test(e)&&t.props.close((0,p.Z)(e))})),t}return(0,i.Z)(n,[{key:"render",value:function(){var t=this.props.href,e=this.state.url,n=!!e&&g.test(e),o=f.a.t("text-editor:apply"),i=!!n;return t?(o=e?f.a.t("text-editor:apply"):f.a.t("text-editor:remove"),i=n):i=n||!e,(0,r.Z)("div",{className:"image-url-editor"},void 0,(0,r.Z)("form",{className:"editor-form",onSubmit:v.Z},void 0,(0,r.Z)("fieldset",{},void 0,(0,r.Z)("legend",{},void 0,f.a.t("text-editor:add-link")),(0,r.Z)("input",{autoFocus:!0,onChange:this._onURLChange,onKeyDown:this._onKeyDown,placeholder:f.a.t("text-editor:paste-url"),spellCheck:!1,type:"text",value:e||""})),(0,r.Z)("div",{className:"editor-form-buttons"},void 0,(0,r.Z)(h.Z,{label:f.a.t("text-editor:cancel"),onClick:this._cancel}),(0,r.Z)(h.Z,{active:!0,disabled:i,label:o,onClick:this._apply}))))}}]),n}(d.PureComponent);e.Z=Z},59821:function(t,e,n){"use strict";n.d(e,{SC:function(){return o},lS:function(){return i},Oi:function(){return a},ID:function(){return s},DL:function(){return c}});var r=n(615581);function o(t,e){var n={x:0,y:0,w:0,h:0};if(t&&e){n.x=t.x,n.y=t.y+t.h;var o=window.innerWidth,i=window.innerHeight;n.x+e.w>o&&(n.x=t.x-e.w+t.w),n.y+e.h>i&&(n.y=Math.max(t.y-e.h,2))}return t&&!(0,r.zb)(t)||(n.x=-1e4),n}function i(t,e){var n={x:0,y:0,w:0,h:0};return t&&e&&(n.x=Math.max(t.x-(e.w-t.w)/2,10),n.y=t.y+t.h),t&&!(0,r.zb)(t)||(n.x=-1e4),n}function a(t,e){var n={x:0,y:0,w:0,h:0};return e&&(n.x=(window.innerWidth-e.w)/2,n.y=(window.innerHeight-e.h)/2),e&&!(0,r.zb)(e)||(n.x=-1e4),n}function s(t,e){var n={x:0,y:0,w:0,h:0};return t&&e&&(n.x=t.x+t.w+1-e.w,n.y=t.y),t&&!(0,r.zb)(t)||(n.x=-1e4),n}function c(t,e){var n={x:0,y:0,w:0,h:0};return t&&e&&(n.x=t.x+(t.w-e.w)/2,n.y=t.y),t&&!(0,r.zb)(t)||(n.x=-1e4),n}},171696:function(t,e,n){"use strict";function r(t){t.preventDefault()}n.d(e,{Z:function(){return r}})},615581:function(t,e,n){"use strict";function r(t){return 0===t.w||0===t.h}function o(t,e,n){var r=n||0;return!(e.x-r>t.x+t.w+r||e.x+e.w+r<t.x-r||e.y-r>t.y+t.h+r||e.y+e.h+r<t.y-r)}function i(t,e,n){return{x:t-(n=n||0),y:e-n,w:2*n,h:2*n}}function a(t){if("contents"===document.defaultView.getComputedStyle(t).display&&1===t.children.length)return a(t.children[0]);var e=t.getBoundingClientRect();return{x:e.left,y:e.top,w:e.width,h:e.height}}n.d(e,{zb:function(){return r},vY:function(){return o},mv:function(){return i},hs:function(){return a}})},304600:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});n(627476),n(95767),n(898837),n(694882),n(298351);var r=n(151119),o=(n(175115),n(296253),n(940851),n(900883)),i=n(700601),a=n.n(i);var s=function(){return!!a()(window.navigator,"onLine")&&!window.navigator.onLine};function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}var l={},u=[];function d(){var t=u.shift();t&&function(t,e,n){var i={complete:!1,height:0,naturalHeight:0,naturalWidth:0,src:t||"",width:0};if(s())return void e(i);var a=t||"";if(!a)return void e(i);if(l[a]){var u=Object.assign({},l[a]);return void e(u)}var f,p=o.parse(a),h=p.protocol,v=p.port;if(!/(http:|https:|data:)/.test(h||window.location.protocol)||v)return void e(i);var m=function(){f&&(i.width=f.width,i.height=f.height,i.naturalWidth=f.width,i.naturalHeight=f.height,i.complete=!0),e(i),Z(),l[a]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},i)},g=function(){e(i),Z()};function Z(){if(f){if(f instanceof HTMLElement){var t=f.parentNode;t&&t.removeChild(f)}f.onload=null,f.onerror=null,f=null}d()}var y=document.body;y?((f=document.createElement("img")).style.cssText="position:fixed;left:-10000000000px;width:auto;height:auto;",f.onload=m,f.onerror=g,f.src=a,y.appendChild(f)):((f=new Image).onload=m,f.onerror=g,f.src=a)}(t.src,t.resolve,t.reject)}var f=function(t){return new Promise((function(e,n){var r={src:t,resolve:e,reject:n};u.push(r),d()}))}},640987:function(t,e,n){"use strict";var r=n(264659),o=n(904730),i=n(151119),a=(n(296253),n(940851),n(630709));function s(t,e){var n=t[e];return"tr"===e&&n instanceof a.wx?n.setMeta("dryrun",!0):n}function c(t,e,n){return t[e]=n,!0}var l=function(){function t(){var e=this;(0,r.Z)(this,t),(0,i.Z)(this,"shouldRespondToUIEvent",(function(e){return e.type===t.EventType.CLICK})),(0,i.Z)(this,"active",(function(t){return!1})),(0,i.Z)(this,"enable",(function(t,n){return e.dryRun(t,n)})),(0,i.Z)(this,"dryRun",(function(t,n){var r=window.Proxy,o=r?new r(t,{get:s,set:c}):t;return e.run(o,null,n)})),(0,i.Z)(this,"run",(function(t,n,r,o){return e.waitForUserInput(t,n,r,o).then((function(o){e.executeWithUserInput(t,n,r,o)})).catch((function(t){console.error(t)})),!1})),(0,i.Z)(this,"waitForUserInput",(function(t,e,n,r){return Promise.resolve(void 0)})),(0,i.Z)(this,"executeWithUserInput",(function(t,e,n,r){return!1}))}return(0,o.Z)(t,[{key:"cancel",value:function(){}}]),t}();(0,i.Z)(l,"EventType",{CLICK:"mouseup",MOUSEENTER:"mouseenter"}),e.Z=l},781234:function(t,e,n){"use strict";n(21466);e.Z=function(t){var e=t.match(/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),n=0;if(null===e)return n;for(var r=0;r<e.length;r++)e[r].charCodeAt(0)>=19968?n+=e[r].length:n+=1;return n}},335700:function(t,e,n){"use strict";n(95767),n(530522),n(39115),n(296253),n(856997),n(991181);var r=n(911755),o=n.n(r),i=n(268874),a=n(770290),s=o()("isle:text-editor");e.Z=function(t,e){s("Handle drop event...");var n={x:e.clientX,y:e.clientY},r=t.posAtCoords({left:n.x,top:n.y}),o=r?r.pos:null,c=e.dataTransfer;if(c&&c.files&&c.files.length>0){e.preventDefault();var l=c.files,u=Array.from(l);(0,a.q)(t,u,n)&&(0,i.wM)(t)}else(0,i.yz)(t,o)}},234648:function(t,e,n){"use strict";n.d(e,{Z:function(){return B}});var r=n(858255),o=(n(319371),n(202784)),i=n(911755),a=n.n(i),s=n(198),c=n(618589),l=n(226010),u=n(738314),d=n(836663),f=n(296781),p=n(155061),h=n(294565),v=n(150275),m=n(550171),g=(n(52310),n(141396)),Z=n(557106),y=n.n(Z),b=n(783158),w=n.n(b);var k=function(t,e,n,r){var o=e;if(t.nodeSize<=2)return null;var i=function(t){return t.type===r};for(e=y()(2,e),n=w()(n,t.nodeSize-2);o<=n;){var a=t.nodeAt(o);if(a&&a.marks){var s=a.marks.find(i);if(s)return s;o+=1}else o++}return null},_={1:26,2:20,3:18,4:15,5:12};var O,x,S,C,P,E,R,M=function(t){var e=t.schema,n=t.doc,r=t.selection,o=t.tr,i=e.marks.fontSize,a=e.nodes.heading,s=String(12);if(!i)return s;var c=r.from,l=r.to;if(r.empty){var u=(o.storedMarks||t.storedMarks||r.$cursor&&r.$cursor.marks&&r.$cursor.marks()||[]).find((function(t){return t.type===i}));return u?String(u.attrs.pt||s):s}var d=i?k(n,c,l,i):null;if(d)return String(d.attrs.pt);if(!a)return s;var f=(0,g.Tr)(a)(t.selection);if(!f)return s;var p=String(f.node.attrs.level);return _[p]||s},N=n(588714),T=JSON.parse('["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b","#000000"]'),D=a()("isle:text-editor"),A="#6e6e6e",j=function(t){if(t.disabled)return(0,r.Z)("button",{onClick:t.onClick,style:{active:t.active,color:t.active?"black":A,opacity:.2},disabled:!0,className:"menu-item","aria-label":t.t(t.title)},void 0,t.children);var e=t.t(t.title);return t.hotkey&&(e+=" (".concat(t.hotkey,")")),(0,r.Z)(v.Z,{tooltip:e,placement:"bottom"},"".concat(t.itemKey,"-tooltip"),(0,r.Z)("button",{onClick:t.onClick,style:{active:t.active,color:t.active?"black":A},className:"menu-item","aria-label":t.t(t.title)},void 0,t.children))},B=(0,s.Z)("text-editor")((function(t){var e=t.menu,n=t.children,i=t.state,a=t.dispatch,s=t.view,v=t.fullscreen,g=t.showColorPicker,Z=t.onColorChoice,y=(t.container,t.t),b=function(t){return function(e){e.preventDefault(),t.run&&(D("Run command",t,e),t.run(i,a,s,e.nativeEvent))}},w=function(t,e){return(0,r.Z)(j,{itemKey:e,type:"button",active:!(!t.active||!i)&&t.active(i),disabled:!(!t.enable||!i)&&!t.enable(i),title:"string"==typeof t.title?y(t.title):"",hotkey:t.hotkey,onClick:b(t),t:y},e,(0,h.isPrimitive)(t.content)?y(t.content):t.content)},k=function(t,e){return t.enable&&i&&!t.enable(i)?(0,r.Z)(p.Z,{disabled:!0},"dropdown-item-".concat(e),(0,h.isPrimitive)(t.content)?y(t.content):t.content):(0,r.Z)(p.Z,{onClick:b(t)},"dropdown-item-".concat(e),(0,h.isPrimitive)(t.content)?y(t.content):t.content)},_=function(t){return t?t.map(w):null};return(0,r.Z)("div",{className:"prose-menu-bar cancel"},void 0,n,_(e.blocks),e.headers?(0,r.Z)(o.Fragment,{},void 0,(0,r.Z)(l.Z,{title:(0,r.Z)("span",{className:"screenreader"},void 0,y("headers")),variant:"outline-secondary",size:"sm",style:{display:"inline-block",marginRight:4}},void 0,e.headers.map(k)),O||(O=(0,r.Z)("i",{className:"prose-separator"},void 0,"|"))):null,_(e.marks),v?_(e.extraMarks):null,(0,r.Z)("div",{style:{display:g?"initial":"none",position:"absolute",top:"50px",left:"100px",zIndex:2}},void 0,(0,r.Z)(c.Z,{width:"600px",colors:T,circleSize:16,onChangeComplete:Z})),x||(x=(0,r.Z)("i",{className:"prose-separator"},void 0,"|")),e.fontSizes?(0,r.Z)(u.Z,{style:{display:"inline-block",marginLeft:4}},void 0,(0,r.Z)(f.Z,{size:"sm",variant:"outline-secondary",disabled:!i||!(0,N.Z)(i,"fontSize")},void 0,i?M(i):"12"),(0,r.Z)(d.Z,{style:{minWidth:"24px"}},void 0,e.fontSizes.map((function(t,e){return(0,r.Z)(p.Z,{style:{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3},onClick:b(t)},"font-buttons-".concat(e),t.content)})))):null,_(e.wraps),v&&e.alignment?(0,r.Z)(o.Fragment,{},void 0,S||(S=(0,r.Z)("i",{className:"prose-separator"},void 0,"|")),_(e.alignment)):null,e.insert?(0,r.Z)(o.Fragment,{},void 0,C||(C=(0,r.Z)("i",{className:"prose-separator"},void 0,"|")),(0,r.Z)(l.Z,{title:(0,r.Z)(o.Fragment,{},void 0,m.Z.insert,(0,r.Z)("span",{className:"screenreader"},void 0,y("insert"))),variant:"outline-secondary",size:"sm",style:{display:"inline-block"},name:"Insert"},void 0,e.insert.map(k))):null,e.tableEdits?(0,r.Z)(o.Fragment,{},void 0,P||(P=(0,r.Z)("i",{className:"prose-separator"},void 0,"|")),(0,r.Z)(l.Z,{title:(0,r.Z)(o.Fragment,{},void 0,m.Z.table,(0,r.Z)("span",{className:"screenreader"},void 0,y("table"))),variant:"outline-secondary",size:"sm",style:{display:"inline-block"},name:"Table"},void 0,e.tableEdits.map(k))):null,v&&e.history?(0,r.Z)(o.Fragment,{},void 0,E||(E=(0,r.Z)("i",{className:"prose-separator"},void 0,"|")),e.history.map(w)):null,e.addons?R||(R=(0,r.Z)("i",{className:"prose-separator"},void 0,"|")):null,_(e.addons))}))},505455:function(t,e,n){"use strict";var r=n(867696),o=n(828919);e.Z=function(t){var e=document.createElement("div");return e.innerHTML=t,r.DOMParser.fromSchema(o.Z).parse(e)}},205342:function(t,e,n){"use strict";var r=n(858255);n(202784);e.Z=function(t){return(0,r.Z)("div",{className:"prose-statusbar"},void 0,(0,r.Z)("span",{},void 0,t.t("words"),": ",t.nWords),(0,r.Z)("span",{style:{marginLeft:5}},void 0,t.t("characters"),": ",t.nChars))}},621150:function(t,e,n){"use strict";n(382139);var r=n(858255),o=n(264659),i=n(904730),a=n(673989),s=n(175663),c=n(750591),l=n(575630),u=n(151119),d=n(202784),f=(n(213980),n(911755)),p=n.n(f),h=n(867696),v=n(506565),m=n(516037),g=n(603423),Z=n(956842),y=n(151300),b=n.n(y),w=n(814346),k=n(234648),_=n(828919),O=n(19509),x=n(291798),S=n(268874),C=n(205342),P=n(781234),E=n(335700),R=n(505455);function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,l.Z)(t);if(e){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var N=p()("isle:text-editor"),T=function(t){(0,s.Z)(n,t);var e=M(n);function n(t){var r,i;(0,o.Z)(this,n),r=e.call(this,t),(0,u.Z)((0,a.Z)(r),"_createEditorView",(function(t){r.editorDiv=t,null!==t&&(r.editorView=new v.tk(t,{state:r.state.editorState,dispatchTransaction:r.dispatchTransaction,nodeViews:{footnote:function(t,e,n,r){return new O.Z(t,e,n,r)},image:function(t,e,n,r){return new x.Z(t,e,n,r)},plot:function(t,e,n,r){return new x.Z(t,e,n,r)},plotContainer:function(t,e,n,r){return new x.Z(t,e,n,r)}},handleDOMEvents:{dragenter:function(t){N("Handle drag enter event..."),(0,S.yz)(t)},drop:E.Z,keydown:r.props.onKeyDown}})),r.props.onMount(r.editorDiv)})),(0,u.Z)((0,a.Z)(r),"onEditorState",(function(t){var e=0,n=0;r.props.showStatusBar&&t.doc.forEach((function(t){t.forEach((function(t){t.text&&(e+=t.text.length,n+=(0,P.Z)(t.text))}))})),r.props.onEditorState(t),r.setState({editorState:t,nWords:n,nChars:e})})),(0,u.Z)((0,a.Z)(r),"dispatchTransaction",(function(t){var e=r.state.editorState.apply(t);null!==r.editorView&&r.editorView.updateState(e);var n=(0,g.fixTables)(r.state.editorState);n&&(e=e.apply(n.setMeta("addToHistory",!1))),r.onEditorState(e)})),(0,u.Z)((0,a.Z)(r),"saveInBrowser",(function(){N("Saving document state to local storage..."),r.state.editorState&&localStorage.setItem(r.props.id,JSON.stringify(r.state.editorState.doc.toJSON()))})),t.id&&(i=localStorage.getItem(t.id)),i||(i=t.defaultValue);var s=b()(i)?h.Node.fromJSON(_.Z,JSON.parse(i)):(0,R.Z)(i);return r.state={editorState:m.EditorState.create({doc:s,schema:_.Z,plugins:w.Z})},r}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.props.autoSave&&this.props.id&&(this.saveInterval=setInterval(this.saveInBrowser,this.props.intervalTime)),window.addEventListener("unload",this.saveInBrowser)}},{key:"componentDidUpdate",value:function(t){var e=this;if(this.props.defaultValue!==t.defaultValue||this.props.docId!==t.docId){N("Re-creating editor state...");var n=b()(this.props.defaultValue)?h.Node.fromJSON(_.Z,JSON.parse(this.props.defaultValue)):(0,R.Z)(this.props.defaultValue);this.setState({editorState:m.EditorState.create({doc:n,schema:_.Z,plugins:w.Z})},(function(){e.editorView.destroy(),e._createEditorView(e.editorDiv)}))}}},{key:"componentWillUnmount",value:function(){this.editorView&&this.editorView.destroy(),this.saveInterval&&clearInterval(this.saveInterval),window.removeEventListener("unload",this.saveInBrowser)}},{key:"markdown",get:function(){return Z.Dm.serialize(this.state.editorState.doc)}},{key:"focus",value:function(){this.editorView&&this.editorView.focus()}},{key:"render",value:function(){return(0,r.Z)(d.Fragment,{},void 0,(0,r.Z)(k.Z,{menu:this.props.menu,state:this.state.editorState,dispatch:this.dispatchTransaction,view:this.editorView,fullscreen:this.props.fullscreen,showColorPicker:this.props.showColorPicker,onColorChoice:this.props.onColorChoice}),d.createElement("div",{className:this.props.className,ref:this._createEditorView}),this.props.showStatusBar?(0,r.Z)(C.Z,{nWords:this.state.nWords,nChars:this.state.nChars,t:this.props.t}):null)}}]),n}(d.Component);T.defaultProps={autoSave:!0,intervalTime:1e4,showStatusBar:!0,t:function(){},onColorChoice:function(){},onEditorState:function(){},onKeyDown:function(){},onMount:function(){}},e.Z=T},19509:function(t,e,n){"use strict";var r=n(264659),o=n(904730),i=n(151119),a=(n(319371),n(59357),n(850110),n(506565)),s=n(516037),c=n(757343),l=n(260593),u=n(630709),d=n(409961),f=n.n(d),p=n(783158),h=n.n(p),v=function(){function t(e,n,o){var a=this;(0,r.Z)(this,t),(0,i.Z)(this,"dispatchInner",(function(t){var e=a.innerView.state.applyTransaction(t),n=e.state,r=e.transactions;if(a.innerView.updateState(n),!t.getMeta("fromOutside")){for(var o=a.outerView.state.tr,i=u.KS.offset(a.getPos()+1),s=0;s<r.length;s++)for(var c=r[s].steps,l=0;l<c.length;l++)o.step(c[l].map(i));o.docChanged&&a.outerView.dispatch(o)}})),this.node=e,this.outerView=n,this.getPos=o,this.dom=document.createElement("footnote"),this.innerView=null}return(0,o.Z)(t,[{key:"selectNode",value:function(){this.dom.classList.add("ProseMirror-selectednode"),this.innerView||this.open()}},{key:"deselectNode",value:function(){this.dom.classList.remove("ProseMirror-selectednode"),this.innerView&&this.close()}},{key:"open",value:function(){var t=this,e=this.dom.appendChild(document.createElement("div"));e.className="footnote-tooltip",this.innerView=new a.tk(e,{state:s.EditorState.create({doc:this.node,plugins:[(0,l.h)({"Mod-z":function(){return(0,c.Yw)(t.outerView.state,t.outerView.dispatch)},"Mod-y":function(){return(0,c.KX)(t.outerView.state,t.outerView.dispatch)}})]}),dispatchTransaction:this.dispatchInner,handleDOMEvents:{mousedown:function(){t.outerView.hasFocus()&&t.innerView.focus()}}})}},{key:"close",value:function(){this.innerView.destroy(),this.innerView=null,this.dom.textContent=""}},{key:"update",value:function(t){if(!t.sameMarkup(this.node))return!1;if(this.node=t,this.innerView){var e=this.innerView.state,n=t.content.findDiffStart(e.doc.content);if(!f()(n)){var r=t.content.findDiffEnd(e.doc.content),o=r.a,i=r.b,a=n-h()(o,i);a>0&&(o+=a,i+=a),this.innerView.dispatch(e.tr.replace(n,i,t.slice(n,o)).setMeta("fromOutside",!0))}}return!0}},{key:"destroy",value:function(){this.innerView&&this.close()}},{key:"stopEvent",value:function(t){return this.innerView&&this.innerView.dom.contains(t.target)}},{key:"ignoreMutation",value:function(){return!0}}]),t}();e.Z=v},60369:function(t,e,n){"use strict";var r=n(939623);e.Z=function t(e,n,o,i){if(!(i<=0)){var a=(0,r.Z)(e.style[n]),s=(o-a)/i*10;setTimeout((function(){var a=(0,r.Z)(e.style[n])+s;e.style[n]="".concat(a,"px"),a!==o&&t(e,n,o,i-10)}),10)}}},388481:function(t,e){"use strict";e.Z=function(t){return!t||null===t.offsetParent}},963210:function(t,e){"use strict";e.Z=function(t,e){for(var n=t.members,r=0;r<n.length;r++){if(n[r].email===e)return!0}return!1}},974247:function(t,e,n){"use strict";n(296253),n(940851);e.Z=function(t){return new Promise((function(e,n){var r=window.FileReader;if(r){var o=new r;o.onload=function(t){var n=t.target.result;e({src:n,height:0,width:0,id:""})},o.onerror=function(){n(new Error("FileReader failed"))},o.readAsDataURL(t)}else n(new Error("FileReader is not available"))}))}},939623:function(t,e,n){"use strict";var r=n(302467),o=n.n(r),i=n(792424),a=n.n(i);e.Z=function(t){return a()(t,"px")&&(t=parseFloat(o()(t,"px",""))),t}},437893:function(t,e){"use strict";e.Z=function(t){return new Date(t).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",month:"short",day:"numeric"})}},717932:function(t,e){"use strict";e.Z=function t(e,n,r){if(!(r<=0)){var o=(n-e.scrollTop)/r*10;setTimeout((function(){e.scrollTop=e.scrollTop+o,e.scrollTop!==n&&t(e,n,r-10)}),10)}}},427249:function(t,e){"use strict";e.Z=function(t){var e=1;return function(){return e+=1,"".concat(t,"-").concat(e)}}},61367:function(t){"use strict";t.exports={copy:"shallow"}},900134:function(t,e,n){"use strict";var r=n(501874),o=n(89596),i=n(994133),a=n(294565).isPrimitive,s=n(224008),c=n(295943),l=n(149074).factory,u=n(61367),d=n(216804);t.exports=function(t){var e,n,f;if(e=s(u),arguments.length&&(f=d(e,t)))throw f;return n=t&&t.seed?l({seed:t.seed}):l(),r(p,"seed",n.seed),r(p,"PRNG",n),n=n.normalized,p;function p(t,r){var l,u,f,p,h,v,m,g,Z,y;if(!o(t)&&!i(t))throw new TypeError("invalid argument. First argument must be array-like. Value: `"+t+"`.");if(arguments.length>1&&(h=d(p={},r)))throw h;for(f=p&&p.copy?p.copy:e.copy,(l=a(t))&&(t=t.split(""),f="none"),u=0,"shallow"===f?u+=1:"deep"===f&&(u+=2),g=t.length,v=s(t,u),Z=g-1;Z>0;Z--)y=c(n()*(Z+1)),m=v[Z],v[Z]=v[y],v[y]=m;return l&&(v=t.join("")),v}}},418823:function(t,e,n){"use strict";var r=n(501874),o=n(973489);r(o,"factory",n(900134)),t.exports=o},973489:function(t,e,n){"use strict";var r=n(900134)();t.exports=r},216804:function(t,e,n){"use strict";var r=n(700601),o=n(294565).isPrimitive,i=n(833022);t.exports=function(t,e){if(!i(e))return new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");if(r(e,"copy")){if(t.copy=e.copy,!o(t.copy))return new TypeError("invalid option. `copy` option must be a string primitive. Option: `"+t.copy+"`.");if("deep"!==t.copy&&"shallow"!==t.copy&&"none"!==t.copy)return new TypeError("invalid option. `copy` option must be `deep`, `shallow` or `none`. Value: `"+t.copy+"`.")}return null}},998856:function(t,e,n){"use strict";var r=n(607560),o=n(998283),i=n(72779),a=n.n(i),s=n(202784),c=n(429658),l=n(21027),u=["min","now","max","label","srOnly","striped","animated","className","style","variant","bsPrefix"],d=["isChild"],f=["min","now","max","label","srOnly","striped","animated","bsPrefix","variant","className","children"];function p(t,e,n){var r=(t-e)/(n-e)*100;return Math.round(1e3*r)/1e3}function h(t,e){var n,i=t.min,c=t.now,l=t.max,d=t.label,f=t.srOnly,h=t.striped,v=t.animated,m=t.className,g=t.style,Z=t.variant,y=t.bsPrefix,b=(0,o.Z)(t,u);return s.createElement("div",(0,r.Z)({ref:e},b,{role:"progressbar",className:a()(m,y+"-bar",(n={},n["bg-"+Z]=Z,n[y+"-bar-animated"]=v,n[y+"-bar-striped"]=v||h,n)),style:(0,r.Z)({width:p(c,i,l)+"%"},g),"aria-valuenow":c,"aria-valuemin":i,"aria-valuemax":l}),f?s.createElement("span",{className:"sr-only"},d):d)}var v=s.forwardRef((function(t,e){var n=t.isChild,i=(0,o.Z)(t,d);if(i.bsPrefix=(0,c.vE)(i.bsPrefix,"progress"),n)return h(i,e);var u=i.min,p=i.now,v=i.max,m=i.label,g=i.srOnly,Z=i.striped,y=i.animated,b=i.bsPrefix,w=i.variant,k=i.className,_=i.children,O=(0,o.Z)(i,f);return s.createElement("div",(0,r.Z)({ref:e},O,{className:a()(k,b)}),_?(0,l.U)(_,(function(t){return(0,s.cloneElement)(t,{isChild:!0})})):h({min:u,now:p,max:v,label:m,srOnly:g,striped:Z,animated:y,bsPrefix:b,variant:w},e))}));v.displayName="ProgressBar",v.defaultProps={min:0,max:100,animated:!1,isChild:!1,srOnly:!1,striped:!1},e.Z=v},318967:function(t){"use strict";var e=function(t,e){return t+n(e)},n=function(t){return null===t||"boolean"==typeof t||void 0===t?"":"number"==typeof t?t.toString():"string"==typeof t?t:Array.isArray(t)?t.reduce(e,""):function(t){return Object.prototype.hasOwnProperty.call(t,"props")}(t)&&Object.prototype.hasOwnProperty.call(t.props,"children")?n(t.props.children):""};n.default=n,t.exports=n}}]);