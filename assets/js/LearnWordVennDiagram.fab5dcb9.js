/*! For license information please see LearnWordVennDiagram.fab5dcb9.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[928],{752829:function(t,e,n){"use strict";n.r(e);n(382139);var a,r=n(858255),o=n(264659),s=n(904730),i=n(673989),c=n(175663),l=n(750591),u=n(575630),d=n(151119),f=(n(319371),n(448977),n(850110),n(202784)),p=(n(213980),n(198)),v=n(770561),h=n(423184),m=n(260952),y=n(379733),Z=n(805312),g=n(391404),w=n.n(g),b=n(777628),k=n.n(b),C=n(300198),A=n.n(C),B=n(224008),x=n.n(B),P=n(741709),W=n(551769),N=n(42111),z=n(432261);function F(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=(0,u.Z)(t);if(e){var r=(0,u.Z)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.Z)(this,n)}}var J=(0,N.Z)("word-venn-diagram"),R=function(t){(0,c.Z)(n,t);var e=F(n);function n(t){var a;(0,o.Z)(this,n),a=e.call(this,t),(0,d.Z)((0,i.Z)(a),"drawPlot",(function(){var t,e=a.state.freqs,n=Z.Ys("#"+a.id+"-venn");n.select("svg").remove(),t=a.state.tooltip?a.state.tooltip:Z.Ys("body").append("div").attr("class","venntooltip");var r=y.VennDiagram().width(a.props.width).height(a.props.height);n.datum(e).call(r),n.selectAll("g").on("mouseover",(function(e,a){y.sortAreas(n,e),t.transition().duration(400).style("opacity",.9),t.text(e.sets.join(" and ")+" ("+e.size+")"),Z.Ys(this).transition("tooltip").duration(400).select("path").style("stroke-width",3).style("stroke","black").style("fill-opacity",1===e.sets.length?.4:.1).style("stroke-opacity",1)})).on("mousemove",(function(){t.style("left",Z.Ba6.pageX+"px").style("top",Z.Ba6.pageY-28+"px")})).on("mouseout",(function(e,n){t.transition().duration(400).style("opacity",0),Z.Ys(this).transition("tooltip").duration(400).select("path").style("fill-opacity",1===e.sets.length?.25:0).style("stroke-opacity",0)})),a.setState({tooltip:t})})),(0,d.Z)((0,i.Z)(a),"calculateWordFrequency",(function(t){var e=a.state,n=e.indices,r=e.minCount,o=e.tdm,s=e.words[t],i=n[t],c=[],l=0;if(o[i])for(var u=o[i].map((function(e){return e>=r[t]?1:0})),d=0;d<u.length;d++)l+=u[d],1===u[d]&&c.push(d);return{sets:[s],size:l,docIndices:c}})),(0,d.Z)((0,i.Z)(a),"wordNumberClickFactory",(function(t){return function(){a.setState({nWords:t+1,disabled:!0,words:new Array(t+1),minCount:new Array(t+1).fill(1)})}})),(0,d.Z)((0,i.Z)(a),"updatePlot",(function(){for(var t=[],e=0;e<a.state.nWords;e++){var n=a.calculateWordFrequency(e);t.push(n)}if(2===a.state.nWords){var r=a.calculateJointAB(0,1);t.push(r)}else if(3===a.state.nWords){var o=a.calculateJointAB(0,1);t.push(o),o=a.calculateJointAB(0,2),t.push(o),o=a.calculateJointAB(1,2),t.push(o),o=a.calculateJointABC(0,1,2),t.push(o)}a.setState({freqs:t},(function(){a.drawPlot(),a.props.onClick(a.state)}))}));var r=t.tdm.map((function(e){for(var n=new Array(t.nTexts),a=0;a<n.length;a++)n[a]=e[a]?e[a]:0;return n}));return a.id=t.id||J(t),a.state={disabled:!0,words:new Array(1),indices:new Array(1),freqs:[],minCount:[1],nWords:1,tdm:r},a}return(0,s.Z)(n,[{key:"componentDidUpdate",value:function(t,e){for(var n=!1,a=0;a<this.state.nWords;a++)e.words[a]!==this.state.words[a]&&(n=!0);if(n){for(var r=new Array(this.state.nWords),o=this.props.vocabulary,s=0;s<this.state.nWords;s++)for(var i=0;i<o.length;i++)o[i]===this.state.words[s]&&(r[s]=i);this.setState({indices:r})}}},{key:"wordChangeFactory",value:function(t){var e=this;return function(n){var a=Array.prototype.slice.call(e.state.words);a[t]=k()(A()(n))||null,e.setState({words:a,disabled:!w()(a)})}}},{key:"calculateJointAB",value:function(t,e){var n=this.state,a=n.indices,r=n.minCount,o=n.tdm,s=n.words,i=a[t],c=a[e],l=0;if(o[i]&&o[c])for(var u=o[i].map((function(e){return e>=r[t]?1:0})),d=o[c].map((function(t){return t>=r[e]?1:0})),f=0;f<u.length;f++)u[f]&&d[f]&&(l+=1);return{sets:[s[t],s[e]],size:l}}},{key:"calculateJointABC",value:function(t,e,n){var a=this.state,r=a.indices,o=a.minCount,s=a.tdm,i=a.words,c=r[t],l=r[e],u=r[n],d=0;if(s[c]&&s[l]&&s[u])for(var f=s[c].map((function(e){return e>=o[t]?1:0})),p=s[l].map((function(t){return t>=o[e]?1:0})),v=s[u].map((function(t){return t>=o[n]?1:0})),h=0;h<f.length;h++)f[h]&&p[h]&&v[h]&&(d+=1);return{sets:[i[t],i[e],i[n]],size:d}}},{key:"render",value:function(){for(var t=this,e=this.props.t,n=[],o=function(a){n[a]=(0,r.Z)("div",{},"outer-".concat(a),(0,r.Z)(W.Z,{legend:"".concat(e("word")," ").concat(a+1),defaultValue:t.state.words[a],width:120,onChange:t.wordChangeFactory(a)},"text-".concat(a)),(0,r.Z)(P.Z,{legend:e("min-of-times"),defaultValue:1,max:50,min:1,step:1,onChange:function(e){var n=x()(t.state.minCount);n[a]=e,t.setState({minCount:n})}},"number-".concat(a)))},s=0;s<this.state.nWords;s++)o(s);return(0,r.Z)(f.Fragment,{},void 0,(0,r.Z)(m.Z,{},void 0,(0,r.Z)(m.Z.Header,{as:"h4"},void 0,e("settings")),(0,r.Z)(m.Z.Body,{},void 0,(0,r.Z)("p",{},void 0,(0,r.Z)("span",{className:"title"},void 0,e("number-of-words"))),(0,r.Z)(h.Z,{},void 0,[e("one"),e("two"),e("three")].map((function(e,n){return(0,r.Z)(v.Z,{variant:n===t.state.nWords-1?"success":"default",onClick:t.wordNumberClickFactory(n)},n,e)}))),n,(0,r.Z)(v.Z,{onClick:this.updatePlot,disabled:this.state.disabled},void 0,e("draw-venn-diagram")))),a||(a=(0,r.Z)("br",{})),(0,r.Z)(m.Z,{},void 0,(0,r.Z)(m.Z.Header,{as:"h4"},void 0,e("venn-diagram")),(0,r.Z)(m.Z.Body,{style:{minHeight:200}},void 0,(0,r.Z)("span",{style:{position:"absolute",right:40,top:50}},void 0,e("total-texts"),": ",this.props.nTexts),(0,r.Z)("div",{id:"".concat(this.id,"-venn")}))))}}]),n}(f.Component);R.defaultProps={height:350,onClick:function(){},width:600},e.default=(0,p.Z)("learn/venn-diagram")((0,z.W)(R))},391404:function(t,e,n){"use strict";var a=n(501874),r=n(384871),o=n(294565),s=r(o);a(s,"primitives",r(o.isPrimitive)),a(s,"objects",r(o.isObject)),t.exports=s},770561:function(t,e,n){"use strict";var a=n(607560),r=n(998283),o=n(72779),s=n.n(o),i=n(202784),c=n(429658),l=n(482695),u=["bsPrefix","variant","size","active","className","block","type","as"],d=i.forwardRef((function(t,e){var n=t.bsPrefix,o=t.variant,d=t.size,f=t.active,p=t.className,v=t.block,h=t.type,m=t.as,y=(0,r.Z)(t,u),Z=(0,c.vE)(n,"btn"),g=s()(p,Z,f&&"active",o&&Z+"-"+o,v&&Z+"-block",d&&Z+"-"+d);if(y.href)return i.createElement(l.Z,(0,a.Z)({},y,{as:m,ref:e,className:s()(g,y.disabled&&"disabled")}));e&&(y.ref=e),h?y.type=h:m||(y.type="button");var w=m||"button";return i.createElement(w,(0,a.Z)({},y,{className:g}))}));d.displayName="Button",d.defaultProps={variant:"primary",active:!1,disabled:!1},e.Z=d},423184:function(t,e,n){"use strict";var a=n(607560),r=n(998283),o=n(72779),s=n.n(o),i=n(202784),c=n(429658),l=["bsPrefix","size","toggle","vertical","className","as"],u=i.forwardRef((function(t,e){var n=t.bsPrefix,o=t.size,u=t.toggle,d=t.vertical,f=t.className,p=t.as,v=void 0===p?"div":p,h=(0,r.Z)(t,l),m=(0,c.vE)(n,"btn-group"),y=m;return d&&(y=m+"-vertical"),i.createElement(v,(0,a.Z)({},h,{ref:e,className:s()(f,y,o&&m+"-"+o,u&&m+"-toggle")}))}));u.displayName="ButtonGroup",u.defaultProps={vertical:!1,toggle:!1,role:"group"},e.Z=u}}]);