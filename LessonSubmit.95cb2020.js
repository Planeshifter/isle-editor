(window.webpackJsonp=window.webpackJsonp||[]).push([[167],{1651:function(e,t,n){"use strict";var o=n(352),r=Object(o.a)((function(){return Promise.all([n.e(6),n.e(310)]).then(n.bind(null,2007))}));t.a=r},1652:function(e,t,n){"use strict";var o=n(352),r=Object(o.a)((function(){return Promise.all([n.e(0),n.e(6),n.e(316)]).then(n.bind(null,2008))}));t.a=r},3277:function(e){e.exports=JSON.parse('{"DE":{"authentication":"Authentifizierung","authentication-prompt":"Um diese Lektion abzuschlie\xdfen, logge Dich bitte in Dein ISLE-Konto ein. Wenn Du noch kein Konto eingerichtet hast, melde Dich bitte an und erhalte Zugang zur vollen Funktionalit\xe4t von ISLE","by":"von","choice":"Wahl","completed":"Abgeschlossen","confirmation-email":" Du erh\xe4lst in K\xfcrze eine Best\xe4tigungs-E-Mail.","download-pdf":"PDF der Antworten herunterladen","elapsed":"verstrichen","lesson-successfully-completed":"Lektion erfolgreich abgeschlossen.","lesson-submitted":"Lektion abgeschlossen!","login":"Anmelden","responses-header":"Antworten f\xfcr die ISLE-Lektion","signup":"Registrieren","submit":"Abschicken"},"EN":{"authentication":"Authentication","authentication-prompt":"To finalize this lesson, please login in to your ISLE account. If you have not created one, please sign up and get access to the full functionality of ISLE.","by":"by","choice":"Choice","completed":"Completed","confirmation-email":" You will receive a confirmation email shortly.","download-pdf":"Download PDF of Responses","elapsed":"elapsed","lesson-successfully-completed":"Lesson successfully completed.","lesson-submitted":"Lesson submitted!","login":"Login","responses-header":"Responses for ISLE lesson","signup":"Sign up","submit":"Submit"},"ES":{}}')},3631:function(e,t,n){"use strict";n.r(t);n(365),n(386),n(379),n(376),n(382),n(358),n(353),n(361);var o=n(364),r=n.n(o),i=n(357),s=n.n(i),c=n(359),a=n.n(c),u=n(367),l=n.n(u),f=n(362),p=n.n(f),d=n(363),b=n.n(d),g=n(360),m=n.n(g),h=n(354),v=n.n(h),y=(n(423),n(0)),O=n(385),w=n.n(O),j=(n(8),n(478)),S=n(89),P=n.n(S),E=n(993),x=n.n(E),L=n(377),k=n(477),D=n(381),R=n(483),N=n.n(R),C=n(395),z=n.n(C),A=n(464),I=n.n(A),U=n(907),T=n(1651),M=n(1652),_=n(394),F=n(450),q=n(398),B=n(442),W=n(3277);function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=m()(e);if(t){var r=m()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return b()(this,n)}}B.a.addResources("de","lesson-submit",W.DE),B.a.addResources("en","lesson-submit",W.EN),B.a.addResources("es","lesson-submit",W.ES);var H=w()("isle:lesson-submit");var Y=function(e){p()(n,e);var t=V(n);function n(e){var o;return s()(this,n),o=t.call(this,e),v()(l()(o),"createReponseSummaryDoc",(function(){var e=o.context,t={content:[{text:"".concat(o.props.t("responses-header")," ").concat(e.namespaceName+"/"+e.lessonName),style:"header",alignment:"center"}],styles:{header:{fontSize:24,bold:!0,margin:[0,0,0,10]},author:{fontSize:16,italics:!0,margin:[0,0,0,10],alignment:"center"},date:{fontSize:16,italics:!0,alignment:"right",margin:[0,15,0,15]},elapsed:{fontSize:16,italics:!0,alignment:"right",margin:[0,15,0,15]},subheader:{fontSize:18,bold:!0,margin:[0,30,0,10]},question:{fontSize:15,margin:[0,0,0,10],italics:!0}}};N()(e.user)||t.content.push({text:"".concat(o.props.t("by")," ").concat(e.user.name," (").concat(e.user.email,")"),style:"author"});var n=new Date;if(t.content.push({text:"".concat(n.toLocaleDateString()," - ").concat(n.toLocaleTimeString()),style:"date"}),t.content.push({text:"".concat(o.props.t("elapsed"),": ").concat(I()(e.duration/6e4),"min"),style:"elapsed"}),e.currentUserActions)for(var r=e.responseVisualizerIds,i=0;i<r.length;i++){var s=e.responseVisualizers[r[i]];t.content.push({text:r[i],style:"subheader"}),s&&function(){var n=s.type,c=s.ref.props.data.question,a=s.ref.props.data.type;t.content.push({text:Object(D.isPrimitive)(c)?c:x()(c),style:"question"});var u=e.currentUserActions[r[i]];if(u){var l=(u=(u=u.filter((function(e){return e.type===n}))).sort((function(e,t){return e.absoluteTime-t.absoluteTime})))[u.length-1];if("image"===a)t.content.push({image:l.value,width:500});else if("factor"===a){var f,p=s.ref.props.data.levels;p=p.map((function(e,t){var n=Object(D.isPrimitive)(e)?e:x()(e);return n||(n="".concat(o.props.t("choice")," ").concat(t+1)),n})),f=z()(l.value)?l.value.map((function(e){return p[e]})).join(", "):p[l.value],t.content.push({text:f})}else t.content.push({text:l.value})}}()}P.a.createPdf(t).download("responses.pdf")})),v()(l()(o),"closeUserModal",(function(){o.setState({showUserModal:!1,visibleLogin:!1,visibleSignup:!1})})),v()(l()(o),"login",(function(e){e.stopPropagation(),o.setState({visibleLogin:!0,visibleSignup:!1})})),v()(l()(o),"signup",(function(e){e.stopPropagation(),o.setState({visibleSignup:!0,visibleLogin:!1})})),v()(l()(o),"closeSignup",(function(){o.setState({visibleSignup:!1,showUserModal:!1})})),v()(l()(o),"closeLogin",(function(){o.setState({visibleLogin:!1,showUserModal:!1})})),v()(l()(o),"finalizeSession",(function(){H("Finalizing session...");for(var e=o.context,t=document.getElementsByClassName("submit-button"),n=0;n<t.length;n++)t[n].innerText===o.props.t("submit")&&t[n].click();e.finalize();var i=o.props.t("lesson-successfully-completed");if(!N()(e.user)&&o.props.sendConfirmationEmail){i+=o.props.t("confirmation-email");var s=function(e,t){var n=t||"";return{text:"Dear ".concat(e.user.name,', this is an automatic confirmation email to inform you that you have successfully completed lesson "').concat(e.lessonName,'" of course "').concat(e.namespaceName,'". ').concat(n),subject:"".concat(e.lessonName," successfully completed!")}}(e,o.props.message);e.sendMail(s,e.user.email)}e.addNotification({title:o.props.t("completed"),message:i,level:"success",position:"tr",autoDismiss:0,dismissible:"button",children:r()("div",{style:{marginBottom:"40px"}},void 0,r()(L.a,{variant:"success",size:"sm",style:{float:"right",marginRight:"10px",marginTop:"10px"},onClick:o.createReponseSummaryDoc},void 0,o.props.t("download-pdf"))),onRemove:function(){o.setState({disabled:!1})}}),e.log({id:e.lessonName,type:q.vb,value:o.props.t("lesson-submitted")}),o.setState({disabled:!0}),window.removeEventListener("beforeunload",U.a)})),v()(l()(o),"handleClick",(function(){o.props.onClick();var e=o.context;if(o.props.requireLogin&&N()(e.user))return o.setState({showUserModal:!0});o.finalizeSession()})),o.state={showUserModal:!1,visibleLogin:!1,visibleSignup:!1},o}return a()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.context;this.unsubsribe=t.subscribe((function(t){t!==F.w&&t!==F.j&&t!==F.k||e.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){this.unsubsribe()}},{key:"render",value:function(){var e=!this.context.live||this.state.disabled;return r()("div",{className:"bg-light ".concat(this.props.className),style:K({maxWidth:400,margin:"0 auto 0px",padding:"20px",fontFamily:"Arial"},this.props.style)},void 0,r()(L.a,{disabled:e,variant:"primary",size:"large",onClick:this.handleClick,block:!0},void 0,this.props.label),r()(k.a,{show:this.state.showUserModal,onHide:this.closeUserModal},void 0,r()(k.a.Header,{closeButton:!0},void 0,r()(k.a.Title,{},void 0,this.props.t("authentication"))),r()(k.a.Body,{},void 0,r()("p",{},void 0,this.props.t("authentication-prompt"))),r()(k.a.Footer,{style:{textAlign:"center"}},void 0,r()(L.a,{variant:"primary",onClick:this.login.bind(this),style:{marginRight:"10px"}},void 0,this.props.t("login")),r()(L.a,{onClick:this.signup.bind(this)},void 0,this.props.t("signup")))),r()(M.a,{show:this.state.visibleLogin,onClose:this.closeLogin}),r()(T.a,{show:this.state.visibleSignup,onClose:this.closeSignup}))}}]),n}(y.Component);Y.defaultProps={label:"Finish lesson",message:"",requireLogin:!0,sendConfirmationEmail:!0,className:"",style:{},onClick:function(){}},Y.contextType=_.a;t.default=Object(j.a)("lesson-submit")(Y)},378:function(e,t,n){"use strict";function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return o}))},388:function(e,t,n){"use strict";function o(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return a}));var r={};function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&r[t[0]]||("string"==typeof t[0]&&(r[t[0]]=new Date),o.apply(void 0,t))}function s(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return i("i18n.languages were undefined or empty",t.languages),!0;var o=t.languages[0],r=!!t.options&&t.options.fallbackLng,s=t.languages[t.languages.length-1];if("cimode"===o.toLowerCase())return!0;var c=function(e,n){var o=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===o||2===o};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!c(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(o,e)||(!t.services.backendConnector.backend||!(!c(o,e)||r&&!c(s,e))))}function a(e){return e.displayName||e.name||("string"==typeof e&&e.length>0?e:"Unknown")}},389:function(e,t,n){"use strict";t.a=!("undefined"==typeof window||!window.document||!window.document.createElement)},392:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(0);var r=function(e){var t=Object(o.useRef)(e);return Object(o.useEffect)((function(){t.current=e}),[e]),t};function i(e){var t=r(e);return Object(o.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}},401:function(e,t,n){var o=n(406);e.exports=function(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},403:function(e,t,n){"use strict";var o=n(389),r=!1,i=!1;try{var s={get passive(){return r=!0},get once(){return i=r=!0}};o.a&&(window.addEventListener("test",s,s),window.removeEventListener("test",s,!0))}catch(c){}t.a=function(e,t,n,o){if(o&&"boolean"!=typeof o&&!i){var s=o.once,c=o.capture,a=n;!i&&s&&(a=n.__once||function e(o){this.removeEventListener(t,e,c),n.call(this,o)},n.__once=a),e.addEventListener(t,a,r?o:c)}e.addEventListener(t,n,o)}},404:function(e,t,n){"use strict";t.a=function(e,t,n,o){var r=o&&"boolean"!=typeof o?o.capture:o;e.removeEventListener(t,n,r),n.__once&&e.removeEventListener(t,n.__once,r)}},406:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}},409:function(e,t,n){"use strict";function o(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return o}))},411:function(e,t,n){"use strict";var o=n(403),r=n(404);t.a=function(e,t,n,i){return Object(o.a)(e,t,n,i),function(){Object(r.a)(e,t,n,i)}}},425:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=Function.prototype.bind.call(Function.prototype.call,[].slice);function r(e,t){return o(e.querySelectorAll(t))}},478:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var o=n(354),r=n.n(o),i=n(397),s=n.n(i),c=n(401),a=n.n(c),u=n(0),l=n.n(u),f=n(463),p=n(388);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,o=Object(u.useContext)(f.a)||{},r=o.i18n,i=o.defaultNS,c=n||r||Object(f.d)();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new f.b),!c){Object(p.e)("You will need pass in an i18next instance by using initReactI18next");var a=function(e){return Array.isArray(e)?e[e.length-1]:e},l=[a,{},!1];return l.t=a,l.i18n={},l.ready=!1,l}var d=b({},Object(f.c)(),{},c.options.react,{},t),g=d.useSuspense,m=e||i||c.options&&c.options.defaultNS;m="string"==typeof m?[m]:m||["translation"],c.reportNamespaces.addUsedNamespaces&&c.reportNamespaces.addUsedNamespaces(m);var h=(c.isInitialized||c.initializedStoreOnce)&&m.every((function(e){return Object(p.b)(e,c,d)}));function v(){return{t:c.getFixedT(null,"fallback"===d.nsMode?m:m[0])}}var y=Object(u.useState)(v()),O=s()(y,2),w=O[0],j=O[1],S=Object(u.useRef)(!0);Object(u.useEffect)((function(){var e=d.bindI18n,t=d.bindI18nStore;function n(){S.current&&j(v())}return S.current=!0,h||g||Object(p.c)(c,m,(function(){S.current&&j(v())})),e&&c&&c.on(e,n),t&&c&&c.store.on(t,n),function(){S.current=!1,e&&c&&e.split(" ").forEach((function(e){return c.off(e,n)})),t&&c&&t.split(" ").forEach((function(e){return c.store.off(e,n)}))}}),[m.join()]);var P=[w.t,c,h];if(P.t=w.t,P.i18n=c,P.ready=h,h)return P;if(!h&&!g)return P;throw new Promise((function(e){Object(p.c)(c,m,(function(){S.current&&j(v()),e()}))}))}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(n,!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function o(o){var r=o.forwardedRef,i=a()(o,["forwardedRef"]),c=g(e,i),u=s()(c,3),f=h({},i,{t:u[0],i18n:u[1],tReady:u[2]});return t.withRef&&r?f.ref=r:!t.withRef&&r&&(f.forwardedRef=r),l.a.createElement(n,f)}o.displayName="withI18nextTranslation(".concat(Object(p.a)(n),")"),o.WrappedComponent=n;return t.withRef?l.a.forwardRef((function(e,t){return l.a.createElement(o,Object.assign({},e,{forwardedRef:t}))})):o}}},529:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(0);function r(){var e=Object(o.useRef)(!0),t=Object(o.useRef)((function(){return e.current}));return Object(o.useEffect)((function(){return function(){e.current=!1}}),[]),t.current}},530:function(e,t,n){"use strict";function o(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}n.d(t,"a",(function(){return o}))},567:function(e,t,n){"use strict";function o(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}n.d(t,"a",(function(){return o}))},583:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(0);function r(e){var t=Object(o.useRef)(null);return Object(o.useEffect)((function(){t.current=e})),t.current}},993:function(e,t,n){"use strict";var o=function(e,t){return e+r(t)},r=function(e){return null===e||"boolean"==typeof e||void 0===e?"":"number"==typeof e?e.toString():"string"==typeof e?e:Array.isArray(e)?e.reduce(o,""):function(e){return Object.prototype.hasOwnProperty.call(e,"props")}(e)&&Object.prototype.hasOwnProperty.call(e.props,"children")?r(e.props.children):""};r.default=r,e.exports=r}}]);