/*! For license information please see 366.a4f7d278.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[366],{1243:function(t,r,e){e(1287)("Float64",8,(function(t){return function(r,e,n){return t(this,r,e,n)}}))},1431:function(t,r,e){"use strict";var n=e(767),a=e.n(n),i=e(383);r.a=function(t,r){var e=a()(r);if(!a()(t))throw new TypeError("invalid input argument. Must provide an array. Value: `"+t+"`.");if(!e&&!Object(i.isPrimitive)(r))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+r+"`.");var n=t.length,s=new Array(n);if(e){if(n!==r.length)throw new Error("invalid input argument. Array to be added must have a length equal to that of the input array.");for(var o=0;o<n;o++)s[o]=t[o]-r[o]}else for(var c=0;c<n;c++)s[c]=t[c]-r;return s}},1897:function(t,r){t.exports=function(t){throw new Error('"'+t+'" is read-only')}},1898:function(t,r,e){"use strict";var n=e(2859);t.exports=n},2859:function(t,r,e){"use strict";var n=e(1022)(e(402));t.exports=n},2872:function(t,r,e){"use strict";e(378),e(1154),e(390),e(588),e(949),e(463),e(357),e(350),e(712),e(735);var n=e(960),a=e.n(n),i=e(466),s=e.n(i);var o={numeric:!0};function c(t,r){return String(t).localeCompare(String(r),void 0,o)}var u=function(t){var r,e,n=Array.prototype.slice.call(t),i=n.length;for(n.sort(c),r=1,e=0;r<i;r++){var o=n[r];n[e]!==o&&(n[e+=1]=o)}n.length=e+1;var u,l=[];for(r=0;r<n.length;r++)u=n[r],s()(u)||a()(u)||""===u||l.push(n[r]);return l};function l(t,r){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,r){if(!t)return;if("string"==typeof t)return h(t,r);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return h(t,r)}(t))||r&&t&&"number"==typeof t.length){e&&(t=e);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,o=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return s=t.done,t},e:function(t){o=!0,i=t},f:function(){try{s||null==e.return||e.return()}finally{if(o)throw i}}}}function h(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n}r.a=function(t,r){var e=u(t);if(!r.categories)return e;var n,a=[],i=l(r.categories);try{for(i.s();!(n=i.n()).done;){var s=n.value;e.includes(s)&&a.push(s)}}catch(o){i.e(o)}finally{i.f()}return a}},4485:function(t,r,e){"use strict";e.r(r);var n=e(767),a=e.n(n);r.default=function(t,r){if(!a()(t))throw new TypeError("invalid argument. First argument must be a matrix or array of test data. Value: `"+t+"`");if(!a()(r))throw new TypeError("invalid argument. Second argument must be an array of labels for the test data. Value: `"+r+"`");for(var e=this.predict(t),n=r.length,i=0,s=0;s<n;s++)e[s]===r[s]&&(i+=1);return i/=n}},5565:function(t,r,e){e(1287)("Int32",4,(function(t){return function(r,e,n){return t(this,r,e,n)}}))},5813:function(t,r,e){"use strict";e.r(r);e(357),e(350),e(360);var n=e(351),a=e.n(n),i=e(352),s=e.n(i),o=e(365),c=e.n(o),u=e(354),l=e.n(u),h=e(355),f=e.n(h),p=e(353),v=e.n(p),d=e(349),y=e.n(d),g=e(358),m=e.n(g),b=e(0),w=(e(341),e(760)),A=e.n(w),x=e(388),O=e(426),j=e(892),S=e(1421),P=e.n(S),C=e(499),F=e.n(C),E=e(506),M=e.n(E),T=e(402),V=e.n(T),k=e(383),G=e(960),N=e.n(G),q=e(466),R=e.n(q),z=e(363),B=e.n(z),I=e(507),_=e(585),D=e(459),J=e(419),U=e(672),X=e(2872),Y=(e(380),e(1898)),H=e.n(Y),L=e(767),$=e.n(L),K=e(2413),Q=e.n(K),W=e(1897),Z=e.n(W),tt=e(424),rt=e.n(tt),et=(e(1243),e(368)),nt=e.n(et),at=e(370),it=e.n(at),st=e(427),ot=e.n(st),ct=e(777),ut=e(981),lt=e(1012),ht=e(1431);function ft(t,r){this.n=t.shape[0],this.p=t.shape[1],this.classes=A()(r.slice()),this.nclass=this.classes.length,this.fitGaussian(t,r)}ft.prototype.score=e(4485),ft.prototype.fitGaussian=function(t,r){var e=this;this.prior={};var n=[this.p,this.nclass];this.mu=P()(new Float64Array(n[0]*n[1]),{shape:n}),this.sigma=P()(new Float64Array(n[0]*n[1]),{shape:n});for(var a=0;a<this.nclass;a++){for(var i=[],s=this.classes[a],o=0;o<this.n;o++)r[o]===s&&i.push(o);var c=i.length;this.prior[s]=nt()(c/this.n);for(var u=function(r){var n=i.map((function(e){return t.get(e,r)})),s=Object(ct.a)(n),o=Object(ut.a)(n);e.mu.set(r,a,s),e.sigma.set(r,a,o)},l=0;l<this.p;l++)u(l)}},ft.prototype.calcGaussianProb=function(t,r){for(var e=this.classes[r],n=this.prior[e],a=0;a<this.p;a++){var i=this.sigma.get(a,r),s=i*i,o=this.mu.get(a,r);n+=-.5*nt()(2*ot.a*s)-it()(t[a]-o,2)/s}return n},ft.prototype.predictOne=function(t){for(var r=this.classes.length,e=new Array(r),n=0;n<r;n++)e[n]=this.calcGaussianProb(t,n);for(var a=e[0],i=this.classes[0],s=0;s<r;s++){var o=e[s];o>a&&(a=o,i=this.classes[s])}return i},ft.prototype.predict=function(t){var r=this.classes.length;if(H()(t)&&(t=P()(t)),Q()(t)){for(var e=rt()(t.shape,2),n=e[0],a=e[1],i=new Array(n),s=0;s<n;s++){for(var o=new Array(r),c=0;c<r;c++){for(var u=new Array(a),l=0;l<a;l++)u[l]=t.get(s,l);o[c]=this.calcGaussianProb(u,c)}for(var h=o[0],f=this.classes[0],p=0;p<r;p++){var v=o[p];v>h&&(h=v,f=this.classes[p])}i[s]=f}return i}return this.predictOne(t)},ft.prototype.predictProbs=function(t){if(H()(t)&&(t=P()(t)),Q()(t)){for(var r=rt()(t.shape,2),e=r[0],n=r[1],a=new Array(e),i=0;i<e;i++){for(var s=new Array(this.nclass),o=0;o<this.nclass;o++){for(var c=new Array(n),u=0;u<n;u++)c[u]=t.get(i,u);s[o]=this.calcGaussianProb(c,o)}for(var l=Object(lt.a)(s),h=0,f=0;f<s.length;f++)h+=B()(s[f]-l);var p=l+nt()(h);s=Object(ht.a)(s,p),a[i]=s.map((function(t){return B()(t)}))}return a}for(var v=new Array(this.nclass),d=0;d<this.nclass;d++)v[d]=this.calcGaussianProb(t,d);for(var y=Object(lt.a)(v),g=0,m=0;m<v.length;m++)g+=B()(v[m]-y);var b=y+nt()(g);return Z()("logLik"),(v=Object(ht.a)(v,b)).map((function(t){return B()(t)}))};var pt=ft,vt=(e(5565),function(t){for(var r=0,e=0;e<t.length;e++)r+=t[e];return r});function dt(t,r,e){this.n=t.shape[0],this.p=t.shape[1],this.classes=A()(r.slice()),this.nclass=this.classes.length,this.alpha=e,this.fitMultinomial(t,r)}dt.prototype.score=e(4485),dt.prototype.fitMultinomial=function(t,r){for(var e={},n=[this.p,this.nclass],a=P()(new Float64Array(n[0]*n[1]),{shape:n}),i=0;i<this.nclass;i++){for(var s=[],o=new Int32Array(this.p),c=this.classes[i],u=0;u<this.n;u++)r[u]===c&&s.push(u);var l=s.length;e[c]=nt()(l/this.n);for(var h=0,f=function(r){var e=s.map((function(e){return t.get(e,r)}));o[r]=vt(e),h+=o[r]},p=0;p<this.p;p++)f(p);for(var v=0;v<this.p;v++){var d=nt()(o[v]+this.alpha)-nt()(h+this.p*this.alpha);a.set(v,i,d)}}this.prior=e,this.cprob=a},dt.prototype.calcMultinomProb=function(t,r,e){var n=this.classes[r],a=this.prior[n];for(e=0;e<this.p;e++){a+=t[e]?t[e]*this.cprob.get(e,r):0}return a},dt.prototype.predictOne=function(t){for(var r=this.classes.length,e=new Array(r),n=0;n<r;n++){var a=this.classes[n];e[n]=this.prior[a];for(var i=0;i<this.p;i++){var s=t[i]?t[i]*this.cprob.get(i,n):0;e[n]+=s}}for(var o=e[0],c=this.classes[0],u=0;u<r;u++){var l=e[u];l>o&&(o=l,c=this.classes[u])}return c},dt.prototype.predict=function(t){var r=this.classes.length;if(H()(t)&&(t=P()(t)),Q()(t)){for(var e=[],n=t.shape[0],a=0;a<n;a++){for(var i=new Array(r),s=0;s<r;s++){var o=this.classes[s];i[s]=this.prior[o];for(var c=0;c<this.p;c++){var u=t.get(a,c)?t.get(a,c)*this.cprob.get(c,s):0;i[s]+=u}}for(var l=i[0],h=this.classes[0],f=0;f<r;f++){var p=i[f];p>l&&(l=p,h=this.classes[f])}e[a]=h}return e}return this.predictOne(t)},dt.prototype.predictProbs=function(t){if(H()(t)&&(t=P()(t)),Q()(t)){for(var r=t.shape[0],e=new Array(r),n=0;n<r;n++){for(var a=new Array(this.nclass),i=0;i<this.nclass;i++){var s=this.classes[i];a[i]=this.prior[s];for(var o=0;o<this.p;o++){var c=t.get(n,o)?t.get(n,o)*this.cprob.get(o,i):0;a[i]+=c}}for(var u=Object(lt.a)(a),l=0,h=0;h<a.length;h++)l+=B()(a[h]-u);var f=u+nt()(l);a=Object(ht.a)(a,f),e[n]=a.map((function(t){return B()(t)}))}return e}for(var p=new Array(this.nclass),v=0;v<this.nclass;v++){var d=this.classes[v];p[v]=this.prior[d];for(var y=0;y<this.p;y++){var g=t[y]*this.cprob.get(y,v);p[v]+=g}}for(var m=Object(lt.a)(p),b=0,w=0;w<p.length;w++)b+=B()(p[w]-m);var A=m+nt()(b);return(p=Object(ht.a)(p,A)).map((function(t){return B()(t)}))};function yt(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,n=v()(t);if(r){var a=v()(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return f()(this,e)}}var gt=0;function mt(t){return R()(t)||N()(t)}function bt(t){return Object(k.isPrimitive)(t)&&!R()(t)}function wt(t,r,e,n){for(var a=[],i=[],s={},o=0;o<t.length;o++){var c=e[t[o]];if(F()(n,t[o]))i.push(t[o]);else{for(var u=Object(X.a)(c,t[o]),l=0;l<u.length;l++)i.push("".concat(t[o],"_").concat(u[l]));s[t[o]]=u}}for(var h=e[t[0]].length,f=0;f<h;f++){for(var p=[],v=0;v<t.length;v++){var d=e[t[v]];if(F()(n,t[v]))p.push(d[f]);else for(var y=s[t[v]],g=d[f],m=0;m<y.length;m++)p.push(g===y[m]?1:0)}a.push(p)}return{matrix:a=P()(a),predictors:i,yvalues:e[r]}}function At(t,r,e,n){for(var a=[],i=[],s={},o=0;o<t.length;o++){var c=e[t[o]];if(F()(n,t[o]))i.push(t[o]);else{for(var u=Object(X.a)(c,t[o]),l=0;l<u.length;l++)i.push("".concat(t[o],"_").concat(u[l]));s[t[o]]=u}}for(var h=e[t[0]].length,f=[],p=0;p<h;p++){for(var v=[],d=!1,y=0;y<t.length;y++){var g=e[t[y]];if(F()(n,t[y]))bt(g[p])?v.push(g[p]):d=!0;else{var m=s[t[y]],b=g[p];if(mt(b))d=!0;else for(var w=0;w<m.length;w++)v.push(b===m[w]?1:0)}}mt(e[r][p])&&(d=!0),d||(a.push(v),f.push(e[r][p]))}return{matrix:a=P()(a),predictors:i,yvalues:f}}var xt=m()("span",{className:"title"},void 0,"A-priori probabilities:"),Ot=m()("span",{className:"title"},void 0,"Conditionals:"),jt=m()("th",{},void 0,"Mean"),St=m()("th",{},void 0,"SD"),Pt=m()("th",{},void 0,"Yes"),Ct=m()("th",{},void 0,"No"),Ft=function(t,r,e){return m()("div",{},void 0,xt,m()(j.a,{bordered:!0,size:"sm"},void 0,m()("thead",{},void 0,m()("tr",{},void 0,r.classes.map((function(t,r){return m()("th",{},r,t)})))),m()("tbody",{},void 0,m()("tr",{},void 0,r.classes.map((function(t,e){return m()("th",{},e,B()(r.prior[t]).toFixed(3))}))))),Ot,t.map((function(t,n){return F()(e,t)?m()(j.a,{bordered:!0,size:"sm"},n,m()("thead",{},void 0,m()("tr",{},void 0,m()("th",{},void 0,t),r.classes.map((function(t,r){return m()("th",{},r,t)})))),m()("tbody",{},void 0,m()("tr",{},void 0,jt,r.classes.map((function(t,e){return m()("td",{},"".concat(n,"-").concat(e),r.mu.get(n,e).toFixed(6))}))),m()("tr",{},void 0,St,r.classes.map((function(t,e){return m()("td",{},"".concat(n,"-").concat(e),r.sigma.get(n,e).toFixed(6))}))))):m()(j.a,{bordered:!0,size:"sm"},n,m()("thead",{},void 0,m()("tr",{},void 0,m()("th",{},void 0,t),r.classes.map((function(t,r){return m()("th",{},r,t)})))),m()("tbody",{},void 0,m()("tr",{},void 0,Pt,r.classes.map((function(t,e){return m()("td",{},"".concat(n,"-").concat(e),r.mu.get(n,e).toFixed(3))}))),m()("tr",{},void 0,Ct,r.classes.map((function(t,e){return m()("td",{},"".concat(n,"-").concat(e),(1-r.mu.get(n,e)).toFixed(3))})))))})))},Et=m()(O.a.Header,{as:"h4"},void 0,"Naive Bayes",m()(U.a,{title:"Naive Bayes",content:""})),Mt=function(t){l()(e,t);var r=yt(e);function e(t){var n;return a()(this,e),n=r.call(this,t),y()(c()(n),"compute",(function(){gt+=1;var t=n.state,r=t.y,e=t.x,a=t.omitMissing;V()(e)||(e=[e]);var i=(a?At:wt)(e,r,n.props.data,n.props.quantitative),s=i.matrix,o=i.predictors,c=function(t,r){if(H()(t))t=P()(t);else if(!Q()(t)){throw new TypeError("invalid input argument. The first argument must be a matrix or an array-of-arrays. Value: `"+t+"`")}if(!$()(r))throw new TypeError("invalid input argument. The second argument must be array-like. Value: `"+r+"`");return new pt(t,r)}(s,i.yvalues);n.props.logAction(J.y,{y:r,x:e});var u={variable:" Summary",type:"Naive Bayes",value:m()("div",{style:{overflowX:"auto",width:"100%"}},void 0,m()("span",{className:"title"},void 0,"Naive Bayes for Response ",r," (model id: bayes",gt,")"),Ft(o,c,n.props.quantitative),m()(D.a,{tooltip:"Predictions and residuals will be attached to data table"},void 0,m()(x.a,{variant:"secondary",size:"sm",onClick:function(){for(var t=M()(n.props.data,1),r=n.props.quantitative.slice(),a=wt(e,n.props.data,n.props.quantitative).matrix,i=c.predictProbs(a),s=function(e){var n="probs_"+c.classes[e]+"_bayes"+gt,a=i.map((function(t){return t[e]}));t[n]=a,F()(r,n)||r.push(n)},o=0;o<c.classes.length;o++)s(o);var u=c.predict(a),l="pred_bayes"+gt;t[l]=u;var h=n.props.categorical.slice();F()(h,l)||h.push(l),n.props.onGenerate(r,h,t)}},void 0,"Use this model to predict for currently selected data")))};n.props.onCreated(u)})),n.state={y:t.categorical[0],x:t.quantitative[0],omitMissing:!1},n}return s()(e,[{key:"render",value:function(){var t=this,r=this.props,e=r.categorical,n=r.quantitative,a=this.state,i=a.x,s=a.y;return m()(O.a,{style:{fontSize:"14px"}},void 0,Et,m()(O.a.Body,{},void 0,m()(I.a,{legend:"Outcome (Y):",options:e,defaultValue:s,onChange:function(r){return t.setState({y:r})}}),m()(I.a,{legend:"Predictors (X):",multi:!0,options:A()(n.concat(e)),defaultValue:i||"",onChange:function(r){return t.setState({x:r})}}),m()(_.a,{legend:"Omit missing values",defaultValue:!1,onChange:function(r){return t.setState({omitMissing:r})}}),m()(x.a,{disabled:!i||0===i.length,variant:"primary",block:!0,onClick:this.compute},void 0,"Calculate")))}}]),e}(b.Component);Mt.defaultProps={logAction:function(){}};r.default=Mt}}]);