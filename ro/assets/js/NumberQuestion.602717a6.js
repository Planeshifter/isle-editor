(self.webpackChunk=self.webpackChunk||[]).push([[5956],{956780:function(t,e,n){"use strict";var i=(0,n(844601).Z)((function(){return n.e(112).then(n.bind(n,198164))}));e.Z=i},812383:function(t,e,n){"use strict";var i=n(454530),s=n(202784),r=(n(213980),function(t){var e=t.children,n=(0,i.Z)(t,["children"]);return s.createElement("div",n,e)});r.defaultProps={className:"",style:{}},e.Z=r},912740:function(t,e,n){"use strict";var i=(0,n(844601).Z)((function(){return n.e(6131).then(n.bind(n,357459))}));e.Z=i},810035:function(t,e,n){"use strict";var i=(0,n(844601).Z)((function(){return Promise.all([n.e(532),n.e(4507)]).then(n.bind(n,149764))}));e.Z=i},354630:function(t,e,n){"use strict";n.r(e);n(382139),n(627476),n(95767),n(694882),n(298351);var i=n(858255),s=n(264659),r=n(904730),o=n(673989),u=n(175663),a=n(750591),l=n(575630),c=n(151119),d=(n(898837),n(202784)),f=(n(213980),n(198)),m=n(482228),p=n(223444),b=n(911755),v=n.n(b),h=n(109918),g=n.n(h),Z=n(395465),y=n.n(Z),S=n(74039),k=n.n(S),N=n(871199),O=n.n(N),P=n(309765),w=n.n(P),q=n(588703),x=n.n(q),T=n(42111),j=n(462874),C=n(358988),E=n(912740),F=n(812383),R=n(741709),B=n(956780),L=n(228856),A=n(810035),D=n(741319),H=n(312093),U=n(964909),I=n(5140),K=n(432261);function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=(0,l.Z)(t);if(e){var s=(0,l.Z)(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}var _=(0,T.Z)("number-question"),z=v()("isle:number-question");function Q(t,e){if(x()(e)){for(var n=0;n<e.length;n++)if(t===e[n])return!0;return!1}return t===e}function W(t,e,n){if(t=k()(t,-n),x()(e)){for(var i=0;i<e.length;i++)if(t===k()(e[i],-n))return!0;return!1}return t===k()(e,-n)}var G=function(t){(0,u.Z)(n,t);var e=V(n);function n(t,i){var r;(0,s.Z)(this,n),r=e.call(this,t),(0,c.Z)((0,o.Z)(r),"handleChange",(function(t){z("Handle change of input field..."),r.setState({value:t}),r.props.onChange(t)})),(0,c.Z)((0,o.Z)(r),"handleKeyPress",(function(t){13===t.charCode&&(document&&document.activeElement&&(z("Trigger blur event..."),document.activeElement.blur()),setTimeout(r.submitHandler,50))})),(0,c.Z)((0,o.Z)(r),"sendSubmitNotification",(function(t){var e=r.context;if(O()(r.props.solution))e.addNotification({title:r.state.submitted?"Answer re-submitted.":"Answer submitted.",message:r.state.submitted?r.props.t("resubmission-message"):r.props.t("submission-message"),level:"info"});else if(r.props.provideFeedback){var n,i;if(t)n=r.props.t("submission-correct"),i="success";else{var s=r.state.numSubmissions+1;n=s<r.props.nTries?r.props.t("submission-try-again")+" ("+r.props.t("tries",{count:r.props.nTries-s})+").":r.props.t("submission-incorrect"),i="error"}e.addNotification({title:r.props.t("answer-submitted"),message:n,level:i})}else e.addNotification({title:r.state.submitted?r.props.t("answer-resubmitted"):r.props.t("answer-submitted"),message:r.state.submitted?r.props.t("resubmission-message"):r.props.t("submission-message"),level:"info"})})),(0,c.Z)((0,o.Z)(r),"submitHandler",(function(){var t=r.context,e=parseFloat(r.state.value);if(e<r.props.min||e>r.props.max)return t.addNotification({title:r.props.t("invalid-answer"),message:r.props.t("invalid-range",{min:r.props.min,max:r.props.max}),level:"error"});var n,i=r.props,s=i.digits,o=i.solution;if(!O()(o)){var u=parseFloat(r.state.value);n=null===s?Q(u,o):W(u,o,s)}r.props.onSubmit(e,n),r.props.disableSubmitNotification||r.sendSubmitNotification(n),r.setState({submitted:!0,correct:n,numSubmissions:r.state.numSubmissions+1}),t.log({id:r.id,type:I.Sl,value:r.state.value})})),(0,c.Z)((0,o.Z)(r),"logHint",(function(t){z("Logging hint..."),r.context.log({id:r.id,type:I.Q7,value:t})})),r.id=t.id||_(t);var u=i.currentUserActions,a=(0,H.Z)(u,r.id,I.Sl);return r.state=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({value:w()(a)?a:t.defaultValue,submitted:a&&O()(t.solution),numSubmissions:0,correct:t.digits?W(a,t.solution,t.digits):Q(a,t.solution)},t),r}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.context;e&&(this.unsubscribe=e.subscribe((function(e,n){if(e===U.u){var i=n[t.id];if(x()(i)&&(i=i.filter((function(t){return t.type===I.Sl}))).length>0){var s=i[0].value;t.setState({value:s,submitted:O()(t.props.solution)})}}})))}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"renderSubmitButton",value:function(){var t=this.context,e=this.props,n=e.until,s=e.nTries,r=e.solution,o=e.submitAfterFeedback,u=e.t;if(n&&t.startTime>n)return(0,i.Z)("span",{className:"title",style:{marginLeft:4}},void 0,u("question-closed"));var a=null!==r,l=this.state.submitted&&a&&(this.state.numSubmissions>=s&&!o||this.state.correct);return(0,i.Z)(C.Z,{className:"submit-button",variant:"primary",size:"sm",disabled:l,onClick:this.submitHandler,style:{marginLeft:3}},void 0,this.state.submitted&&!r?u("resubmit"):u("submit"))}},{key:"render",value:function(){var t=this.props,e=t.chat,n=t.feedback,s=t.hints,r=t.hintPlacement,o=t.question,u=t.points,a=t.provideFeedback,l=t.nTries,c=t.solution,d=t.submitAfterFeedback,f=t.style,b=t.t,v=s.length,h=null!==c,g=this.state.submitted&&h&&(this.state.numSubmissions>=l&&!d||this.state.correct);return(0,i.Z)(j.Z,{id:this.id,className:"number-question",style:f,fullscreen:!0,bodyStyle:{display:"inline-block",marginBottom:6}},void 0,o?(0,i.Z)("p",{},void 0,(0,i.Z)("label",{},void 0,o)):null,(0,i.Z)("div",{className:"number-question-input-wrapper"},void 0,(0,i.Z)(R.Z,{step:"any",legend:b("your-answer"),onChange:this.handleChange,defaultValue:this.state.value,disabled:g,inline:!0,width:90,numbersOnly:!1,onKeyPress:this.handleKeyPress,tooltip:(0,R.N)(this.props)}),this.state.submitted&&h&&a&&(this.state.correct||this.state.numSubmissions>=l)?(0,i.Z)(p.Z,{variant:this.state.correct?"success":"danger",style:{fontSize:18}},void 0,"".concat(b("solution"),":   "),x()(c)?function(t,e){var n=e("one-of");n+=t[0];for(var i=1;i<t.length-1;i++)n+=", ",n+=t[i];return n+=" "+e("or")+" ",n+t[t.length-1]}(c,b):String(c)):null),(0,i.Z)(m.Z,{className:"number-question-toolbar"},void 0,(0,i.Z)(F.Z,{buttonLabel:b("answers"),id:this.id,data:{type:"number",question:o,solution:c},info:"NUMBER_QUESTION_SUBMISSION",style:{marginLeft:3,marginRight:3},points:u}),v>0?(0,i.Z)(B.Z,{onClick:this.logHint,hints:s,placement:r,style:{marginLeft:3}}):null,e?(0,i.Z)("div",{style:{display:"inline-block",marginLeft:3}},void 0,(0,i.Z)(E.Z,{for:this.id})):null,this.renderSubmitButton()),n?(0,i.Z)(L.Z,{id:this.id+"_feedback",style:{marginRight:5,marginTop:-5}}):null,(0,i.Z)(A.Z,{for:this.id,points:u}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.question!==e.question||t.solution!==e.solution?{value:void 0,submitted:!1,question:t.question,solution:t.solution}:null}}]),n}(d.Component);G.defaultProps={question:"",hints:[],hintPlacement:"top",feedback:!0,solution:null,digits:3,max:g(),min:y(),defaultValue:0,provideFeedback:!0,submitAfterFeedback:!1,nTries:1,disableSubmitNotification:!1,chat:!1,until:null,points:10,style:{},onChange:function(){},onSubmit:function(){}},G.contextType=D.Z,e.default=(0,f.Z)("questions/number")((0,K.W)(G))},312093:function(t,e,n){"use strict";n(898837);var i=n(588703),s=n.n(i),r=n(830324),o=n.n(r);e.Z=function(t,e,n){if(o()(t)){var i=t[e];if(s()(i)&&(i=i.filter((function(t){return t.type===n}))).length>0)return i[0].value}return null}},482228:function(t,e,n){"use strict";var i=n(607560),s=n(998283),r=n(72779),o=n.n(r),u=n(202784),a=n(429658),l=["bsPrefix","className"],c=u.forwardRef((function(t,e){var n=t.bsPrefix,r=t.className,c=(0,s.Z)(t,l),d=(0,a.vE)(n,"btn-toolbar");return u.createElement("div",(0,i.Z)({},c,{ref:e,className:o()(r,d)}))}));c.displayName="ButtonToolbar",c.defaultProps={role:"toolbar"},e.Z=c}}]);