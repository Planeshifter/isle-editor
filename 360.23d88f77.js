/*! For license information please see 360.23d88f77.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[360],{1244:function(t,e,r){r(1288)("Float64",8,(function(t){return function(e,r,a){return t(this,e,r,a)}}))},1358:function(t,e,r){"use strict";var a=r(345);t.exports=function(t){return 0===t||a(t)?t:t<0?-1:1}},1436:function(t,e,r){"use strict";var a=r(767),i=r.n(a),n=r(384);e.a=function(t,e){var r=i()(e);if(!i()(t))throw new TypeError("invalid input argument. Must provide an array. Value: `"+t+"`.");if(!r&&!Object(n.isPrimitive)(e))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+e+"`.");var a=t.length,o=new Array(a);if(r){if(a!==e.length)throw new Error("invalid input argument. Array to be added must have a length equal to that of the input array.");for(var s=0;s<a;s++)o[s]=t[s]-e[s]}else for(var u=0;u<a;u++)o[u]=t[u]-e;return o}},1902:function(t,e){t.exports=function(t){throw new Error('"'+t+'" is read-only')}},1903:function(t,e,r){"use strict";var a=r(2870);t.exports=a},2870:function(t,e,r){"use strict";var a=r(1022)(r(402));t.exports=a},4277:function(t,e,r){"use strict";r(1244);e.a=function(t,e){for(var r=t.shape[0],a=t.shape[1],i=new Float64Array(r),n=0;n<r;n++){for(var o=0,s=0;s<a;s++)o+=t.get(n,s)*e[s];i[n]=o}return i}},4278:function(t,e,r){"use strict";var a=r(1669),i=r.n(a)()("float64",2);e.a=function(t){var e=[t.shape[1],t.shape[0]],r=[t.strides[1],t.strides[0]],a=t.offset,n=t.order;return i(t._buffer,e,r,a,n)}},5560:function(t,e,r){"use strict";var a=r(5561);t.exports=a},5561:function(t,e,r){"use strict";var a=r(897);t.exports=function(t,e,r){a(t,e,{configurable:!0,enumerable:!1,writable:!0,value:r})}},5826:function(t,e,r){"use strict";r.r(e);r(357),r(350),r(360);var a=r(351),i=r.n(a),n=r(352),o=r.n(n),s=r(365),u=r.n(s),c=r(354),l=r.n(c),h=r(355),v=r.n(h),f=r(353),p=r.n(f),d=r(349),m=r.n(d),g=(r(732),r(358)),b=r.n(g),y=r(0),w=(r(341),r(760)),A=r.n(w),S=r(1206),x=r.n(S),T=r(1207),O=r.n(T),E=r(477),V=r.n(E),R=r(500),j=r.n(R),F=r(402),q=r.n(F),P=r(507),z=r.n(P),K=r(369),N=r.n(K),k=r(387),L=r(892),_=r(555),C=r(508),I=r(585),M=r(691),D=r(777),G=r(461),J=r(420),X=r(1902),U=r.n(X),Y=r(778),B=r(981),H=r(5560),Q=r.n(H);var W=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Object(Y.a)(t),i=Object(B.a)(t),n=t.length,o=new Array(n);if(e)if(r)for(var s=0;s<n;s++)o[s]=(t[s]-a)/i;else for(var u=0;u<n;u++)o[u]=t[u]-a;else if(r)for(var c=0;c<n;c++)o[c]=t[c]/i;else U()("out"),o=t.slice();return Q()(o,"mu",a),Q()(o,"sigma",i),o},Z=r(767),$=r.n(Z),tt=r(384),et=r.n(tt);var rt=function(t,e){var r=$()(e);if(!$()(t))throw new TypeError("invalid input argument. Must provide an array. Value: `"+t+"`.");if(!r&&!Object(tt.isPrimitive)(e))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+e+"`.");var a=t.length,i=new Array(a);if(r){if(a!==e.length)throw new Error("invalid input argument. Array to be multiplied must have a length equal to that of the input array.");for(var n=0;n<a;n++)i[n]=t[n]*e[n]}else for(var o=0;o<a;o++)i[o]=t[o]*e;return i},at=r(672),it=(r(1244),r(399)),nt=r.n(it),ot=r(698),st=r.n(ot),ut=r(905),ct=r.n(ut),lt=r(1903),ht=r.n(lt),vt=r(2419),ft=r.n(vt),pt=r(1669),dt=r.n(pt),mt=r(1425),gt=r.n(mt),bt=r(362),yt=r.n(bt),wt=r(4277),At=r(4278),St=r(1436);var xt=function(t,e,r){var a=$()(e);if(!$()(t))throw new TypeError("invalid input argument. Must provide an array. Value: `"+t+"`.");if(!a&&!Object(tt.isPrimitive)(e))throw new TypeError("invalid input argument. Second argument must either be an array or number primitive. Value: `"+e+"`.");var i=t.length,n=new Array(i);if(a){if(i!==e.length)throw new Error("invalid input argument. Array to be divided must have a length equal to that of the input array.");for(var o=0;o<i;o++)n[o]=t[o]/e[o]}else for(var s=0;s<i;s++)n[s]=t[s]/e;return n};var Tt=function(t,e,r){for(var a=0,i=t.shape[0],n=0;n<i;n++){var o=t.get(n,r),s=e.get(n,r);0!==o&&0!==s&&(a+=o*s)}return a};var Ot=function(t,e){for(var r=t.length,a=0,i=0;i<r;i++)a+=t[i]*e[i];return a};var Et=function(t,e){return t>e?t-e:t<-e?t+e:0},Vt=nt()("isle:lasso"),Rt=dt()("generic",2),jt=1e-9,Ft=function(t,e){for(var r=new Float64Array(t.shape[0]),a=0;a<r.length;a++)r[a]=t.get(a,e);return r};function qt(t,e,r){var a=this;this.y=t,this.x=e,this.lambda=r,this.N=e.shape[0],this.p=e.shape[1],this.beta=new Float64Array(this.p),this.betast=new Float64Array(this.p),this.active=st()(0,this.beta.length,1),this.nonactive=[],this.presid=Rt(new Float64Array(e._buffer.length),e.shape,e.strides,e.offset,e.order),this.init=function(){a.iteration=0,a.iterate()},this.init()}qt.prototype.testKKT=function(){for(var t=this.beta,e=this.N,r=this.x,a=this.y,i=Object(St.a)(a,Object(wt.a)(r,t)),n=xt(Object(wt.a)(Object(At.a)(r),i),e),o=0;o<t.length;o++)if(0===t[o]){if(yt()(n[o])>this.lambda+jt)return!1}else if(t[o]>0&&n[o]-this.lambda*ct()(t[o])>jt)return!1;return!0},qt.prototype.testActiveSet=function(){for(var t=!1,e=this.predict(this.x).residuals,r=0;r<this.nonactive.length;r++){var a=this.nonactive[r],i=Ft(this.x,a);yt()(Ot(i,e))/this.N>this.lambda&&(this.active.push(a),this.nonactive.splice(r,1),t=!0)}return Vt("Active set changes..."),t},qt.prototype.iterate=function(){var t=this.N,e=this.p,r=this.x,a=this.y;if(this.iteration+=1,!(this.iteration>1e4)){for(var i=!0,n=0;n<this.active.length;n++){for(var o=this.active[n],s=0;s<t;s++){for(var u=a[s],c=0;c<e;c++)u-=o!==c?r.get(s,c)*this.beta[c]:0;this.presid.set(s,o,u)}this.betast[o]=1/t*Tt(r,this.presid,o);var l=this.beta[o],h=Et(this.betast[o],this.lambda);yt()(h-l)>jt&&(i=!1),this.beta[o]=h}for(var v=this.active.length-1;v>=0;v--){var f=this.active[v];yt()(this.beta[f])<jt&&(this.active.splice(v,1),this.nonactive.push(f))}(!1===i||this.testActiveSet())&&this.iterate()}},qt.prototype.predict=function(t){ht()(t)&&(t=gt()(t));for(var e=Object(wt.a)(t,this.beta),r=new Array(this.N),a=0;a<this.N;a++)r[a]=this.y[a]-e[a];return{fitted:e,residuals:r}};var Pt=function(t,e,r){if(!et.a)throw new TypeError("invalid input argument. The third argument must be a number primitive. Value: `"+r+"`");if(!$()(e))throw new TypeError("invalid input argument. The second argument must be array-like. Value: `"+e+"`");if(ht()(t))t=gt()(t);else if(!ft()(t)){throw new TypeError("invalid input argument. The first argument must be a matrix or an array-of-arrays. Value: `"+t+"`")}return new qt(e,t,r)};function zt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,a=p()(t);if(e){var i=p()(this).constructor;r=Reflect.construct(a,arguments,i)}else r=a.apply(this,arguments);return v()(this,r)}}var Kt=b()("span",{},void 0,"Fit a regression model in which non-zero regression coefficients are penalized using the ",b()(_.a,{raw:"\\lambda"})," regularization parameter. The LASSO performs automatic model selection as it will shrink the regression coefficients of some variables to zero."),Nt=0,kt=b()("thead",{},void 0,b()("tr",{},void 0,b()("th",{},void 0,"Predictor"),b()("th",{},void 0,"Coefficient"))),Lt=b()("th",{},void 0,"Intercept"),_t=function(t,e,r){return b()(L.a,{bordered:!0,size:"sm"},void 0,kt,b()("tbody",{},void 0,e?b()("tr",{},void 0,Lt,b()("td",{},void 0,r.beta[0].toFixed(6))):null,t.map((function(t,a){return b()("tr",{},a,b()("th",{},void 0,t),b()("td",{},void 0,r.beta[a+Number(e)].toFixed(6)))}))))};function Ct(t,e,r,a){for(var i=[],n=[],o={},s={},u={},c=e[t[0]].length,l=0;l<t.length;l++)if(j()(r,t[l])){var h=W(e[t[l]]);s[t[l]]=h,n.push(t[l])}else{for(var v=e[t[l]],f=x()(v,O.a),p=t[l].categories||V()(f),d=a?1:0;d<p.length;d++){var m="".concat(t[l],"_").concat(p[d]);n.push(m);var g=f[p[d]]/c;u[m]={mu:g,sigma:N()(g*(1-g))}}o[t[l]]=p}for(var b=0;b<c;b++){var y=[];a&&y.push(1);for(var w=0;w<t.length;w++)if(j()(r,t[w])){var A=s[t[w]];y.push(A[b])}else for(var S=e[t[w]],T=o[t[w]],E=S[b],R=a?1:0;R<T.length;R++){var F=u["".concat(t[w],"_").concat(T[R])],q=F.mu,P=F.sigma;y.push(E===T[R]?(1-q)/P:-q/P)}i.push(y)}return{matrix:i,predictors:n,categoricalStats:u,standardized:s}}var It=b()("span",{},void 0,"LASSO Regression",b()(at.a,{title:"LASSO Regression",content:Kt})),Mt=b()("span",{},void 0,"L1 Penalty Term ",b()(_.a,{raw:"\\lambda"})),Dt=b()(I.a,{legend:"Include intercept?",defaultValue:!0}),Gt=function(t){l()(r,t);var e=zt(r);function r(t){var a;return i()(this,r),a=e.call(this,t),m()(u()(a),"compute",(function(t,e,r,i){Nt+=1;var n=a.props.data[t];n=W(n,!1,!0),q()(e)||(e=[e]);var o=Ct(e,a.props.data,a.props.quantitative,i),s=o.matrix,u=o.predictors,c=o.categoricalStats,l=o.standardized,h=new Pt(s,n,r);if(i){for(var v=0,f=1;f<h.beta.length;f++){var p=u[f-1];j()(a.props.quantitative,p)?(h.beta[f]*=n.sigma/l[p].sigma,v+=h.beta[f]*l[p].mu):(h.beta[f]*=n.sigma/c[p].sigma,v+=h.beta[f]*c[p].mu)}h.beta[0]=n.mu-v}else for(var d=0;d<h.beta.length;d++){var m=u[d];j()(a.props.quantitative,m)?h.beta[d]*=n.sigma/l[m].sigma:h.beta[d]*=n.sigma/c[m].sigma}a.props.logAction(J.r,{y:t,x:e,intercept:i,lambda:r});var g={variable:"Regression Summary",type:"LASSO Regression",value:b()("div",{style:{overflowX:"auto",width:"100%"}},void 0,b()("span",{className:"title"},void 0,"LASSO Regression for Response ",t," (model id: lasso",Nt,", lambda: ",r.toFixed(4),")"),_t(u,i,h),b()("p",{},void 0,"Karush-Khun-Tucker (KKT) conditions for an optimal solution ",h.testKKT()?"are":"are not"," satisfied"),b()(G.a,{tooltip:"Predictions and residuals will be attached to data table"},void 0,b()(k.a,{variant:"secondary",size:"sm",onClick:function(){var t=Ct(e,a.props.data,a.props.quantitative,i).matrix,r=h.predict(t),o=r.fitted,s=r.residuals;o=rt(o,n.sigma),s=rt(s,-n.sigma);var u=z()(a.props.data,1),c=a.props.quantitative.slice(),l="pred_lasso"+Nt;u[l]=o,j()(c,l)||c.push(l),u[l="resid_lasso"+Nt]=s,j()(c,l)||c.push(l),a.props.onGenerate(c,u)}},void 0,"Use this model to predict for currently selected data")))};a.props.onCreated(g)})),a}return o()(r,[{key:"render",value:function(){var t=this.props,e=t.categorical,r=t.quantitative;return b()(D.a,{title:It,autoStart:!1,onGenerate:this.compute},void 0,b()(C.a,{legend:"Outcome (Y):",options:r,defaultValue:r[0]}),b()(C.a,{legend:"Predictors (X):",multi:!0,options:A()(r.concat(e)),defaultValue:r[1],closeMenuOnSelect:!1}),b()(M.a,{legend:Mt,defaultValue:.001,min:1e-12,max:1,step:"any",rangeInputStyle:{width:320},numberInputStyle:{width:120}}),Dt)}}]),r}(y.Component);Gt.defaultProps={logAction:function(){}};e.default=Gt},905:function(t,e,r){"use strict";var a=r(1358);t.exports=a}}]);