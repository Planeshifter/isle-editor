(window.webpackJsonp=window.webpackJsonp||[]).push([[219],{1188:function(e,t,s){var n=s(452);n(n.P,"Array",{fill:s(1179)}),s(821)("fill")},471:function(e,t,s){"use strict";var n=s(344),i=s(345),r=s(347),o=s.n(r),a=s(0),l=s.n(a),u=s(356),p=l.a.forwardRef((function(e,t){var s=e.bsPrefix,r=e.fluid,a=e.as,p=void 0===a?"div":a,d=e.className,c=Object(i.a)(e,["bsPrefix","fluid","as","className"]),h=Object(u.a)(s,"container"),f="string"==typeof r?"-"+r:"-fluid";return l.a.createElement(p,Object(n.a)({ref:t},c,{className:o()(d,r?""+h+f:h)}))}));p.displayName="Container",p.defaultProps={fluid:!1},t.a=p},5730:function(e,t,s){"use strict";s.r(t);s(360),s(352),s(363);var n=s(362),i=s.n(n),r=(s(1188),s(353)),o=s.n(r),a=s(354),l=s.n(a),u=s(369),p=s.n(u),d=s(357),c=s.n(d),h=s(358),f=s.n(h),g=s(355),m=s.n(g),v=s(350),b=s.n(v),y=s(0),R=(s(341),s(397)),S=s(447),w=s(471),x=s(500),k=s(396),N=s.n(k),P=s(682),E=s(1978),A=s(792),O=s(984),D=s(1298),J=s(438),T=s(443);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,n=m()(e);if(t){var i=m()(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return f()(this,s)}}var C=N()("isle:proportions-survey"),H=Object(P.a)("proportions-survey"),I=i()("h2",{},void 0,"Please sign in..."),Q=function(e){c()(s,e);var t=j(s);function s(e){var n;return o()(this,s),n=t.call(this,e),b()(p()(n),"submitQuestion",(function(){C("Sending the data: "+n.state.value);var e=n.context;e.log({id:n.id,type:T.Qb,value:JSON.stringify(n.state.value),anonymous:n.props.anonymous},"members"),n.setState({submitted:!0}),e.addNotification({title:"Submitted",message:"Your answer has been submitted.",level:"success"}),n.props.onSubmit(n.state.value)})),b()(p()(n),"onData",(function(e){C("ProportionsSurvey is receiving data: "+JSON.stringify(e)),e=e[n.id],n.getAverage(e)})),n.id=e.id||H(e),n.results=[],n.state={submitted:!1,value:null,resultValues:null,nResults:0},n}return l()(s,[{key:"getAverage",value:function(e){for(var t=new Array(e.length),s=0;s<e.length;s++)t[s]=JSON.parse(e[s]);for(var n=new Array(this.props.nElements).fill(0),i=new Array(this.props.nElements).fill(0),r=0;r<t.length;r++)for(var o=0;o<t[r].length;o++)n[o]+=t[r][o];C("The sum is "+n);for(var a=0;a<this.props.nElements;a++)i[a]=n[a]/t.length;C("The mean is "+i),this.setState({resultValues:i,nResults:t.length})}},{key:"render",value:function(){var e=this,t=this.state.submitted&&!this.props.allowMultipleAnswers||this.props.disabled;return i()(A.a,{user:!0,banner:I},void 0,i()(w.a,{},void 0,i()(x.a,{md:6},void 0,i()(S.a,{body:!0,className:"ProportionsSurvey",style:{margin:"0 auto 10px",maxWidth:600,marginTop:"8px"}},void 0,i()("h3",{},void 0,this.props.question),i()(E.a,{legends:this.props.legends,precision:this.props.precision,step:this.props.step,height:this.props.personalHeight,innerRadius:this.props.personalInnerRadius,colors:this.props.colors,margin:this.props.margin,nElements:this.props.nElements,onChange:function(t){e.setState({value:t})}}),i()(R.a,{size:"small",variant:"success",block:!0,fill:!0,onClick:this.submitQuestion,disabled:t},void 0,t?"Submitted":"Submit"))),i()(x.a,{md:6},void 0,i()(S.a,{body:!0,className:"ProportionsSurvey",style:{margin:"0 auto 10px",maxWidth:600,marginTop:"8px"}},void 0,i()("h3",{},void 0,this.props.group),i()(D.a,{for:[this.id],onData:this.onData}),i()("h4",{},void 0,"Number of votes: ",this.state.nResults," "),i()(E.a,{legends:this.props.legends,precision:this.props.precision,step:this.props.step,height:this.props.groupHeight,innerRadius:this.props.groupInnerRadius,colors:this.props.colors,disabled:!0,margin:this.props.margin,values:this.state.resultValues,nElements:this.props.nElements})))),i()(O.a,{buttonLabel:"Responses",id:this.id}))}}]),s}(y.Component);Q.defaultProps={onSubmit:function(){},allowMultipleAnswers:!1,question:"",anonymous:!1,disabled:!1,nElements:6,legends:null,group:"group results",precision:2,step:.25,colors:["tomato","orange","gold","darkcyan","salmon","lightgreen","gainsboro","lightpurple","darkkhaki","darkseagreen"],personalHeight:200,personalInnerRadius:60,groupHeight:100,groupInnerRadius:40,margin:"40px"},Q.contextType=J.a,t.default=Q}}]);