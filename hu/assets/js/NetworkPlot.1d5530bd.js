(self.webpackChunk=self.webpackChunk||[]).push([[1368],{376547:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return P}});n(382139);var r=n(264659),i=n(904730),o=n(673989),a=n(175663),s=n(750591),c=n(575630),u=n(151119),l=(n(319371),n(202784)),f=n(213980),p=n.n(f),d=n(198),h=n(805312),y=(n(627476),n(95767),n(898837),n(694882),n(298351),n(858255)),g=n(928316);function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,c.Z)(t);if(e){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){(0,u.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({margin:{top:20,bottom:30,left:50,right:50},xaxis:{orientation:"bottom"},yaxis:{orientation:"left"}},void 0===t?{}:t)}var b=function(t){(0,a.Z)(n,t);var e=v(n);function n(t){var i;return(0,r.Z)(this,n),(i=e.call(this,t)).opts=k(t.options),i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.chart=h.Ys((0,g.findDOMNode)(this)).append("g").attr("transform","translate("+this.opts.margin.left+","+this.opts.margin.top+")"),this.initialize(this.chart,this.props.data,this.opts)}},{key:"componentDidUpdate",value:function(){this.update(this.chart,this.props.data,this.opts)}},{key:"render",value:function(){var t=this.props,e=t.className,n=t.width,r=t.height,i=k(t.options),o="d3-plot";return e&&(o=o.concat(" ",this.props.className)),(0,y.Z)("svg",{className:o,width:n+i.margin.left+i.margin.right,height:r+i.margin.top+i.margin.bottom,style:{display:"block",margin:"auto"}})}}]),n}(l.Component);b.defaultProps={className:"",options:{}};var Z=b,w=n(432261);function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,c.Z)(t);if(e){var i=(0,c.Z)(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return(0,s.Z)(this,n)}}var x=function(t){(0,a.Z)(n,t);var e=O(n);function n(t){var i;return(0,r.Z)(this,n),i=e.call(this,t),(0,u.Z)((0,o.Z)(i),"dragstarted",(function(t){h.Ba6.active||i.simulation.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y})),(0,u.Z)((0,o.Z)(i),"dragged",(function(t){t.fx=h.Ba6.x,t.fy=h.Ba6.y})),(0,u.Z)((0,o.Z)(i),"dragended",(function(t){h.Ba6.active||i.simulation.alphaTarget(0),t.fx=null,t.fy=null})),i}return(0,i.Z)(n,[{key:"drawPlot",value:function(t,e){var n=t.append("g").attr("class","links").selectAll("line").data(e.links).enter().append("line").attr("stroke-width",2),r=t.append("g").attr("class","nodes").selectAll("circle").data(e.nodes).enter().append("circle").attr("r",5).call(h.ohM().on("start",this.dragstarted).on("drag",this.dragged).on("end",this.dragended));this.simulation.nodes(e.nodes).on("tick",(function(){n.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),r.attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y}))})),this.simulation.force("link").links(e.links),e.nodes=e.nodes.map((function(t){for(var n=0,r=0;r<e.links.length;r++)e.links[r].source.id!==t.id&&e.links[r].target.id!==t.id||(n+=1);return t.nEdges=n,t}));var i=this.props.t;r.append("title").text((function(t){return i("number-of-edges",{nEdges:t.nEdges})})),r.on("mouseover",(function(t){n.style("stroke-width",(function(e){return t===e.source||t===e.target?4:2})),n.style("stroke",(function(e){return t===e.source||t===e.target?"red":"#999"}))})),r.on("mouseout",(function(){n.style("stroke-width",2),n.style("stroke","#999")}))}},{key:"initialize",value:function(t,e,n){this.simulation=h.A4v().force("link",h.Fsl().id((function(t){return t.id})).distance((function(){return 120}))).force("charge",h.q5i().strength((function(){return-10})).distanceMax((function(){return 500}))).force("center",h.wqt(this.props.width/2,this.props.height/2)),this.drawPlot(t,e)}},{key:"update",value:function(t,e,n){t.selectAll(".links").remove(),t.selectAll(".nodes").remove(),this.drawPlot(t,e),this.simulation.alphaTarget(.3).restart()}}]),n}(Z);x.defaultProps={width:900,height:600},x.propTypes={data:p().shape({nodes:p().array,links:p().array}).isRequired,width:p().number,height:p().number};var P=(0,w.W)((0,d.Z)("plotly")(x))}}]);