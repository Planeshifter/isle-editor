/*! For license information please see dll.8.js.LICENSE.txt */
(window.webpackJsonp_name_hash_=window.webpackJsonp_name_hash_||[]).push([[8],{3673:function(e,t,a){"use strict";a.r(t);var n=a(5),o=a.n(n),s=a(6),r=a.n(s),l=a(3),i=a.n(l),u=a(7),d=a.n(u),p=a(8),c=a.n(p),f=a(4),m=a.n(f),h=a(2),w=a.n(h),g=a(0),y=a.n(g),v=a(46),E=a.n(v),I=a(1),C=a.n(I),P=a(22),b=a.n(P),S=a(10),D=a(16),k=a(107),x=a(105),M=a(167),O=a(146),T=a(305),_=a(33),N=a(192),F=a(429),K=a(391),R=a(30);a(3706);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=m()(e);if(t){var o=m()(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return c()(this,a)}}var B=b()("isle:login"),H=function(e){d()(a,e);var t=A(a);function a(e){var n;return o()(this,a),n=t.call(this,e),w()(i()(n),"handleInputChange",(function(e){e.stopPropagation();var t=e.target,a=t.value,o=t.name;n.setState(w()({},o,a))})),w()(i()(n),"handleForgotPassword",(function(e){(e.preventDefault(),""===n.state.email)?n.setState({showInputOverlay:!0,overlayTarget:E.a.findDOMNode(n.emailInput),invalidInputMessage:"Please enter your email address before requesting a new password."}):n.context.forgotPassword(n.state.email)})),w()(i()(n),"hideAfterDelay",(function(){setTimeout((function(){n.setState({showInputOverlay:!1})}),2e3)})),w()(i()(n),"handleKeyPress",(function(e){e.stopPropagation(),13===e.charCode&&n.handleSubmit(e)})),w()(i()(n),"handleSubmit",(function(e){e.preventDefault();var t={password:n.state.password,email:n.state.email};if(""===t.email)B("Email input field is empty, show message..."),n.setState({showInputOverlay:!0,overlayTarget:E.a.findDOMNode(n.emailInput),invalidInputMessage:"Enter your email address."},n.hideAfterDelay);else if(""===t.password)B("Password input field is empty, show message..."),n.setState({showInputOverlay:!0,overlayTarget:E.a.findDOMNode(n.passwordInput),invalidInputMessage:"Enter your password."},n.hideAfterDelay);else{n.context.login(t,(function(e,t,a){if(!e){var o=a.message,s=a.type;"ok"===o?n.props.onClose():n.setState({showInputOverlay:!0,overlayTarget:"no_user"===s?n.emailInput:n.passwordInput,invalidInputMessage:o},n.hideAfterDelay)}}))}})),n.state={email:"",password:"",show:e.show},n}return r()(a,[{key:"render",value:function(){var e=this;return y.a.createElement(_.default,{show:this.props.show,className:"login-modal",onHide:this.props.onClose},y.a.createElement(_.default.Header,{closeButton:!0},y.a.createElement(_.default.Title,{as:"h3"},"Login")),y.a.createElement(_.default.Body,null,y.a.createElement(O.default,{horizontal:!0},y.a.createElement(x.default,{controlId:"form-email"},y.a.createElement(D.default,{sm:2},y.a.createElement(M.default,null,"Email")),y.a.createElement(D.default,{sm:10},y.a.createElement(k.default,{name:"email",type:"email",placeholder:"Email",autoComplete:"username",onChange:this.handleInputChange,onKeyPress:this.handleKeyPress,ref:function(t){e.emailInput=t}}))),y.a.createElement(x.default,{controlId:"form-password"},y.a.createElement(D.default,{sm:2},y.a.createElement(M.default,null,"Password")),y.a.createElement(D.default,{sm:10},y.a.createElement(k.default,{name:"password",type:"password",placeholder:"Password",autoComplete:"current-password",onChange:this.handleInputChange,onKeyPress:this.handleKeyPress,ref:function(t){e.passwordInput=t}}))))),y.a.createElement(_.default.Footer,null,y.a.createElement("button",{className:"forgot-password-button",onClick:this.handleForgotPassword},"Forgot password?"),y.a.createElement(S.default,{variant:"primary",type:"submit",onClick:this.handleSubmit},"Sign in"),y.a.createElement(S.default,{onClick:this.props.onClose},"Close")),y.a.createElement(T.default,{show:this.state.showInputOverlay,target:this.state.overlayTarget,placement:"right",containerPadding:20},y.a.createElement(N.default,{id:"popover-contained"},y.a.createElement(F.default,null,"Not valid"),y.a.createElement(K.default,null,this.state.invalidInputMessage))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.show!==t.show?{email:"",password:"",show:e.show}:null}}]),a}(g.Component);H.defaultProps={onClose:function(){},show:!1},H.propTypes={onClose:C.a.func,show:C.a.bool},H.contextType=R.SessionContext,t.default=H},3706:function(e,t,a){var n=a(37),o=a(3707);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var s={insert:"head",singleton:!1};n(o,s);e.exports=o.locals||{}},3707:function(e,t,a){(t=a(38)(!1)).push([e.i,".login-modal {\n\tposition: fixed;\n\ttop: 20%;\n\theight: auto;\n\tleft: 0;\n\tright: 0;\n\tmargin: auto;\n}\n\n.forgot-password-button {\n\tfloat: left;\n\tmargin-top: 0px;\n\tbackground: none;\n\tborder: none;\n\tcursor: pointer;\n}\n\n.forgot-password-button:hover {\n\tcolor: #2e4468;\n}\n",""]),e.exports=t}}]);