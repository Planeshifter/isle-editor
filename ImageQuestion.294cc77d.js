(window.webpackJsonp=window.webpackJsonp||[]).push([[169],{1158:function(e,t,n){"use strict";var i=n(363),r=n(390);Object(r.b)("GradeFeedbackRenderer");var a=Object(i.a)((function(){return Promise.all([n.e(0),n.e(6),n.e(374),n.e(163)]).then(n.bind(null,1575))}));t.a=a},1971:function(e,t,n){"use strict";n(793),n(368);t.a=function(e){var t=new(0,window.FileReader);return t.readAsDataURL(e),new Promise((function(e){t.onloadend=function(){e(t.result)}}))}},415:function(e,t,n){"use strict";function i(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));var r={};function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&r[t[0]]||("string"==typeof t[0]&&(r[t[0]]=new Date),i.apply(void 0,t))}function o(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return a("i18n.languages were undefined or empty",t.languages),!0;var i=t.languages[0],r=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===i.toLowerCase())return!0;var c=function(e,n){var i=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===i||2===i};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!c(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(i,e)||(!t.services.backendConnector.backend||!(!c(i,e)||r&&!c(o,e))))}function s(e){return e.displayName||e.name||("string"==typeof e&&e.length>0?e:"Unknown")}},434:function(e,t,n){var i=n(448);e.exports=function(e,t){if(null==e)return{};var n,r,a=i(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},448:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}},457:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n(412),r=n.n(i),a=n(366),o=n.n(a),c=n(0),s=n(605),u=n(415);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,i=Object(c.useContext)(s.a)||{},a=i.i18n,o=i.defaultNS,l=n||a||Object(s.d)();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new s.b),!l){Object(u.e)("You will need to pass in an i18next instance by using initReactI18next");var f=function(e){return Array.isArray(e)?e[e.length-1]:e},b=[f,{},!1];return b.t=f,b.i18n={},b.ready=!1,b}var p=d(d(d({},Object(s.c)()),l.options.react),t),g=p.useSuspense,m=e||o||l.options&&l.options.defaultNS;m="string"==typeof m?[m]:m||["translation"],l.reportNamespaces.addUsedNamespaces&&l.reportNamespaces.addUsedNamespaces(m);var v=(l.isInitialized||l.initializedStoreOnce)&&m.every((function(e){return Object(u.b)(e,l,p)}));function h(){return{t:l.getFixedT(null,"fallback"===p.nsMode?m:m[0])}}var O=Object(c.useState)(h()),y=r()(O,2),j=y[0],w=y[1],k=Object(c.useRef)(!0);Object(c.useEffect)((function(){var e=p.bindI18n,t=p.bindI18nStore;function n(){k.current&&w(h())}return k.current=!0,v||g||Object(u.c)(l,m,(function(){k.current&&w(h())})),e&&l&&l.on(e,n),t&&l&&l.store.on(t,n),function(){k.current=!1,e&&l&&e.split(" ").forEach((function(e){return l.off(e,n)})),t&&l&&t.split(" ").forEach((function(e){return l.store.off(e,n)}))}}),[m.join()]);var N=[j.t,l,v];if(N.t=j.t,N.i18n=l,N.ready=v,v)return N;if(!v&&!g)return N;throw new Promise((function(e){Object(u.c)(l,m,(function(){e()}))}))}},631:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n(366),r=n.n(i),a=n(412),o=n.n(a),c=n(434),s=n.n(c),u=n(0),l=n.n(u),d=n(457),f=n(415);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function i(i){var r=i.forwardedRef,a=s()(i,["forwardedRef"]),c=Object(d.a)(e,a),u=o()(c,3),f=u[0],b=u[1],g=u[2],m=p(p({},a),{},{t:f,i18n:b,tReady:g});return t.withRef&&r?m.ref=r:!t.withRef&&r&&(m.forwardedRef=r),l.a.createElement(n,m)}i.displayName="withI18nextTranslation(".concat(Object(f.a)(n),")"),i.WrappedComponent=n;return t.withRef?l.a.forwardRef((function(e,t){return l.a.createElement(i,Object.assign({},e,{forwardedRef:t}))})):i}}},6534:function(e,t,n){"use strict";n.r(t);var i=n(599),r=n.n(i),a=(n(898),n(365)),o=n.n(a),c=n(412),s=n.n(c),u=n(0),l=n.n(u),d=(n(357),n(416)),f=n.n(d),b=n(631),p=n(4523),g=n(458),m=n(394),v=n(491),h=n.n(v),O=n(649),y=n(1278),j=n(1379),w=n(959),k=n(1539),N=n(1292),P=n(979),S=n(756),C=n(1609),R=n(761),E=n(1158),x=n(440),D=n(1971);var L=function(e){e.stopPropagation(),e.preventDefault()},q=n(444),I=(n(276),Object(O.a)("image-question")),z=f()("isle:image-question"),A=/src="([^"]*)"/,T=function(e){var t,n,i=Object(u.useRef)(e.id||I(e)),a=Object(u.useContext)(x.a),c=Object(u.useState)(!1),d=s()(c,2),f=d[0],b=d[1],v=Object(u.useState)(null),O=s()(v,2),T=O[0],B=O[1],F=Object(u.useState)(0===e.hints.length),U=s()(F,2),H=U[0],M=U[1],W=Object(u.useState)(!1),J=s()(W,2),G=J[0],Q=J[1],Y=Object(u.useState)(!1),_=s()(Y,2),K=_[0],V=_[1],X=function(e){B(e.target.result)},Z=e.hints.length,$=o()(k.a,{disabled:!f||!H,onClick:function(){Q(!G)},hasHints:e.hints.length>0}),ee=function(){V(!K)},te=function(){(e.disableSubmitNotification||a.addNotification({title:e.t("submitted"),message:e.t("answer-submitted"),level:"info"}),e.onSubmit(),b(!0),T)?a.log({id:i.current,type:q.nb,value:T}):document.getElementById(i+"-canvas").toBlob((function(e){Object(D.a)(e).then((function(e){a.log({id:i.current,type:q.nb,value:e}),B(e)}))}))};return K||(n=T?o()("div",{className:"center",style:{maxWidth:600}},void 0,o()(y.a,G?{alt:e.t("model-solution"),src:e.solution,width:"100%",height:"auto",style:{border:"solid 1px gold"}}:{alt:e.t("upload"),src:T,width:"100%",height:"auto"})):o()(u.Fragment,{},void 0,o()("div",{className:"image-question-dropzone",onDrop:function(e){e.stopPropagation(),e.preventDefault(),ee();var t=e.dataTransfer,n=new FileReader,i=null;if(t.items&&t.items.length>0){var r=t.items[0];"file"===r.kind?i=r.getAsFile():"string"===r.kind&&r.getAsString((function(e){if(h()(e,"<img")){var t=e.match(A);t&&(B(t[1]),ee())}else if(h()(e,"<thead")){var n=document.createElement("table");n.innerHTML=e,document.body.appendChild(n),Object(p.a)(n,{backgroundColor:"white",style:{fontSize:12},width:600}).then((function(e){B(e),ee(),n.remove()}))}else{var i=document.createElement("pre");i.innerHTML=e,document.body.appendChild(i),Object(p.a)(i,{backgroundColor:"white",style:{fontSize:14}}).then((function(e){B(e),ee(),i.remove()}))}}))}else t.files&&t.files.length>0&&(i=t.files[0]);i&&i&&(n.addEventListener("load",X,!1),n.readAsDataURL(i))},onDragOver:L,onDragEnd:L},void 0,o()("span",{},void 0,e.t("drop-image"))),o()("p",{className:"center"},void 0,e.t("or")),l.a.createElement("input",{id:i.current+"-upload",className:"image-question-upload center",type:"file",accept:"image/*",onChange:function(){var e=new FileReader,n=t.files[0];e.addEventListener("load",X,!1),e.readAsDataURL(n)},ref:function(e){t=e}}),e.sketchpad?o()(u.Fragment,{},void 0,o()("p",{className:"center"},void 0,e.t("or")),l.a.createElement(C.a,r()({id:i.current,hideNavigationButtons:!0,hideSaveButtons:!0,hideTransmitButtons:!0,canvasWidth:900,canvasHeight:600},e.sketchpad))):null)),o()(g.a,{id:i.current,className:"image-question ".concat(e.className),style:e.style},void 0,o()(g.a.Body,{style:{width:e.feedback?"calc(100%-60px)":"100%",display:"inline-block"}},void 0,o()("label",{},void 0,e.question),o()(j.a,{running:K,width:256,height:128}),n,e.feedback?o()(R.a,{vertical:!0,id:i.current+"_feedback",style:{position:"absolute",right:"4px",top:"4px"}}):null,o()(w.a,{buttonLabel:"Answers",id:i.current,info:q.nb,data:{question:e.question,type:"image"},points:e.points}),o()("div",{className:"image-question-toolbar"},void 0,Z>0?o()(P.a,{onClick:function(e){z("Logging hint..."),a.log({id:i.current,type:q.mb,value:e})},hints:e.hints,placement:e.hintPlacement,onFinished:function(){M(!0)}}):null,T?o()(m.a,{size:"sm",variant:"warning",onClick:function(){B(null)}},void 0,e.t("reset")):null,e.until&&a.startTime>e.until?o()("span",{className:"title",style:{marginLeft:4}},void 0,e.t("question-closed")):o()(N.a,{className:"submit-button",variant:"primary",size:"sm",onClick:te},void 0,f?e.t("resubmit"):e.t("submit")),e.solution?$:null,e.chat?o()(S.a,{for:i.current}):null),o()(E.a,{for:i.current,points:e.points})))};T.defaultProps={question:"",hints:[],hintPlacement:"bottom",feedback:!0,chat:!1,disableSubmitNotification:!1,className:"",sketchpad:null,solution:null,until:null,points:10,style:{},onSubmit:function(){}};t.default=Object(b.a)("ImageQuestion")(T)},756:function(e,t,n){"use strict";var i=n(363),r=n(390);Object(r.b)("ChatButton");var a=Object(i.a)((function(){return n.e(137).then(n.bind(null,1175))}));t.a=a},979:function(e,t,n){"use strict";var i=n(363),r=n(390);Object(r.b)("HintButton");var a=Object(i.a)((function(){return n.e(166).then(n.bind(null,1367))}));t.a=a}}]);