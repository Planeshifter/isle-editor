(window.webpackJsonp=window.webpackJsonp||[]).push([[248],{2805:function(e,t){},2806:function(e,t){},5706:function(e){e.exports=JSON.parse('{"DE":{"csv-upload-prompt":"Bitte laden Sie einen Datensatz hoch (CSV-Format)","drop-file":"Datei hier ablegen","error-message":"Der folgende Fehler wurde beim Versuch, die Datei zu lesen, festgestellt","error-title":"Konnte Datei nicht lesen.","first-row-names":"Erste Reihe enth\xe4lt Variablennamen","no-csv":"Keine CSV-Datei.","no-csv-message":"Bei der bereitgestellten Datei handelt es sich nicht um eine CSV-Datei.","title":"Datei-Upload"},"EN":{"csv-upload-prompt":"Please upload a data set (CSV format)","drop-file":"Drop file here","error-message":"The following error was encountered while trying to read the file","error-title":"Could not read file.","first-row-names":"First row contains variable names","no-csv":"No CSV file.","no-csv-message":"The supplied file is not a CSV file.","title":"File Upload"},"ES":{"csv-upload-prompt":"Por favor, cargue un conjunto de datos (formato CSV)","drop-file":"Deje el archivo aqu\xed","error-message":"The following error was encountered while trying to read the file","error-title":"No pude leer el archivo.","first-row-names":"La primera fila contiene nombres de variables","no-csv":"No hay archivo CSV.","no-csv-message":"El archivo suministrado no es un archivo CSV.","title":"Subida de archivos"}}')},5710:function(e,t,n){"use strict";n.r(t);n(357),n(350),n(360);var o=n(358),r=n.n(o),a=(n(704),n(351)),i=n.n(a),s=n(352),l=n.n(s),d=n(365),p=n.n(d),c=n(354),u=n.n(c),f=n(355),h=n.n(f),v=n(353),g=n.n(v),m=n(349),D=n.n(m),w=n(0),S=n.n(w),C=(n(341),n(652)),b=n(427),y=n(1432),F=n(5703),R=n.n(F),V=n(5705),x=n.n(V),E=n(579),U=n.n(E),N=n(634),T=n.n(N),P=n(484),k=n.n(P),A=n(414),L=n(585),O=n(495),j=n(5706);function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=g()(e);if(t){var r=g()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h()(this,n)}}O.a.addResources("de","spreadsheet-upload",j.DE),O.a.addResources("en","spreadsheet-upload",j.EN),O.a.addResources("es","spreadsheet-upload",j.ES);var J=/\r(?!\n)/g,z=r()("p",{},void 0,"or"),H=function(e){u()(n,e);var t=B(n);function n(e){var o;return i()(this,n),o=t.call(this,e),D()(p()(o),"handleFileUpload",(function(){o.setState({uploading:!0},(function(){var e=new FileReader,t=o.fileUpload.files[0];e.addEventListener("load",o.onFileRead,!1),e.addEventListener("progress",(function(e){if(e.lengthComputable){var t=e.loaded/e.total;o.setState({percentCompleted:t})}}),!1),e.readAsText(t,"utf-8")}))})),D()(p()(o),"onFileRead",(function(e){var t,n,r=e.target.result,a=x()(r);t=T()(a)?",":a.delimiter;var i=(r=U()(r,J,"\n")).indexOf("\n"),s=r.substring(0,i).split(t);o.state.header?(n=s,r=r.substring(i+1)):n=s.map((function(e,t){return"VAR_"+(t+1)})),o.setState({percentCompleted:0,uploading:!1}),R()(r,{delimiter:t,columns:n,cast:!0},(function(e,t){if(e)return o.context.addNotification({title:o.props.t("error-title"),message:"".concat(o.props.t("error-message"),": ").concat(e.message),level:"error",position:"tr"}),o.props.onUpload(e);o.props.onUpload(null,t)}))})),D()(p()(o),"ignoreDrag",(function(e){e.stopPropagation(),e.preventDefault()})),D()(p()(o),"onFileDrop",(function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer,n=new FileReader,r=null;if(t.items?"file"===t.items[0].kind&&(r=t.items[0].getAsFile()):r=t.files[0],r){if("text/csv"!==r.type)return o.context.addNotification({title:o.props.t("no-csv"),message:o.props.t("no-csv-message"),level:"error",position:"tr"});n.addEventListener("load",o.onFileRead,!1),n.readAsText(r,"utf-8")}})),o.state={percentCompleted:0,uploading:!1,header:!0},o}return l()(n,[{key:"render",value:function(){var e=this,t=k()(100*this.state.percentCompleted);return r()(b.a,{},void 0,r()(b.a.Header,{as:"h2"},void 0,this.props.title||this.props.t("title")),r()(b.a.Body,{},void 0,r()("label",{htmlFor:"CSVUpload"},void 0,this.props.t("csv-upload-prompt"),":"),S.a.createElement("input",{id:"CSVUpload",type:"file",accept:".csv",onChange:this.handleFileUpload,ref:function(t){e.fileUpload=t},style:{margin:"auto"}}),z,r()("div",{onDrop:this.onFileDrop,onDragOver:this.ignoreDrag,onDragEnd:this.ignoreDrag,style:{minHeight:"150px",width:"250px",border:"1px solid blue",padding:"10px"}},void 0,r()("span",{},void 0,this.props.t("drop-file"))),r()(L.a,{legend:this.props.t("first-row-names"),defaultValue:!0,onChange:function(t){e.setState({header:t})}}),this.state.uploading?r()(y.a,{now:t,label:"".concat(t,"%")}):null))}}]),n}(w.Component);H.defaultProps={onUpload:function(){},title:null},H.contextType=A.a;t.default=Object(C.a)("spreadsheet-upload")(H)}}]);