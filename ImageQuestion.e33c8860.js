(window.webpackJsonp=window.webpackJsonp||[]).push([[164],{1137:function(t,e,n){"use strict";var i=n(353),r=Object(i.a)((function(){return Promise.all([n.e(0),n.e(6),n.e(359),n.e(159)]).then(n.bind(null,1743))}));e.a=r},3280:function(t,e,n){"use strict";n(837),n(355);e.a=function(t){var e=new(0,window.FileReader);return e.readAsDataURL(t),new Promise((function(t){e.onloadend=function(){t(e.result)}}))}},410:function(t,e,n){"use strict";function i(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var r={};function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];"string"==typeof e[0]&&r[e[0]]||("string"==typeof e[0]&&(r[e[0]]=new Date),i.apply(void 0,e))}function s(t,e,n){t.loadNamespaces(e,(function(){if(t.isInitialized)n();else{t.on("initialized",(function e(){setTimeout((function(){t.off("initialized",e)}),0),n()}))}}))}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.languages||!e.languages.length)return o("i18n.languages were undefined or empty",e.languages),!0;var i=e.languages[0],r=!!e.options&&e.options.fallbackLng,s=e.languages[e.languages.length-1];if("cimode"===i.toLowerCase())return!0;var a=function(t,n){var i=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===i||2===i};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t))&&(!!e.hasResourceBundle(i,t)||(!e.services.backendConnector.backend||!(!a(i,t)||r&&!a(s,t))))}function c(t){return t.displayName||t.name||("string"==typeof t&&t.length>0?t:"Unknown")}},434:function(t,e,n){var i=n(447);t.exports=function(t,e){if(null==t)return{};var n,r,o=i(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},447:function(t,e){t.exports=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}},4832:function(t){t.exports=JSON.parse('{"DE":{"answer-submitted":"Antwort eingereicht.","drop-image":"Bild hier ablegen","model-solution":"Modell-L\xf6sung","or":"oder","question-closed":"Frage ist nun geschlossen.","reset":"Zur\xfccksetzen","resubmit":"Erneut einreichen","submit":"Abschicken","submitted":"Abgeschickt","upload":"Datei hochladen"},"EN":{"answer-submitted":"You have successfully submitted your answer.","drop-image":"Drop image here","model-solution":"Model Solution","or":"or","question-closed":"Question is now closed.","reset":"Reset","resubmit":"Resubmit","submit":"Submit","submitted":"Submitted","upload":"Uploaded submission"},"ES":{"answer-submitted":"Ha presentado con \xe9xito su respuesta.","drop-image":"Deje caer la imagen aqu\xed","model-solution":"Soluci\xf3n modelo","or":"o","question-closed":"La pregunta est\xe1 ahora cerrada.","reset":"Reiniciar","resubmit":"Volver a presentar","submit":"Presentar","submitted":"Presentado","upload":"Subir presentaci\xf3n"}}')},5916:function(t,e,n){"use strict";n.r(e);n(362),n(355),n(364);var i=n(522),r=n.n(i),o=n(358),s=n.n(o),a=(n(784),n(356)),c=n.n(a),u=n(357),l=n.n(u),d=n(368),p=n.n(d),f=n(360),h=n.n(f),g=n(361),b=n.n(g),m=n(359),v=n.n(m),y=n(354),O=n.n(y),w=n(0),S=n.n(w),j=(n(346),n(402)),k=n.n(j),P=n(639),R=n(4315),N=n(439),D=n(386),x=n(477),E=n.n(x),q=n(616),C=n(1299),L=n(1434),F=n(899),A=n(1701),T=n(1315),z=n(911),U=n(709),B=n(1759),H=n(717),I=n(1137),M=n(424),J=n(3280),W=n(431),Y=n(465),Q=n(4832);Y.a.addResources("de","image-question",Q.DE),Y.a.addResources("en","image-question",Q.EN),Y.a.addResources("es","image-question",Q.ES);n(265);function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=v()(t);if(e){var r=v()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return b()(this,n)}}var Z=Object(q.a)("image-question"),_=k()("isle:image-question"),G=/src="([^"]*)"/,K=function(t){h()(n,t);var e=V(n);function n(t){var i;return c()(this,n),i=e.call(this,t),O()(p()(i),"logHint",(function(t){_("Logging hint..."),i.context.log({id:i.id,type:W.pb,value:t})})),O()(p()(i),"sendSubmitNotification",(function(){i.context.addNotification({title:i.props.t("submitted"),message:i.props.t("answer-submitted"),level:"info"})})),O()(p()(i),"handleSubmit",(function(){var t=i.context;(i.props.disableSubmitNotification||i.sendSubmitNotification(),i.props.onSubmit(),i.setState({submitted:!0}),i.state.src)?t.log({id:i.id,type:W.qb,value:i.state.src}):document.getElementById(i.id+"-canvas").toBlob((function(e){Object(J.a)(e).then((function(e){t.log({id:i.id,type:W.qb,value:e}),i.setState({src:e})}))}))})),O()(p()(i),"ignoreDrag",(function(t){t.stopPropagation(),t.preventDefault()})),O()(p()(i),"handleFileUpload",(function(){var t=new FileReader,e=i.fileUpload.files[0];t.addEventListener("load",i.onFileRead,!1),t.readAsDataURL(e)})),O()(p()(i),"toggleSpinner",(function(){i.setState({isProcessing:!i.state.isProcessing})})),O()(p()(i),"onDrop",(function(t){t.stopPropagation(),t.preventDefault(),i.toggleSpinner();var e=t.dataTransfer,n=new FileReader,r=null;if(e.items&&e.items.length>0){var o=e.items[0];"file"===o.kind?r=o.getAsFile():"string"===o.kind&&o.getAsString((function(t){if(E()(t,"<img")){var e=t.match(G);e&&i.setState({src:e[1]},i.toggleSpinner)}else if(E()(t,"<thead")){var n=document.createElement("table");n.innerHTML=t,document.body.appendChild(n),Object(R.a)(n,{backgroundColor:"white",style:{fontSize:12},width:600}).then((function(t){i.setState({src:t},i.toggleSpinner),n.remove()}))}else{var r=document.createElement("pre");r.innerHTML=t,document.body.appendChild(r),Object(R.a)(r,{backgroundColor:"white",style:{fontSize:14}}).then((function(t){i.setState({src:t},i.toggleSpinner),r.remove()}))}}))}else e.files&&e.files.length>0&&(r=e.files[0]);r&&(i.mimeType=r.type,r&&(n.addEventListener("load",i.onFileRead,!1),n.readAsDataURL(r)))})),O()(p()(i),"onFileRead",(function(t){var e=t.target.result;i.setState({src:e})})),O()(p()(i),"handleSolutionClick",(function(){i.setState({displaySolution:!i.state.displaySolution})})),i.id=t.id||Z(t),i.state={submitted:!1,src:null,exhaustedHints:0===t.hints.length,displaySolution:!1,isProcessing:!1},i}return l()(n,[{key:"renderSubmitButton",value:function(){var t=this.context;return this.props.until&&t.startTime>this.props.until?s()("span",{className:"title",style:{marginLeft:4}},void 0,this.props.t("question-closed")):s()(T.a,{className:"submit-button",variant:"primary",size:"sm",onClick:this.handleSubmit},void 0,this.state.submitted?this.props.t("resubmit"):this.props.t("submit"))}},{key:"render",value:function(){var t,e=this,n=this.props.hints.length,i=s()(A.a,{disabled:!this.state.submitted||!this.state.exhaustedHints,onClick:this.handleSolutionClick,hasHints:this.props.hints.length>0});return this.state.isProcessing||(t=this.state.src?s()("div",{className:"center",style:{maxWidth:600}},void 0,this.state.displaySolution?s()(C.a,{alt:this.props.t("model-solution"),src:this.props.solution,width:"100%",height:"auto",style:{border:"solid 1px gold"}}):s()(C.a,{alt:this.props.t("upload"),src:this.state.src,width:"100%",height:"auto"})):s()(w.Fragment,{},void 0,s()("div",{className:"image-question-dropzone",onDrop:this.onDrop,onDragOver:this.ignoreDrag,onDragEnd:this.ignoreDrag},void 0,s()("span",{},void 0,this.props.t("drop-image"))),s()("p",{className:"center"},void 0,this.props.t("or")),S.a.createElement("input",{id:this.id+"-upload",className:"image-question-upload center",type:"file",accept:"image/*",onChange:this.handleFileUpload,ref:function(t){e.fileUpload=t}}),this.props.sketchpad?s()(w.Fragment,{},void 0,s()("p",{className:"center"},void 0,this.props.t("or")),S.a.createElement(B.a,r()({id:this.id,hideNavigationButtons:!0,hideSaveButtons:!0,hideTransmitButtons:!0,canvasWidth:900,canvasHeight:600},this.props.sketchpad))):null)),s()(N.a,{id:this.id,className:"image-question ".concat(this.props.className),style:this.props.style},void 0,s()(N.a.Body,{style:{width:this.props.feedback?"calc(100%-60px)":"100%",display:"inline-block"}},void 0,s()("label",{},void 0,this.props.question),s()(L.a,{running:this.state.isProcessing,width:256,height:128}),t,this.props.feedback?s()(H.a,{vertical:!0,id:this.id+"_feedback",style:{position:"absolute",right:"4px",top:"4px"}}):null,s()(F.a,{buttonLabel:"Answers",id:this.id,info:W.qb,data:{question:this.props.question,type:"image"},points:this.props.points}),s()("div",{className:"image-question-toolbar"},void 0,n>0?s()(z.a,{onClick:this.logHint,hints:this.props.hints,placement:this.props.hintPlacement,onFinished:function(){e.setState({exhaustedHints:!0})}}):null,this.state.src?s()(D.a,{size:"sm",variant:"warning",onClick:function(){e.setState({src:null})}},void 0,this.props.t("reset")):null,this.renderSubmitButton(),this.props.solution?i:null,this.props.chat?s()(U.a,{for:this.id}):null),s()(I.a,{for:this.id,points:this.props.points})))}}]),n}(w.Component);K.defaultProps={question:"",hints:[],hintPlacement:"bottom",feedback:!0,chat:!1,disableSubmitNotification:!1,className:"",sketchpad:null,solution:null,until:null,points:10,style:{},onSubmit:function(){}},K.contextType=M.a;e.default=Object(P.a)("image-question")(K)},639:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var i=n(354),r=n.n(i),o=n(429),s=n.n(o),a=n(434),c=n.n(a),u=n(0),l=n.n(u),d=n(593),p=n(410);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.i18n,i=Object(u.useContext)(d.a)||{},r=i.i18n,o=i.defaultNS,a=n||r||Object(d.d)();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new d.b),!a){Object(p.e)("You will need to pass in an i18next instance by using initReactI18next");var c=function(t){return Array.isArray(t)?t[t.length-1]:t},l=[c,{},!1];return l.t=c,l.i18n={},l.ready=!1,l}var f=h(h(h({},Object(d.c)()),a.options.react),e),g=f.useSuspense,b=t||o||a.options&&a.options.defaultNS;b="string"==typeof b?[b]:b||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(b);var m=(a.isInitialized||a.initializedStoreOnce)&&b.every((function(t){return Object(p.b)(t,a,f)}));function v(){return{t:a.getFixedT(null,"fallback"===f.nsMode?b:b[0])}}var y=Object(u.useState)(v()),O=s()(y,2),w=O[0],S=O[1],j=Object(u.useRef)(!0);Object(u.useEffect)((function(){var t=f.bindI18n,e=f.bindI18nStore;function n(){j.current&&S(v())}return j.current=!0,m||g||Object(p.c)(a,b,(function(){j.current&&S(v())})),t&&a&&a.on(t,n),e&&a&&a.store.on(e,n),function(){j.current=!1,t&&a&&t.split(" ").forEach((function(t){return a.off(t,n)})),e&&a&&e.split(" ").forEach((function(t){return a.store.off(t,n)}))}}),[b.join()]);var k=[w.t,a,m];if(k.t=w.t,k.i18n=a,k.ready=m,m)return k;if(!m&&!g)return k;throw new Promise((function(t){Object(p.c)(a,b,(function(){t()}))}))}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function i(i){var r=i.forwardedRef,o=c()(i,["forwardedRef"]),a=g(t,o),u=s()(a,3),d=u[0],p=u[1],f=u[2],h=m(m({},o),{},{t:d,i18n:p,tReady:f});return e.withRef&&r?h.ref=r:!e.withRef&&r&&(h.forwardedRef=r),l.a.createElement(n,h)}i.displayName="withI18nextTranslation(".concat(Object(p.a)(n),")"),i.WrappedComponent=n;return e.withRef?l.a.forwardRef((function(t,e){return l.a.createElement(i,Object.assign({},t,{forwardedRef:e}))})):i}}},709:function(t,e,n){"use strict";var i=n(353),r=Object(i.a)((function(){return n.e(135).then(n.bind(null,1154))}));e.a=r},911:function(t,e,n){"use strict";var i=n(353),r=Object(i.a)((function(){return n.e(161).then(n.bind(null,1421))}));e.a=r}}]);