(window.webpackJsonp=window.webpackJsonp||[]).push([[137],{1175:function(t,e,n){"use strict";n.r(e);n(376),n(368),n(377);var r=n(365),o=n.n(r),i=(n(508),n(370)),s=n.n(i),a=n(371),c=n.n(a),u=n(387),p=n.n(u),f=n(374),l=n.n(f),d=n(375),h=n.n(d),b=n(373),g=n.n(b),y=n(366),v=n.n(y),m=n(0),O=(n(357),n(416)),w=n.n(O),j=n(631),S=n(1107),k=n(394),P=n(484),C=n(782),x=n(440),R=n(619);function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g()(t);if(e){var o=g()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var D=w()("isle:chat-button"),E=function(t){l()(n,t);var e=N(n);function n(t){var r;return s()(this,n),r=e.call(this,t),v()(p()(r),"hideAnimation",(function(){r.setState({showAnimation:!1})})),v()(p()(r),"handleClick",(function(t){D("Handle click to join chat...");var e=!r.state.opened;r.props.onClick(t,e),r.setState({opened:e},(function(){var t=r.context;e?(D("Should join chat for component with id '".concat(r.props.for,"'...")),t.joinChat({name:r.props.for,anonymousSubmissions:r.props.anonymousSubmissions})):(D("Should leave chat for component with id '".concat(r.props.for,"'...")),t.leaveChat(r.props.for))}))})),r.state={opened:!1,nMessages:0,nMembers:0},r}return c()(n,[{key:"componentDidMount",value:function(){var t=this,e=this.context;this.unsubscribe=e.subscribe((function(n,r){if(n!==R.D&&n!==R.s||!r||r.name!==t.props.for){if(n===R.b&&r.name===t.props.for){var o={nMessages:r.nMessages,nMembers:r.nMembers};r.nMessages>t.state.nMessages&&(o.showAnimation=!0),t.setState(o),setTimeout(t.hideAnimation,4e3)}else if(r===t.props.for){e.getChat(t.props.for)&&n!==R.E?n===R.y&&t.setState({opened:!1}):t.setState({opened:!1}),t.forceUpdate()}}else t.setState({opened:!0})}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var t,e,n=this.state.nMessages;t=this.props.buttonLabel?this.props.buttonLabel:this.state.opened?this.props.t("leave-chat"):this.props.t("join-chat"),e=this.props.buttonVariant?this.props.buttonVariant:this.state.nMembers>0?"success":"secondary";var r,i=o()(k.a,{className:this.props.className,variant:e,size:this.props.size,onClick:this.handleClick,style:this.props.style,"aria-label":this.props.t("toggle-chat")},void 0,o()("span",{style:{pointerEvents:"none"}},void 0,t),n?o()(S.a,{variant:"dark",style:{marginLeft:"5px",fontSize:"10px",pointerEvents:"none",animation:this.state.showAnimation?"ping 0.7s 3":"none"}},void 0,n):null);return r=this.props.tooltip?this.props.tooltip:this.state.opened?this.props.t("leave-chat-id",{id:this.props.for}):this.props.t("join-chat-id",{id:this.props.for}),this.props.showTooltip&&(i=o()(P.a,{tooltip:r,placement:this.props.tooltipPlacement},void 0,i)),o()(C.a,{user:!0},void 0,i)}}]),n}(m.Component);E.defaultProps={anonymousSubmissions:!1,buttonLabel:null,showTooltip:!0,tooltip:null,size:"sm",buttonVariant:null,tooltipPlacement:"top",onClick:function(){},className:"",style:{}},E.contextType=x.a,e.default=Object(j.a)("ChatButton")(E)},415:function(t,e,n){"use strict";function r(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var o={};function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];"string"==typeof e[0]&&o[e[0]]||("string"==typeof e[0]&&(o[e[0]]=new Date),r.apply(void 0,e))}function s(t,e,n){t.loadNamespaces(e,(function(){if(t.isInitialized)n();else{t.on("initialized",(function e(){setTimeout((function(){t.off("initialized",e)}),0),n()}))}}))}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.languages||!e.languages.length)return i("i18n.languages were undefined or empty",e.languages),!0;var r=e.languages[0],o=!!e.options&&e.options.fallbackLng,s=e.languages[e.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(t,n){var r=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t))&&(!!e.hasResourceBundle(r,t)||(!e.services.backendConnector.backend||!(!a(r,t)||o&&!a(s,t))))}function c(t){return t.displayName||t.name||("string"==typeof t&&t.length>0?t:"Unknown")}},434:function(t,e,n){var r=n(448);t.exports=function(t,e){if(null==t)return{};var n,o,i=r(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(o=0;o<s.length;o++)n=s[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}},448:function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}},457:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(412),o=n.n(r),i=n(366),s=n.n(i),a=n(0),c=n(605),u=n(415);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.i18n,r=Object(a.useContext)(c.a)||{},i=r.i18n,s=r.defaultNS,p=n||i||Object(c.d)();if(p&&!p.reportNamespaces&&(p.reportNamespaces=new c.b),!p){Object(u.e)("You will need to pass in an i18next instance by using initReactI18next");var l=function(t){return Array.isArray(t)?t[t.length-1]:t},d=[l,{},!1];return d.t=l,d.i18n={},d.ready=!1,d}var h=f(f(f({},Object(c.c)()),p.options.react),e),b=h.useSuspense,g=t||s||p.options&&p.options.defaultNS;g="string"==typeof g?[g]:g||["translation"],p.reportNamespaces.addUsedNamespaces&&p.reportNamespaces.addUsedNamespaces(g);var y=(p.isInitialized||p.initializedStoreOnce)&&g.every((function(t){return Object(u.b)(t,p,h)}));function v(){return{t:p.getFixedT(null,"fallback"===h.nsMode?g:g[0])}}var m=Object(a.useState)(v()),O=o()(m,2),w=O[0],j=O[1],S=Object(a.useRef)(!0);Object(a.useEffect)((function(){var t=h.bindI18n,e=h.bindI18nStore;function n(){S.current&&j(v())}return S.current=!0,y||b||Object(u.c)(p,g,(function(){S.current&&j(v())})),t&&p&&p.on(t,n),e&&p&&p.store.on(e,n),function(){S.current=!1,t&&p&&t.split(" ").forEach((function(t){return p.off(t,n)})),e&&p&&e.split(" ").forEach((function(t){return p.store.off(t,n)}))}}),[g.join()]);var k=[w.t,p,y];if(k.t=w.t,k.i18n=p,k.ready=y,y)return k;if(!y&&!b)return k;throw new Promise((function(t){Object(u.c)(p,g,(function(){t()}))}))}},631:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n(366),o=n.n(r),i=n(412),s=n.n(i),a=n(434),c=n.n(a),u=n(0),p=n.n(u),f=n(457),l=n(415);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function r(r){var o=r.forwardedRef,i=c()(r,["forwardedRef"]),a=Object(f.a)(t,i),u=s()(a,3),l=u[0],d=u[1],b=u[2],g=h(h({},i),{},{t:l,i18n:d,tReady:b});return e.withRef&&o?g.ref=o:!e.withRef&&o&&(g.forwardedRef=o),p.a.createElement(n,g)}r.displayName="withI18nextTranslation(".concat(Object(l.a)(n),")"),r.WrappedComponent=n;return e.withRef?p.a.forwardRef((function(t,e){return p.a.createElement(r,Object.assign({},t,{forwardedRef:e}))})):r}}}}]);