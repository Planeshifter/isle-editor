(window.webpackJsonp=window.webpackJsonp||[]).push([[155],{1083:function(t,e,n){"use strict";var i=n(344),s=n(345),o=n(347),r=n.n(o),a=n(0),u=n.n(a),c=n(356),l=u.a.forwardRef((function(t,e){var n=t.bsPrefix,o=t.className,a=Object(s.a)(t,["bsPrefix","className"]),l=Object(c.a)(n,"btn-toolbar");return u.a.createElement("div",Object(i.a)({},a,{ref:e,className:r()(o,l)}))}));l.displayName="ButtonToolbar",l.defaultProps={role:"toolbar"},e.a=l},2526:function(t,e,n){"use strict";var i=n(419),s=n.n(i),o=n(703),r=n.n(o);e.a=function(t,e,n){if(r()(t)){var i=t[e];if(s()(i)&&(i=i.filter((function(t){return t.type===n}))).length>0)return i[0].value}return null}},4280:function(t,e,n){"use strict";n.r(e);n(360),n(352),n(363);var i=n(362),s=n.n(i),o=n(353),r=n.n(o),a=n(354),u=n.n(a),c=n(369),l=n.n(c),d=n(357),p=n.n(d),f=n(358),b=n.n(f),h=n(355),m=n.n(h),g=n(350),v=n.n(g),y=n(0),w=n.n(y),O=n(20),x=n.n(O),j=(n(341),n(739)),k=n(397),S=n(1083),D=n(979),N=n(783),P=n(1166),C=n(396),R=n.n(C),A=n(392),E=n(682),q=n(631),L=n(788),T=n(1355),z=n(983),I=n(1698),H=n(993),U=n(1167),F=n(1062),M=n(784),B=n(438),Y=n(2526),J=n(1733),W=n(443),K=n(639),Q=n(4691),V=n(615),_=n(4692);V.a.addResources("de","free-text-question",_.DE),V.a.addResources("en","free-text-question",_.EN),V.a.addResources("es","free-text-question",_.ES);n(263);function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=m()(t);if(e){var s=m()(this).constructor;n=Reflect.construct(i,arguments,s)}else n=i.apply(this,arguments);return b()(this,n)}}var X=Object(E.a)("free-text-question"),Z=R()("isle:free-text-question"),$=function(t){p()(n,t);var e=G(n);function n(t,i){var s;r()(this,n),s=e.call(this,t),v()(l()(s),"handleChange",(function(t){var e=t.target.value;s.setState({value:e}),s.beforeUnload||(window.addEventListener("beforeunload",J.a),s.beforeUnload=!0),s.props.onChange(e)})),v()(l()(s),"appendText",(function(t){s.setState({value:s.state.value+" "+t})})),v()(l()(s),"sendSubmitNotification",(function(){var t=s.context;if(s.state.submitted)t.addNotification({title:s.props.t("answer-resubmitted"),message:s.props.resubmissionMsg,level:"success"});else{var e=s.props.submissionMsg;""===e&&(e=s.props.solution&&s.props.provideFeedback?s.props.t("submission-message-solution"):s.props.t("submission-message-no-solution")),t.addNotification({title:s.props.t("answer-submitted"),message:e,level:"success"})}})),v()(l()(s),"submitHandler",(function(t){var e=s.context;s.props.disableSubmitNotification||s.sendSubmitNotification(),s.props.onSubmit(s.state.value),s.setState({submitted:!0}),window.removeEventListener("beforeunload",J.a),s.beforeUnload=!1,e.log({id:s.id,type:W.kb,value:s.state.value})})),v()(l()(s),"handleSolutionClick",(function(){var t=s.context;s.state.solutionDisplayed?s.setState({solutionDisplayed:!1,value:s.state.studentAnswer}):(t.log({id:s.id,type:W.ib,value:null}),s.setState({solutionDisplayed:!0,studentAnswer:s.state.value,value:s.props.solution}))})),v()(l()(s),"logHint",(function(t){Z("Logging hint..."),s.context.log({id:s.id,type:W.jb,value:t})})),Z("Invoking constructor of FreeTextQuestion...");var o=i.currentUserActions;s.id=t.id||X(t);var a=Object(Y.a)(o,s.id,W.kb);return s.state={exhaustedHints:0===t.hints.length,value:Object(A.isPrimitive)(a)?a:"",solutionDisplayed:!1,submitted:Object(A.isPrimitive)(a),placeholder:t.placeholder,solution:t.solution,question:t.question},s}return u()(n,[{key:"componentDidMount",value:function(){var t=this,e=this.context;this.unsubscribe=e.subscribe((function(e){e===K.z&&t.setToLastAction()}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"setToLastAction",value:function(){var t=this.context.currentUserActions,e=Object(Y.a)(t,this.id,W.kb);Object(A.isPrimitive)(e)&&e!==this.state.value&&this.setState({value:e,submitted:!0})}},{key:"triggerHint",value:function(){x.a.findDOMNode(this.hintButton).click()}},{key:"render",value:function(){var t=this,e=this.props.hints.length,n=s()(I.a,{disabled:!(this.props.instantSolution||this.state.submitted&&this.state.exhaustedHints),onClick:this.handleSolutionClick,hasHints:this.props.hints.length>0});return s()(q.a,{id:this.id,className:"free-text-question ".concat(this.props.className),style:this.props.style,fullscreen:!0,bodyStyle:{width:this.props.feedback?"calc(100%-60px)":"100%",display:"inline-block"}},void 0,s()(U.a,{id:this.props.voiceID,reference:this,commands:Q}),this.props.question?s()("div",{className:"title"},void 0,this.props.question):null,s()(N.a,{},void 0,s()("label",{htmlFor:"".concat(this.id,"-textarea")},void 0,this.state.solutionDisplayed?this.props.t("solution"):this.props.t("your-answer")),this.state.solutionDisplayed?s()("div",{className:"free-text-question-solution-wrapper",style:{height:"calc(".concat(1.5*this.props.rows,"rem + 14px)")}},void 0,this.state.value):s()(D.a,{id:"".concat(this.id,"-textarea"),as:"textarea",placeholder:this.props.placeholder,onChange:this.handleChange,style:{resize:this.props.resizable?"both":"none"},maxLength:this.props.maxlength,rows:this.props.rows,value:this.state.value,disabled:this.state.solutionDisplayed})),s()(z.a,{buttonLabel:this.props.t("answers"),id:this.id,info:W.kb,data:{question:this.props.question,solution:this.props.solution},style:{float:"left"}}),s()(S.a,{className:"free-text-question-toolbar"},void 0,e>0?w.a.createElement(H.a,{id:"".concat(this.id,"-hints"),onClick:this.logHint,ref:function(e){t.hintButton=e},hints:this.props.hints,onFinished:function(){t.setState({exhaustedHints:!0})},style:{marginRight:"4px"},placement:this.props.hintPlacement}):null,this.props.provideFeedback&&this.props.solution?n:null,this.props.chat?s()("div",{style:{display:"inline-block",marginLeft:"4px"}},void 0,s()(L.a,{for:this.id})):null,this.state.value.length>=1&&!this.state.solutionDisplayed?s()(T.a,{className:"submit-button",variant:"primary",size:"sm",onClick:this.submitHandler,duration:5,style:{marginLeft:"4px"}},void 0,this.state.submitted?this.props.t("resubmit"):this.props.t("submit")):s()(F.a,{placement:"top",positionLeft:100,overlay:s()(P.a,{id:"submitTooltip"},void 0,this.props.t("submit-tooltip")),rootClose:!0},void 0,s()("div",{style:{display:"inline-block"}},void 0,s()(k.a,{className:"submit-button",variant:"primary",size:"sm",style:{pointerEvents:"none",marginLeft:"4px"},disabled:!0},void 0,this.props.t("submit"))))),this.props.feedback?s()(M.a,{id:this.id+"_feedback",style:{marginRight:5,marginTop:-5}}):null)}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.placeholder!==e.placeholder||t.solution!==e.solution||t.question!==e.question?{value:"",solutionDisplayed:!1,submitted:!1,placeholder:t.placeholder,solution:t.solution,question:t.question}:null}}]),n}(y.Component);$.defaultProps={question:"",hints:[],hintPlacement:"top",feedback:!0,solution:"",instantSolution:!1,rows:5,chat:!1,placeholder:"Enter your answer here...",resizable:!1,disableSubmitNotification:!1,submissionMsg:"",resubmissionMsg:"You have successfully re-submitted your answer.",provideFeedback:!0,maxlength:2500,voiceID:null,className:"",style:{},onChange:function(){},onSubmit:function(){}},$.contextType=B.a;e.default=Object(j.a)("free-text-question")($)},433:function(t,e,n){"use strict";function i(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return u}));var s={};function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];"string"==typeof e[0]&&s[e[0]]||("string"==typeof e[0]&&(s[e[0]]=new Date),i.apply(void 0,e))}function r(t,e,n){t.loadNamespaces(e,(function(){if(t.isInitialized)n();else{t.on("initialized",(function e(){setTimeout((function(){t.off("initialized",e)}),0),n()}))}}))}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.languages||!e.languages.length)return o("i18n.languages were undefined or empty",e.languages),!0;var i=e.languages[0],s=!!e.options&&e.options.fallbackLng,r=e.languages[e.languages.length-1];if("cimode"===i.toLowerCase())return!0;var a=function(t,n){var i=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===i||2===i};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t))&&(!!e.hasResourceBundle(i,t)||(!e.services.backendConnector.backend||!(!a(i,t)||s&&!a(r,t))))}function u(t){return t.displayName||t.name||("string"==typeof t&&t.length>0?t:"Unknown")}},466:function(t,e,n){var i=n(489);t.exports=function(t,e){if(null==t)return{};var n,s,o=i(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(s=0;s<r.length;s++)n=r[s],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},4691:function(t){t.exports=JSON.parse('[{"command":"appendText","trigger":"insert","description":"Dictate your answer","params":["text"],"regexp":"/insert[a-z]* (?<text>[\\\\s\\\\S]+)/i"},{"command":"handleSolutionClick","trigger":"solution","description":"Toggle the solution"},{"command":"submitHandler","trigger":"submit","description":"Submit your answer"},{"command":"triggerHint","trigger":"hint","description":"Toggle hint"}]')},4692:function(t){t.exports=JSON.parse('{"DE":{"answers":"Antworten","answer-resubmitted":"Antwort erneut eingereicht","answer-submitted":"Antwort eingereicht.","resubmit":"Erneut einreichen","solution":"L\xf6sung:","submission-message-no-solution":"Du kannst Deine Antwort \xe4ndern und erneut einreichen, wenn Du m\xf6chtest.","submission-message-solution":"Vergleiche Deine Antwort mit der L\xf6sung \xfcber die Schaltfl\xe4che \\"L\xf6sung anzeigen\\". Du kannst dann Deine Antwort \xe4ndern und bei Bedarf erneut einreichen.","submit":"Abschicken","submit-tooltip":"Klicke auf \\"Abschicken\\", nachdem Du Deine Antwort eingegeben hast","your-answer":"Deine Antwort:"},"EN":{"answers":"Answers","answer-resubmitted":"Answer re-submitted.","answer-submitted":"Answer submitted.","resubmit":"Resubmit","solution":"Solution:","submission-message-no-solution":"You can change your answer and re-submit if you want to.","submission-message-solution":"Compare your answer with solution using the \\"Show Solution\\" button. You can then change your answer and re-submit if necessary.","submit":"Submit","submit-tooltip":"Click submit after you have typed your answer.","your-answer":"Your answer:"},"ES":{}}')},489:function(t,e){t.exports=function(t,e){if(null==t)return{};var n,i,s={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(s[n]=t[n]);return s}},739:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var i=n(350),s=n.n(i),o=n(445),r=n.n(o),a=n(466),u=n.n(a),c=n(0),l=n.n(c),d=n(681),p=n(433);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.i18n,i=Object(c.useContext)(d.a)||{},s=i.i18n,o=i.defaultNS,a=n||s||Object(d.d)();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new d.b),!a){Object(p.e)("You will need to pass in an i18next instance by using initReactI18next");var u=function(t){return Array.isArray(t)?t[t.length-1]:t},l=[u,{},!1];return l.t=u,l.i18n={},l.ready=!1,l}var f=b(b(b({},Object(d.c)()),a.options.react),e),h=f.useSuspense,m=t||o||a.options&&a.options.defaultNS;m="string"==typeof m?[m]:m||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(m);var g=(a.isInitialized||a.initializedStoreOnce)&&m.every((function(t){return Object(p.b)(t,a,f)}));function v(){return{t:a.getFixedT(null,"fallback"===f.nsMode?m:m[0])}}var y=Object(c.useState)(v()),w=r()(y,2),O=w[0],x=w[1],j=Object(c.useRef)(!0);Object(c.useEffect)((function(){var t=f.bindI18n,e=f.bindI18nStore;function n(){j.current&&x(v())}return j.current=!0,g||h||Object(p.c)(a,m,(function(){j.current&&x(v())})),t&&a&&a.on(t,n),e&&a&&a.store.on(e,n),function(){j.current=!1,t&&a&&t.split(" ").forEach((function(t){return a.off(t,n)})),e&&a&&e.split(" ").forEach((function(t){return a.store.off(t,n)}))}}),[m.join()]);var k=[O.t,a,g];if(k.t=O.t,k.i18n=a,k.ready=g,g)return k;if(!g&&!h)return k;throw new Promise((function(t){Object(p.c)(a,m,(function(){t()}))}))}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function i(i){var s=i.forwardedRef,o=u()(i,["forwardedRef"]),a=h(t,o),c=r()(a,3),d=c[0],p=c[1],f=c[2],b=g(g({},o),{},{t:d,i18n:p,tReady:f});return e.withRef&&s?b.ref=s:!e.withRef&&s&&(b.forwardedRef=s),l.a.createElement(n,b)}i.displayName="withI18nextTranslation(".concat(Object(p.a)(n),")"),i.WrappedComponent=n;return e.withRef?l.a.forwardRef((function(t,e){return l.a.createElement(i,Object.assign({},t,{forwardedRef:e}))})):i}}},788:function(t,e,n){"use strict";var i=n(349),s=Object(i.a)((function(){return n.e(137).then(n.bind(null,1271))}));e.a=s},993:function(t,e,n){"use strict";var i=n(349),s=Object(i.a)((function(){return n.e(159).then(n.bind(null,1481))}));e.a=s}}]);