(window.webpackJsonp=window.webpackJsonp||[]).push([[214],{2581:function(e,t){},2582:function(e,t){},5692:function(e){e.exports=JSON.parse('{"DE":{"csv-upload-prompt":"Bitte laden Sie einen Datensatz hoch (CSV-Format)","drop-file":"Datei hier ablegen","error-message":"Der folgende Fehler wurde beim Versuch, die Datei zu lesen, festgestellt","error-title":"Could not read file.","first-row-names":"Erste Reihe enth\xe4lt Variablennamen","no-csv":"Keine CSV-Datei.","no-csv-message":"Bei der bereitgestellten Datei handelt es sich nicht um eine CSV-Datei.","title":"Datei-Upload"},"EN":{"csv-upload-prompt":"Please upload a data set (CSV format)","drop-file":"Drop file here","error-message":"The following error was encountered while trying to read the file","error-title":"Konnte Datei nicht lesen.","first-row-names":"First row contains variable names","no-csv":"No CSV file.","no-csv-message":"The supplied file is not a CSV file.","title":"File Upload"},"ES":{}}')},5859:function(e,t,n){"use strict";n.r(t);n(362),n(355),n(365);var o=n(368),r=n.n(o),a=(n(791),n(359)),i=n.n(a),s=n(361),l=n.n(s),p=n(378),d=n.n(p),c=n(366),u=n.n(c),f=n(367),h=n.n(f),g=n(364),v=n.n(g),m=n(357),D=n.n(m),w=n(0),C=n.n(w),S=(n(338),n(715)),b=n(457),F=n(1464),R=n(5689),y=n.n(R),x=n(5691),E=n.n(x),V=n(657),U=n.n(V),N=n(689),T=n.n(N),P=n(539),k=n.n(P),A=n(442),O=n(661),B=n(609),J=n(5692);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v()(e);if(t){var r=v()(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return h()(this,n)}}B.a.addResources("de","spreadsheet-upload",J.DE),B.a.addResources("en","spreadsheet-upload",J.EN),B.a.addResources("es","spreadsheet-upload",J.ES);var z=/\r(?!\n)/g,H=r()("p",{},void 0,"or"),K=function(e){u()(n,e);var t=L(n);function n(e){var o;return i()(this,n),o=t.call(this,e),D()(d()(o),"handleFileUpload",(function(){o.setState({uploading:!0},(function(){var e=new FileReader,t=o.fileUpload.files[0];e.addEventListener("load",o.onFileRead,!1),e.addEventListener("progress",(function(e){if(e.lengthComputable){var t=e.loaded/e.total;o.setState({percentCompleted:t})}}),!1),e.readAsText(t,"utf-8")}))})),D()(d()(o),"onFileRead",(function(e){var t,n,r=e.target.result,a=E()(r);t=T()(a)?",":a.delimiter;var i=(r=U()(r,z,"\n")).indexOf("\n"),s=r.substring(0,i).split(t);o.state.header?(n=s,r=r.substring(i+1)):n=s.map((function(e,t){return"VAR_"+(t+1)})),o.setState({percentCompleted:0,uploading:!1}),y()(r,{delimiter:t,columns:n,cast:!0},(function(e,t){if(e)return o.context.addNotification({title:o.props.t("error-title"),message:"".concat(o.props.t("error-message"),": ").concat(e.message),level:"error",position:"tr"}),o.props.onUpload(e);o.props.onUpload(null,t)}))})),D()(d()(o),"ignoreDrag",(function(e){e.stopPropagation(),e.preventDefault()})),D()(d()(o),"onFileDrop",(function(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer,n=new FileReader,r=null;if(t.items?"file"===t.items[0].kind&&(r=t.items[0].getAsFile()):r=t.files[0],r){if("text/csv"!==r.type)return o.context.addNotification({title:o.props.t("no-csv"),message:o.props.t("no-csv-message"),level:"error",position:"tr"});n.addEventListener("load",o.onFileRead,!1),n.readAsText(r,"utf-8")}})),o.state={percentCompleted:0,uploading:!1,header:!0},o}return l()(n,[{key:"render",value:function(){var e=this,t=k()(100*this.state.percentCompleted);return r()(b.a,{},void 0,r()(b.a.Header,{as:"h2"},void 0,this.props.title||this.props.t("title")),r()(b.a.Body,{},void 0,r()("label",{htmlFor:"CSVUpload"},void 0,this.props.t("csv-upload-prompt"),":"),C.a.createElement("input",{id:"CSVUpload",type:"file",accept:".csv",onChange:this.handleFileUpload,ref:function(t){e.fileUpload=t},style:{margin:"auto"}}),H,r()("div",{onDrop:this.onFileDrop,onDragOver:this.ignoreDrag,onDragEnd:this.ignoreDrag,style:{minHeight:"150px",width:"250px",border:"1px solid blue",padding:"10px"}},void 0,r()("span",{},void 0,this.props.t("drop-file"))),r()(O.a,{legend:this.props.t("first-row-names"),defaultValue:!0,onChange:function(t){e.setState({header:t})}}),this.state.uploading?r()(F.a,{now:t,label:"".concat(t,"%")}):null))}}]),n}(w.Component);K.defaultProps={onUpload:function(){},title:null},K.contextType=A.a;t.default=Object(S.a)("spreadsheet-upload")(K)}}]);