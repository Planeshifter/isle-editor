(window.webpackJsonp=window.webpackJsonp||[]).push([[399],{5801:function(e,t,a){"use strict";a.r(t);a(358),a(361);var o=a(352),r=a.n(o),i=a(353),n=a.n(i),l=a(356),u=a.n(l),s=a(357),d=a.n(s),c=a(354),v=a.n(c),f=(a(380),a(378),a(351),a(359)),h=a.n(f),b=a(0),p=(a(342),a(426)),y=a(387),g=a(456),m=a(413),q=a(894),F=a(580),C=a(502),R=a(471),k=a(469),w=a.n(k),T=a(1953),V=a.n(T),P=a(1209),x=a.n(P),D=a(1210),S=a.n(D),z=a(419),A=a(1325),G=a(1483),N=a(670);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,o=v()(e);if(t){var r=v()(this).constructor;a=Reflect.construct(o,arguments,r)}else a=o.apply(this,arguments);return d()(this,a)}}var B={numeric:!0};function J(e,t,a,o){var r,i=x()(t,S.a);e.categories?r=Object(A.a)(i,e):(r=w()(i)).sort((function(e,t){return e.localeCompare(t,void 0,B)}));for(var n,l,u=new Array(r.length),s=0;s<r.length;s++)u[s]=i[r[s]];if(o){var d=u.reduce((function(e,t){return e+t}));n=u.map((function(e){return e/d}))}return a&&(l=u),{keys:r,absoluteFreqs:l,relativeFreqs:n}}var O=h()("th",{},void 0,"Category"),H=h()("th",{},void 0,"Count"),X=h()("td",{}),E=h()("th",{},void 0,"Total"),I=h()("td",{}),K=h()("th",{},void 0,"Category"),L=h()("th",{},void 0,"Relative Frequency"),M=h()("td",{}),Q=h()("tbody",{},void 0,h()("tr",{},"total",h()("th",{},void 0,"Total"),h()("td",{}),h()("td",{},void 0,"1.0"))),U=h()("th",{},void 0,"Category"),W=h()("th",{},void 0,"Count (Relative Frequency)"),Y=h()("td",{}),Z=h()("th",{},void 0,"Total"),$=h()("td",{}),_=h()("td",{},"total","1.0"),ee=h()("th",{},void 0,"Category"),te=h()("th",{},void 0,"Total"),ae=h()(p.a.Header,{as:"h4"},void 0,"Frequency Table",h()(N.a,{title:"Frequency Table",content:"A frequency table is a tabular display for either the raw absolute or relative frequencies of a categorical variable's values."})),oe=function(e){u()(a,e);var t=j(a);function a(e){var o;return r()(this,a),(o=t.call(this,e)).state={calculateRelative:!1,calculateCounts:!0,variable:e.defaultValue||e.variables[0],group:null,nDecimalPlaces:3},o}return n()(a,[{key:"generateFrequencyTable",value:function(){var e,t=this.state,a=t.variable,o=t.group,r=t.calculateCounts,i=t.calculateRelative,n=t.nDecimalPlaces;if(o){if(e=Object(G.a)(this.props.data[a],this.props.data[o],(function(e){return J(a,e,r,i)})),o.categories){for(var l={},u=0;u<o.categories.length;u++)e[o.categories[u]]&&(l[o.categories[u]]=e[o.categories[u]]);e=l}}else e=J(a,this.props.data[a],r,i);var s={variable:o?"".concat(a," by ").concat(o):a,type:o?"Grouped Frequency Table":"Frequency Table",relative:i};s.value=o?function(e,t,a){return h()("div",{style:{overflowX:"auto",width:"100%"}},void 0,h()("label",{},void 0,e,": "),V()(t).map((function(e,t){var o,r=e[1].relativeFreqs,i=e[1].absoluteFreqs,n=e[1].keys.map((function(e,t){return h()("td",{},t,e)}));if(i&&!r){var l=0;(o=i.map((function(e,t){var a=e||0;return l+=a,h()("td",{},t,a)}))).push(h()("td",{},"total",l))}else if(!i&&r)(o=r.map((function(e,t){var o=e||0;return h()("td",{},t,o.toFixed(a))}))).push(_);else if(i&&r){var u=0;(o=i.map((function(e,t){var o=e||0;return u+=o,h()("td",{},t,o," (",r[t].toFixed(a),")")}))).push(h()("td",{},"total",u," (1.0)"))}return h()("div",{},t,h()("label",{},void 0,e[0],": "),h()(q.a,{bordered:!0,size:"sm"},void 0,h()("thead",{},void 0,h()("tr",{},void 0,ee,n,te)),h()("tbody",{},void 0,h()("tr",{},void 0,h()("th",{},void 0,r&&!i?"Relative":"Count"),o))))})))}(s.variable,e,n):function(e,t,a){var o=0;return t.absoluteFreqs&&!t.relativeFreqs?h()(q.a,{bordered:!0,size:"sm"},void 0,h()("thead",{},void 0,h()("tr",{},void 0,h()("th",{className:"not-sortable"},void 0,e),O,H)),h()("tbody",{},void 0,t.absoluteFreqs.map((function(e,a){return o+=e,h()("tr",{},a,X,h()("td",{},void 0,t.keys[a]),h()("td",{},void 0,e))}))),h()("tbody",{},void 0,h()("tr",{},"total",E,I,h()("td",{},void 0,o)))):!t.absoluteFreqs&&t.relativeFreqs?h()(q.a,{bordered:!0,size:"sm"},void 0,h()("thead",{},void 0,h()("tr",{},void 0,h()("th",{className:"not-sortable"},void 0,e),K,L)),h()("tbody",{},void 0,t.relativeFreqs.map((function(e,r){return o+=e,h()("tr",{},r,M,h()("td",{},void 0,t.keys[r]),h()("td",{},void 0,e.toFixed(a)))}))),Q):h()(q.a,{bordered:!0,size:"sm"},void 0,h()("thead",{},void 0,h()("tr",{},void 0,h()("th",{className:"not-sortable"},void 0,e),U,W)),h()("tbody",{},void 0,t.absoluteFreqs.map((function(e,r){var i=t.relativeFreqs[r];return o+=e,h()("tr",{},r,Y,h()("td",{},void 0,t.keys[r]),h()("td",{},void 0,e," (",i.toFixed(a),")"))}))),h()("tbody",{},void 0,h()("tr",{},"total",Z,$,h()("td",{},void 0,o," (1.0)"))))}(s.variable,e,n),this.props.logAction(z.l,{variable:a,group:o,calculateRelative:i}),this.props.onCreated(s)}},{key:"render",value:function(){var e=this,t=this.props,a=t.variables,o=t.groupingVariables;return h()(p.a,{},void 0,ae,h()(p.a.Body,{},void 0,h()(C.a,{legend:"Variable:",defaultValue:this.state.variable,options:a,onChange:function(t){e.setState({variable:t})}}),h()(C.a,{legend:"Group By:",options:o,clearable:!0,menuPlacement:"top",onChange:function(t){e.setState({group:t})},tooltip:"Generate a frequency table for each category of a chosen grouping variable"}),h()(m.a,{},void 0,h()(g.a,{},void 0,h()(F.a,{legend:"Counts",defaultValue:this.state.calculateCounts,onChange:function(){e.setState({calculateCounts:!e.state.calculateCounts})}})),h()(g.a,{},void 0,h()(F.a,{legend:"Relative Frequency",defaultValue:this.state.calculateRelative,onChange:function(){e.setState({calculateRelative:!e.state.calculateRelative})}}))),this.state.relativeFreqs?h()("p",{},void 0,"Report relative frequencies to",h()(R.b,{inline:!0,width:50,max:16,min:0,defaultValue:this.state.nDecimalPlaces,onChange:function(t){e.setState({nDecimalPlaces:t})}}),"decimal place(s)."):null,h()(y.a,{variant:"primary",block:!0,onClick:this.generateFrequencyTable.bind(this),disabled:!this.state.calculateCounts&&!this.state.calculateRelative},void 0,"Generate")))}}]),a}(b.Component);oe.defaultProps={defaultValue:null,groupingVariables:null,logAction:function(){}},t.default=oe}}]);