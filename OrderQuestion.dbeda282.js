(window.webpackJsonp=window.webpackJsonp||[]).push([[227],{1144:function(t,e,n){var r=n(525);r(r.P,"Array",{fill:n(1397)}),n(897)("fill")},1158:function(t,e,n){"use strict";var r=n(363),i=n(390);Object(i.b)("GradeFeedbackRenderer");var o=Object(r.a)((function(){return Promise.all([n.e(0),n.e(6),n.e(374),n.e(163)]).then(n.bind(null,1575))}));e.a=o},415:function(t,e,n){"use strict";function r(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var i={};function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];"string"==typeof e[0]&&i[e[0]]||("string"==typeof e[0]&&(i[e[0]]=new Date),r.apply(void 0,e))}function s(t,e,n){t.loadNamespaces(e,(function(){if(t.isInitialized)n();else{t.on("initialized",(function e(){setTimeout((function(){t.off("initialized",e)}),0),n()}))}}))}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.languages||!e.languages.length)return o("i18n.languages were undefined or empty",e.languages),!0;var r=e.languages[0],i=!!e.options&&e.options.fallbackLng,s=e.languages[e.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(t,n){var r=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t))&&(!!e.hasResourceBundle(r,t)||(!e.services.backendConnector.backend||!(!a(r,t)||i&&!a(s,t))))}function c(t){return t.displayName||t.name||("string"==typeof t&&t.length>0?t:"Unknown")}},434:function(t,e,n){var r=n(448);t.exports=function(t,e){if(null==t)return{};var n,i,o=r(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},448:function(t,e){t.exports=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}},4544:function(t,e,n){"use strict";n.r(e);n(376),n(368),n(377);var r=n(365),i=n.n(r),o=n(370),s=n.n(o),a=n(371),c=n.n(a),u=n(387),f=n.n(u),l=n(374),p=n.n(l),d=n(375),b=n.n(d),h=n(373),g=n.n(h),v=n(366),m=n.n(v),y=n(0),O=(n(357),n(416)),j=n.n(O),w=n(631),S=n(458),k=n(649),P=n(1891),N=n(1292),x=n(979),R=n(959),C=n(756),I=n(761),D=n(1158),E=n(440);n(1144);var q=function(t){for(var e=t.length,n=[t=t.slice()],r=new Array(e).fill(0),i=1;i<e;)if(r[i]<i){var o=i%2&&r[i],s=t[i];t[i]=t[o],t[o]=s,r[i]=r[i]+1,i=1,n.push(t.slice())}else r[i]=0,i+=1;return n},T=n(444);n(296);function B(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g()(t);if(e){var i=g()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b()(this,n)}}var z=Object(k.a)("order-question"),A=j()("isle:order-question"),L=function(t){p()(n,t);var e=B(n);function n(t){var r;return s()(this,n),r=e.call(this,t),m()(f()(r),"handleChange",(function(t){for(var e=!0,n=0;n<t.length;n++)if(t[n].id!==n){e=!1;break}r.props.onChange(t,e),r.setState({cards:t,correct:e,submitted:!1})})),m()(f()(r),"logHint",(function(t){A("Logging hint..."),r.context.log({id:r.id,type:T.Hb,value:t})})),m()(f()(r),"sendSubmitNotification",(function(){var t=r.context;r.props.provideFeedback?r.state.correct?t.addNotification({title:r.props.t("correct"),message:r.props.successMsg||r.props.t("submission-correct"),level:"success"}):t.addNotification({title:r.props.t("incorrect"),message:r.props.failureMsg||r.props.t("submission-incorrect"),level:"error"}):t.addNotification({title:r.props.t("submitted"),message:r.props.t("submission-message"),level:"info"})})),m()(f()(r),"handleSubmit",(function(){var t=r.context;r.props.disableSubmitNotification||r.sendSubmitNotification(),r.props.onSubmit(r.state.cards,r.state.correct),r.setState({submitted:!0}),t.log({id:r.id,type:T.Ib,value:r.state.cards.map((function(t){return t.text})).join(" -> ")})})),r.id=t.id||z(t),r.state={cards:null,correct:!1,submitted:!1,options:t.options.map((function(t,e){return{id:e,text:t}})),permutations:q(t.options)},r}return c()(n,[{key:"renderSubmitButton",value:function(){var t=this.context;return this.props.until&&t.startTime>this.props.until?i()("span",{className:"title",style:{marginLeft:4}},void 0,this.props.t("question-closed")):i()(N.a,{className:"submit-button",variant:"primary",size:"sm",onClick:this.handleSubmit,disabled:this.state.submitted&&this.state.correct},void 0,this.state.submitted?this.props.t("resubmit"):this.props.t("submit"))}},{key:"render",value:function(){var t=this.props.hints.length;return i()(S.a,{id:this.id,className:"order-question",style:this.props.style},void 0,i()(S.a.Body,{style:{width:this.props.feedback?"calc(100%-60px)":"100%",display:"inline-block"}},void 0,i()("label",{},void 0,this.props.question),i()(P.a,{shuffle:!0,data:this.state.options,onChange:this.handleChange,onInit:this.handleChange,disabled:this.state.submitted&&this.state.correct}),i()("div",{className:"order-question-toolbar"},void 0,t>0?i()(x.a,{onClick:this.logHint,hints:this.props.hints,placement:this.props.hintPlacement}):null,this.renderSubmitButton(),this.props.chat?i()(C.a,{for:this.id}):null),i()(R.a,{id:this.id,data:{type:"factor",levels:this.state.permutations.map((function(t){return t.join(" -> ")})),question:this.props.question,solution:this.props.options},info:"ORDER_QUESTION_SUBMISSION",points:this.props.points}),this.props.feedback?i()(I.a,{id:this.id+"_feedback"}):null,i()(D.a,{for:this.id,points:this.props.points})))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.options.length!==e.options.length?{options:t.options.map((function(t,e){return{id:e,text:t}})),permutations:q(t.options)}:null}}]),n}(y.Component);L.defaultProps={question:"",provideFeedback:!0,hints:[],hintPlacement:"bottom",feedback:!0,chat:!1,failureMsg:null,successMsg:null,disableSubmitNotification:!1,until:null,points:10,style:{},onChange:function(){},onSubmit:function(){}},L.contextType=E.a;e.default=Object(w.a)("OrderQuestion")(L)},457:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var r=n(412),i=n.n(r),o=n(366),s=n.n(o),a=n(0),c=n(605),u=n(415);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){s()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.i18n,r=Object(a.useContext)(c.a)||{},o=r.i18n,s=r.defaultNS,f=n||o||Object(c.d)();if(f&&!f.reportNamespaces&&(f.reportNamespaces=new c.b),!f){Object(u.e)("You will need to pass in an i18next instance by using initReactI18next");var p=function(t){return Array.isArray(t)?t[t.length-1]:t},d=[p,{},!1];return d.t=p,d.i18n={},d.ready=!1,d}var b=l(l(l({},Object(c.c)()),f.options.react),e),h=b.useSuspense,g=t||s||f.options&&f.options.defaultNS;g="string"==typeof g?[g]:g||["translation"],f.reportNamespaces.addUsedNamespaces&&f.reportNamespaces.addUsedNamespaces(g);var v=(f.isInitialized||f.initializedStoreOnce)&&g.every((function(t){return Object(u.b)(t,f,b)}));function m(){return{t:f.getFixedT(null,"fallback"===b.nsMode?g:g[0])}}var y=Object(a.useState)(m()),O=i()(y,2),j=O[0],w=O[1],S=Object(a.useRef)(!0);Object(a.useEffect)((function(){var t=b.bindI18n,e=b.bindI18nStore;function n(){S.current&&w(m())}return S.current=!0,v||h||Object(u.c)(f,g,(function(){S.current&&w(m())})),t&&f&&f.on(t,n),e&&f&&f.store.on(e,n),function(){S.current=!1,t&&f&&t.split(" ").forEach((function(t){return f.off(t,n)})),e&&f&&e.split(" ").forEach((function(t){return f.store.off(t,n)}))}}),[g.join()]);var k=[j.t,f,v];if(k.t=j.t,k.i18n=f,k.ready=v,v)return k;if(!v&&!h)return k;throw new Promise((function(t){Object(u.c)(f,g,(function(){t()}))}))}},631:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(366),i=n.n(r),o=n(412),s=n.n(o),a=n(434),c=n.n(a),u=n(0),f=n.n(u),l=n(457),p=n(415);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function r(r){var i=r.forwardedRef,o=c()(r,["forwardedRef"]),a=Object(l.a)(t,o),u=s()(a,3),p=u[0],d=u[1],h=u[2],g=b(b({},o),{},{t:p,i18n:d,tReady:h});return e.withRef&&i?g.ref=i:!e.withRef&&i&&(g.forwardedRef=i),f.a.createElement(n,g)}r.displayName="withI18nextTranslation(".concat(Object(p.a)(n),")"),r.WrappedComponent=n;return e.withRef?f.a.forwardRef((function(t,e){return f.a.createElement(r,Object.assign({},t,{forwardedRef:e}))})):r}}},756:function(t,e,n){"use strict";var r=n(363),i=n(390);Object(i.b)("ChatButton");var o=Object(r.a)((function(){return n.e(137).then(n.bind(null,1175))}));e.a=o},979:function(t,e,n){"use strict";var r=n(363),i=n(390);Object(i.b)("HintButton");var o=Object(r.a)((function(){return n.e(166).then(n.bind(null,1367))}));e.a=o}}]);