(window.webpackJsonp=window.webpackJsonp||[]).push([[282],{4821:function(t,e,o){"use strict";o.r(e);o(376),o(368),o(377);var n=o(365),s=o.n(n),i=o(370),r=o.n(i),a=o(371),p=o.n(a),c=o(387),l=o.n(c),u=o(374),h=o.n(u),d=o(375),f=o.n(d),v=o(373),b=o.n(v),m=o(366),y=o.n(m),C=o(0),w=(o(357),o(416)),V=o.n(w),j=o(631),k=o(394),g=o(484),x=o(782),S=o(440),z=o(619);function N(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,n=b()(t);if(e){var s=b()(this).constructor;o=Reflect.construct(n,arguments,s)}else o=n.apply(this,arguments);return f()(this,o)}}var P=V()("isle:video-chat-button"),R=function(t){h()(o,t);var e=N(o);function o(t){var n;return r()(this,o),n=e.call(this,t),y()(l()(n),"toggleVideoChat",(function(t){var e=!n.state.opened;n.props.onClick(t,e),n.setState({opened:e},(function(){var t=n.context;e?(P("Should join chat for component with id '".concat(n.props.for,"'...")),t.joinVideoChat({name:n.props.for,subject:n.props.subject||n.props.for})):(P("Should leave chat for component with id '".concat(n.props.for,"'...")),t.leaveVideoChat(n.props.for))}))})),n.state={opened:!1},n}return p()(o,[{key:"componentDidMount",value:function(){var t=this,e=this.context;this.unsubscribe=e.subscribe((function(e,o){e===z.Q&&o===t.props.for?t.setState({opened:!0}):e===z.P&&o===t.props.for?t.setState({opened:!1}):e!==z.t&&e!==z.x||t.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var t,e,o,n=this.context,i=this.props.t;if(t=this.props.buttonLabel?this.props.buttonLabel:this.state.opened?i("leave"):i("join"),e=this.props.buttonVariant?this.props.buttonVariant:this.state.opened?"success":"secondary",!n.jitsi)return s()(k.a,{disabled:!0,name:"Video Chat",variant:e,size:this.props.size,className:this.props.className,style:this.props.style,"aria-disabled":"true","aria-label":i("disabled")},void 0,t);o=this.props.tooltip?this.props.tooltip:this.state.opened?i("leave-id",{id:this.props.for}):i("join-id",{id:this.props.for});var r=s()(k.a,{name:"Video Chat",variant:e,size:this.props.size,className:this.props.className,onClick:this.toggleVideoChat,style:this.props.style,"aria-label":i("toggle")},void 0,s()("span",{style:{pointerEvents:"none"}},void 0,t));return this.props.showTooltip&&(r=s()(g.a,{tooltip:o,placement:this.props.tooltipPlacement},void 0,r)),s()(x.a,{user:!0},void 0,r)}}]),o}(C.Component);R.defaultProps={subject:null,buttonLabel:null,showTooltip:!0,size:"sm",buttonVariant:null,tooltipPlacement:"top",onClick:function(){},className:"",style:{}},R.contextType=S.a,e.default=Object(j.a)("VideoChatButton")(R)}}]);