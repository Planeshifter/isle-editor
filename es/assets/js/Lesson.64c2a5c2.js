(window.webpackJsonp=window.webpackJsonp||[]).push([[224],{1529:function(e,t,n){"use strict";n.d(t,"a",(function(){return ee})),n.d(t,"b",(function(){return oe})),n.d(t,"c",(function(){return F}));n(411),n(403),n(415),n(708);var o=n(407),i=n.n(o),r=n(410),s=n.n(r),a=n(420),u=n.n(a),c=n(413),l=n.n(c),d=n(414),p=n.n(d),f=n(412),h=n.n(f),v=n(404),m=n.n(v),b=n(0),g=n.n(b),y=n(396),C=n.n(y),M=n(402),w=n.n(M);n(79);function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return"function"==typeof e&&e.apply(void 0,n)}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var S="react-contextmenu",k="react-contextmenu--visible",R="react-contextmenu-wrapper",T="react-contextmenu-item",E="react-contextmenu-item--active",N="react-contextmenu-item--disabled",D="react-contextmenu-item--divider",I="react-contextmenu-item--selected",H="react-contextmenu-submenu",L={},P=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement),j="REACT_CONTEXTMENU_SHOW",A="REACT_CONTEXTMENU_HIDE";function U(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window;"function"==typeof window.CustomEvent?n=new window.CustomEvent(e,{detail:t}):(n=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!0,t),o&&(o.dispatchEvent(n),Object.assign(L,t))}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;U(j,Object.assign({},e,{type:j}),t)}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;U(A,Object.assign({},e,{type:A}),t)}var V=new function e(){var t=this;i()(this,e),m()(this,"handleShowEvent",(function(e){for(var n in t.callbacks)x(t.callbacks,n)&&t.callbacks[n].show(e)})),m()(this,"handleHideEvent",(function(e){for(var n in t.callbacks)x(t.callbacks,n)&&t.callbacks[n].hide(e)})),m()(this,"register",(function(e,n){var o=Math.random().toString(36).substring(7);return t.callbacks[o]={show:e,hide:n},o})),m()(this,"unregister",(function(e){e&&t.callbacks[e]&&delete t.callbacks[e]})),this.callbacks={},P&&(window.addEventListener(j,this.handleShowEvent),window.addEventListener(A,this.handleHideEvent))},z=n(507),X=n.n(z);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return p()(this,n)}}var B=function(e){l()(n,e);var t=_(n);function n(){var e;i()(this,n);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r)),m()(u()(e),"handleClick",(function(t){0!==t.button&&1!==t.button&&t.preventDefault(),e.props.disabled||e.props.divider||(O(e.props.onClick,t,Object.assign({},e.props.data,L.data),L.target),e.props.preventClose||K())})),e}return s()(n,[{key:"render",value:function(){var e,t=this,n=this.props,o=n.attributes,i=n.children,r=n.className,s=n.disabled,a=n.divider,u=n.selected,c=w()(r,T,o.className,(e={},m()(e,w()(N,o.disabledClassName),s),m()(e,w()(D,o.dividerClassName),a),m()(e,w()(I,o.selectedClassName),u),e));return g.a.createElement("div",X()({},o,{className:c,role:"menuitem",tabIndex:"-1","aria-disabled":s?"true":"false",ref:function(e){t.ref=e},onMouseMove:this.props.onMouseMove,onMouseLeave:this.props.onMouseLeave,onTouchEnd:this.handleClick,onClick:this.handleClick}),a?null:i)}}]),n}(b.Component);m()(B,"defaultProps",{attributes:{},children:null,className:"",data:{},disabled:!1,divider:!1,onClick:function(){return null},onMouseMove:function(){return null},onMouseLeave:function(){return null},preventClose:!1,selected:!1});var F=B;function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return p()(this,n)}}var q=function(e){l()(n,e);var t=Y(n);function n(e){var o;return i()(this,n),o=t.call(this,e),m()(u()(o),"handleKeyNavigation",(function(e){if(!1!==o.state.isVisible)switch(e.keyCode){case 37:case 27:e.preventDefault(),o.hideMenu(e);break;case 38:e.preventDefault(),o.selectChildren(!0);break;case 40:e.preventDefault(),o.selectChildren(!1);break;case 39:o.tryToOpenSubMenu(e);break;case 13:e.preventDefault(),o.tryToOpenSubMenu(e);var t=o.seletedItemRef&&o.seletedItemRef.props&&o.seletedItemRef.props.disabled;o.seletedItemRef&&o.seletedItemRef.ref instanceof HTMLElement&&!t?o.seletedItemRef.ref.click():o.hideMenu(e)}})),m()(u()(o),"handleForceClose",(function(){o.setState({forceSubMenuOpen:!1})})),m()(u()(o),"tryToOpenSubMenu",(function(e){o.state.selectedItem&&o.state.selectedItem.type===o.getSubMenuType()&&(e.preventDefault(),o.setState({forceSubMenuOpen:!0}))})),m()(u()(o),"selectChildren",(function(e){var t=o.state.selectedItem,n=[],i=0,r={};if(g.a.Children.forEach(o.props.children,(function e(t,s){t&&([F,o.getSubMenuType()].indexOf(t.type)<0?g.a.Children.forEach(t.props?t.props.children:[],e):t.props.divider||(t.props.disabled&&(++i,r[s]=!0),n.push(t)))})),i!==n.length){var s=function(t){var o=t;do{e?--o:++o,o<0?o=n.length-1:o>=n.length&&(o=0)}while(o!==t&&r[o]);return o===t?null:o}(n.indexOf(t));null!==s&&o.setState({selectedItem:n[s],forceSubMenuOpen:!1})}})),m()(u()(o),"onChildMouseMove",(function(e){o.state.selectedItem!==e&&o.setState({selectedItem:e,forceSubMenuOpen:!1})})),m()(u()(o),"onChildMouseLeave",(function(){o.setState({selectedItem:null,forceSubMenuOpen:!1})})),m()(u()(o),"renderChildren",(function(e){return g.a.Children.map(e,(function(e){var t={};return g.a.isValidElement(e)?[F,o.getSubMenuType()].indexOf(e.type)<0?(t.children=o.renderChildren(e.props?e.props.children:[]),g.a.cloneElement(e,t)):(t.onMouseLeave=o.onChildMouseLeave.bind(u()(o)),e.type===o.getSubMenuType()&&(t.forceOpen=o.state.forceSubMenuOpen&&o.state.selectedItem===e,t.forceClose=o.handleForceClose,t.parentKeyNavigationHandler=o.handleKeyNavigation),e.props.divider||o.state.selectedItem!==e?(t.onMouseMove=function(){return o.onChildMouseMove(e)},g.a.cloneElement(e,t)):(t.selected=!0,t.ref=function(e){o.seletedItemRef=e},g.a.cloneElement(e,t))):e}))})),o.seletedItemRef=null,o.state={selectedItem:null,forceSubMenuOpen:!1},o}return n}(b.Component);function J(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return p()(this,n)}}var G=function(e){l()(n,e);var t=J(n);function n(e){var o;return i()(this,n),o=t.call(this,e),m()(u()(o),"getMenuPosition",(function(){var e=window,t=e.innerWidth,n=e.innerHeight,i=o.subMenu.getBoundingClientRect(),r={};return i.bottom>n?r.bottom=0:r.top=0,i.right<t?r.left="100%":r.right="100%",r})),m()(u()(o),"getRTLMenuPosition",(function(){var e=window.innerHeight,t=o.subMenu.getBoundingClientRect(),n={};return t.bottom>e?n.bottom=0:n.top=0,t.left<0?n.left="100%":n.right="100%",n})),m()(u()(o),"hideMenu",(function(e){e.preventDefault(),o.hideSubMenu(e)})),m()(u()(o),"hideSubMenu",(function(e){e.detail&&e.detail.id&&o.menu&&e.detail.id!==o.menu.id||(o.props.forceOpen&&o.props.forceClose(),o.setState({visible:!1,selectedItem:null}),o.unregisterHandlers())})),m()(u()(o),"handleClick",(function(e){e.preventDefault(),o.props.disabled||(O(o.props.onClick,e,Object.assign({},o.props.data,L.data),L.target),o.props.onClick&&!o.props.preventCloseOnClick&&K())})),m()(u()(o),"handleMouseEnter",(function(){o.closetimer&&clearTimeout(o.closetimer),o.props.disabled||o.state.visible||(o.opentimer=setTimeout((function(){return o.setState({visible:!0,selectedItem:null})}),o.props.hoverDelay))})),m()(u()(o),"handleMouseLeave",(function(){o.opentimer&&clearTimeout(o.opentimer),o.state.visible&&(o.closetimer=setTimeout((function(){return o.setState({visible:!1,selectedItem:null})}),o.props.hoverDelay))})),m()(u()(o),"menuRef",(function(e){o.menu=e})),m()(u()(o),"subMenuRef",(function(e){o.subMenu=e})),m()(u()(o),"registerHandlers",(function(){document.removeEventListener("keydown",o.props.parentKeyNavigationHandler),document.addEventListener("keydown",o.handleKeyNavigation)})),m()(u()(o),"unregisterHandlers",(function(e){document.removeEventListener("keydown",o.handleKeyNavigation),e||document.addEventListener("keydown",o.props.parentKeyNavigationHandler)})),o.state=Object.assign({},o.state,{visible:!1}),o}return s()(n,[{key:"componentDidMount",value:function(){this.listenId=V.register((function(){}),this.hideSubMenu)}},{key:"getSubMenuType",value:function(){return n}},{key:"shouldComponentUpdate",value:function(e,t){return this.isVisibilityChange=!(this.state.visible===t.visible&&this.props.forceOpen===e.forceOpen||this.state.visible&&e.forceOpen||this.props.forceOpen&&t.visible),!0}},{key:"componentDidUpdate",value:function(){var e=this;if(this.isVisibilityChange)if(this.props.forceOpen||this.state.visible){(window.requestAnimationFrame||setTimeout)((function(){var t=e.props.rtl?e.getRTLMenuPosition():e.getMenuPosition();e.subMenu.style.removeProperty("top"),e.subMenu.style.removeProperty("bottom"),e.subMenu.style.removeProperty("left"),e.subMenu.style.removeProperty("right"),x(t,"top")&&(e.subMenu.style.top=t.top),x(t,"left")&&(e.subMenu.style.left=t.left),x(t,"bottom")&&(e.subMenu.style.bottom=t.bottom),x(t,"right")&&(e.subMenu.style.right=t.right),e.subMenu.classList.add(k),e.registerHandlers(),e.setState({selectedItem:null})}))}else{this.subMenu.addEventListener("transitionend",(function t(){e.subMenu.removeEventListener("transitionend",t),e.subMenu.style.removeProperty("bottom"),e.subMenu.style.removeProperty("right"),e.subMenu.style.top=0,e.subMenu.style.left="100%",e.unregisterHandlers()})),this.subMenu.classList.remove(k)}}},{key:"componentWillUnmount",value:function(){this.listenId&&V.unregister(this.listenId),this.opentimer&&clearTimeout(this.opentimer),this.closetimer&&clearTimeout(this.closetimer),this.unregisterHandlers(!0)}},{key:"render",value:function(){var e,t=this.props,n=t.children,o=t.attributes,i=t.disabled,r=t.title,s=t.selected,a=this.state.visible,u={ref:this.menuRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:w()(T,H,o.listClassName),style:{position:"relative"}},c={className:w()(T,o.className,(e={},m()(e,w()(N,o.disabledClassName),i),m()(e,w()(E,o.visibleClassName),a),m()(e,w()(I,o.selectedClassName),s),e)),onMouseMove:this.props.onMouseMove,onMouseOut:this.props.onMouseOut,onClick:this.handleClick},l={ref:this.subMenuRef,style:{position:"absolute",transition:"opacity 1ms",top:0,left:"100%"},className:w()(S,this.props.className)};return g.a.createElement("nav",X()({},u,{role:"menuitem",tabIndex:"-1","aria-haspopup":"true"}),g.a.createElement("div",X()({},o,c),r),g.a.createElement("nav",X()({},l,{role:"menu",tabIndex:"-1"}),this.renderChildren(n)))}}]),n}(q);m()(G,"propTypes",{children:C.a.node.isRequired,attributes:C.a.object,title:C.a.node.isRequired,className:C.a.string,disabled:C.a.bool,hoverDelay:C.a.number,rtl:C.a.bool,selected:C.a.bool,onMouseMove:C.a.func,onMouseOut:C.a.func,forceOpen:C.a.bool,forceClose:C.a.func,parentKeyNavigationHandler:C.a.func}),m()(G,"defaultProps",{disabled:!1,hoverDelay:500,attributes:{},className:"",rtl:!1,selected:!1,onMouseMove:function(){return null},onMouseOut:function(){return null},forceOpen:!1,forceClose:function(){return null},parentKeyNavigationHandler:function(){return null}});var Q=G;function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return p()(this,n)}}var $=function(e){l()(n,e);var t=Z(n);function n(e){var o;return i()(this,n),o=t.call(this,e),m()(u()(o),"registerHandlers",(function(){document.addEventListener("mousedown",o.handleOutsideClick),document.addEventListener("touchstart",o.handleOutsideClick),o.props.preventHideOnScroll||document.addEventListener("scroll",o.handleHide),o.props.preventHideOnContextMenu||document.addEventListener("contextmenu",o.handleHide),document.addEventListener("keydown",o.handleKeyNavigation),o.props.preventHideOnResize||window.addEventListener("resize",o.handleHide)})),m()(u()(o),"unregisterHandlers",(function(){document.removeEventListener("mousedown",o.handleOutsideClick),document.removeEventListener("touchstart",o.handleOutsideClick),document.removeEventListener("scroll",o.handleHide),document.removeEventListener("contextmenu",o.handleHide),document.removeEventListener("keydown",o.handleKeyNavigation),window.removeEventListener("resize",o.handleHide)})),m()(u()(o),"handleShow",(function(e){if(e.detail.id===o.props.id&&!o.state.isVisible){var t=e.detail.position,n=t.x,i=t.y;o.setState({isVisible:!0,x:n,y:i}),o.registerHandlers(),O(o.props.onShow,e)}})),m()(u()(o),"handleHide",(function(e){!o.state.isVisible||e.detail&&e.detail.id&&e.detail.id!==o.props.id||(o.unregisterHandlers(),o.setState({isVisible:!1,selectedItem:null,forceSubMenuOpen:!1}),O(o.props.onHide,e))})),m()(u()(o),"handleOutsideClick",(function(e){o.menu.contains(e.target)||K()})),m()(u()(o),"handleMouseLeave",(function(e){e.preventDefault(),O(o.props.onMouseLeave,e,Object.assign({},o.props.data,L.data),L.target),o.props.hideOnLeave&&K()})),m()(u()(o),"handleContextMenu",(function(e){e.preventDefault(),o.handleHide(e)})),m()(u()(o),"hideMenu",(function(e){27!==e.keyCode&&13!==e.keyCode||K()})),m()(u()(o),"getMenuPosition",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={top:t,left:e};if(!o.menu)return n;var i=window,r=i.innerWidth,s=i.innerHeight,a=o.menu.getBoundingClientRect();return t+a.height>s&&(n.top-=a.height),e+a.width>r&&(n.left-=a.width),n.top<0&&(n.top=a.height<s?(s-a.height)/2:0),n.left<0&&(n.left=a.width<r?(r-a.width)/2:0),n})),m()(u()(o),"getRTLMenuPosition",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={top:t,left:e};if(!o.menu)return n;var i=window,r=i.innerWidth,s=i.innerHeight,a=o.menu.getBoundingClientRect();return n.left=e-a.width,t+a.height>s&&(n.top-=a.height),n.left<0&&(n.left+=a.width),n.top<0&&(n.top=a.height<s?(s-a.height)/2:0),n.left+a.width>r&&(n.left=a.width<r?(r-a.width)/2:0),n})),m()(u()(o),"menuRef",(function(e){o.menu=e})),o.state=Object.assign({},o.state,{x:0,y:0,isVisible:!1}),o}return s()(n,[{key:"getSubMenuType",value:function(){return Q}},{key:"componentDidMount",value:function(){this.listenId=V.register(this.handleShow,this.handleHide)}},{key:"componentDidUpdate",value:function(){var e=this,t=window.requestAnimationFrame||setTimeout;this.state.isVisible?t((function(){var n=e.state,o=n.x,i=n.y,r=e.props.rtl?e.getRTLMenuPosition(o,i):e.getMenuPosition(o,i),s=r.top,a=r.left;t((function(){e.menu&&(e.menu.style.top="".concat(s,"px"),e.menu.style.left="".concat(a,"px"),e.menu.style.opacity=1,e.menu.style.pointerEvents="auto")}))})):t((function(){e.menu&&(e.menu.style.opacity=0,e.menu.style.pointerEvents="none")}))}},{key:"componentWillUnmount",value:function(){this.listenId&&V.unregister(this.listenId),this.unregisterHandlers()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=e.style,i=this.state.isVisible,r=Object.assign({},o,{position:"fixed",opacity:0,pointerEvents:"none"}),s=w()(S,n,m()({},k,i));return g.a.createElement("nav",{role:"menu",tabIndex:"-1",ref:this.menuRef,style:r,className:s,onContextMenu:this.handleContextMenu,onMouseLeave:this.handleMouseLeave},this.renderChildren(t))}}]),n}(q);m()($,"propTypes",{id:C.a.string.isRequired,children:C.a.node.isRequired,data:C.a.object,className:C.a.string,hideOnLeave:C.a.bool,rtl:C.a.bool,onHide:C.a.func,onMouseLeave:C.a.func,onShow:C.a.func,preventHideOnContextMenu:C.a.bool,preventHideOnResize:C.a.bool,preventHideOnScroll:C.a.bool,style:C.a.object}),m()($,"defaultProps",{className:"",data:{},hideOnLeave:!1,rtl:!1,onHide:function(){return null},onMouseLeave:function(){return null},onShow:function(){return null},preventHideOnContextMenu:!1,preventHideOnResize:!1,preventHideOnScroll:!1,style:{}});var ee=$;function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=h()(e);if(t){var i=h()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return p()(this,n)}}var ne=function(e){l()(n,e);var t=te(n);function n(){var e;i()(this,n);for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r)),m()(u()(e),"touchHandled",!1),m()(u()(e),"handleMouseDown",(function(t){e.props.holdToDisplay>=0&&0===t.button&&(t.persist(),t.stopPropagation(),e.mouseDownTimeoutId=setTimeout((function(){return e.handleContextClick(t)}),e.props.holdToDisplay)),O(e.props.attributes.onMouseDown,t)})),m()(u()(e),"handleMouseUp",(function(t){0===t.button&&clearTimeout(e.mouseDownTimeoutId),O(e.props.attributes.onMouseUp,t)})),m()(u()(e),"handleMouseOut",(function(t){0===t.button&&clearTimeout(e.mouseDownTimeoutId),O(e.props.attributes.onMouseOut,t)})),m()(u()(e),"handleTouchstart",(function(t){e.touchHandled=!1,e.props.holdToDisplay>=0&&(t.persist(),t.stopPropagation(),e.touchstartTimeoutId=setTimeout((function(){e.handleContextClick(t),e.touchHandled=!0}),e.props.holdToDisplay)),O(e.props.attributes.onTouchStart,t)})),m()(u()(e),"handleTouchEnd",(function(t){e.touchHandled&&t.preventDefault(),clearTimeout(e.touchstartTimeoutId),O(e.props.attributes.onTouchEnd,t)})),m()(u()(e),"handleContextMenu",(function(t){t.button===e.props.mouseButton&&e.handleContextClick(t),O(e.props.attributes.onContextMenu,t)})),m()(u()(e),"handleMouseClick",(function(t){t.button===e.props.mouseButton&&e.handleContextClick(t),O(e.props.attributes.onClick,t)})),m()(u()(e),"handleContextClick",(function(t){if(!(e.props.disable||e.props.disableIfShiftIsPressed&&t.shiftKey)){t.preventDefault(),t.stopPropagation();var n=t.clientX||t.touches&&t.touches[0].pageX,o=t.clientY||t.touches&&t.touches[0].pageY;e.props.posX&&(n-=e.props.posX),e.props.posY&&(o-=e.props.posY),K();var i=O(e.props.collect,e.props),r={position:{x:n,y:o},target:e.elem,id:e.props.id};i&&"function"==typeof i.then?i.then((function(e){r.data=Object.assign({},e,{target:t.target}),W(r)})):(r.data=Object.assign({},i,{target:t.target}),W(r))}})),m()(u()(e),"elemRef",(function(t){e.elem=t})),e}return s()(n,[{key:"render",value:function(){var e=this.props,t=e.renderTag,n=e.attributes,o=e.children,i=Object.assign({},n,{className:w()(R,n.className),onContextMenu:this.handleContextMenu,onClick:this.handleMouseClick,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchstart,onTouchEnd:this.handleTouchEnd,onMouseOut:this.handleMouseOut,ref:this.elemRef});return g.a.createElement(t,i,o)}}]),n}(b.Component);ne.defaultProps={attributes:{},collect:function(){return null},disable:!1,holdToDisplay:1e3,renderTag:"div",posX:0,posY:0,mouseButton:2,disableIfShiftIsPressed:!1};var oe=ne;n(793)},4895:function(e,t,n){"use strict";var o=n(399),i=Object(o.a)((function(){return Promise.all([n.e(0),n.e(5),n.e(187)]).then(n.bind(null,6219))}));t.a=i},4896:function(e,t,n){"use strict";n(415);var o=n(400),i=n.n(o),r=(n(411),n(403),n(407)),s=n.n(r),a=n(410),u=n.n(a),c=n(420),l=n.n(c),d=n(413),p=n.n(d),f=n(414),h=n.n(f),v=n(412),m=n.n(v),b=n(404),g=n.n(b),y=n(0),C=(n(396),n(4125)),M=n(443),w=n.n(M),O=n(1529),x=n(580),S=n.n(x),k=n(1117),R=n.n(k);function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return h()(this,n)}}var E=w()("isle:lesson:contextmenu"),N=["input","textarea"];var D=function(e){p()(n,e);var t=T(n);function n(e){var o;return s()(this,n),o=t.call(this,e),g()(l()(o),"handleSelectionChange",(function(e){if(!o.state.contextMenuIsOpen){var t,n=window.getSelection(),i=(t=document.activeElement)&&~N.indexOf(t.tagName.toLowerCase())?!t.readOnly&&!t.disabled:(t=getSelection().anchorNode)?(t=t.parentNode).isContentEditable:void 0,r=document.activeElement;if(-1!==N.indexOf(r.tagName.toLowerCase())){var s=r.value.slice(r.selectionStart,r.selectionEnd);return o.setState({lastText:s,lastActive:r,editable:i})}if(n.isCollapsed&&"Range"!==n.type)setTimeout((function(){o.forceUpdate()}),150);else if(o.lastSelection=n,n.getRangeAt&&n.rangeCount){var a=n.getRangeAt(0),u=n.toString();o.setState({lastActive:r,lastRange:a,lastText:u,editable:i})}}})),g()(l()(o),"highlightText",(function(e){E("Highlight the selected text..."),document.designMode="on";var t=window.getSelection();t.removeAllRanges(),t.addRange(o.state.lastRange),document.execCommand("styleWithCSS",!1,!0),document.execCommand("backColor",!1,"yellow"),document.designMode="off"})),g()(l()(o),"removeHighlight",(function(e){E("Highlight the selected text...");var t=window.getSelection();t.removeAllRanges(),t.addRange(o.state.lastRange),document.designMode="on",document.execCommand("styleWithCSS",!1,!0),document.execCommand("backColor",!1,"inherit"),document.designMode="off"})),g()(l()(o),"cutSelection",(function(){var e=o.state.lastActive;if(-1!==N.indexOf(e.tagName.toLowerCase()))return e.value=S()(e.value,o.state.lastText,""),navigator.clipboard.writeText(o.state.lastText);var t=window.getSelection();t.removeAllRanges(),t.addRange(o.state.lastRange),document.execCommand("cut")})),g()(l()(o),"copyToClipboard",(function(e){E("Copying selection to clipboard... "),navigator.clipboard.writeText(o.state.lastText)})),g()(l()(o),"copyFromClipboard",(function(){navigator.clipboard.readText().then((function(e){if(!e)return o.props.session.addNotification({title:o.props.t("clipboard-empty"),message:o.props.t("clipboard-empty-message"),level:"error",position:"tr"});var t=o.state.lastActive;t&&t.focus(),document.execCommand("insertText",!1,e)}))})),g()(l()(o),"textToSpeech",(function(){var e=o.state.lastText;E("Read aloud: "+e);var t=o.props.session;if(R()(window.speechSynthesis.getVoices()))return t.addNotification({title:o.props.t("voice-not-supported"),message:o.props.t("voice-not-supported-message"),level:"error",position:"tr"});var n=new SpeechSynthesisUtterance(e);n.lang=t.config.language||"en-US",window.speechSynthesis.speak(n)})),o.state={lastRange:null,lastText:"",contextMenuIsOpen:!1,editable:!1},o}return u()(n,[{key:"componentDidMount",value:function(){document.addEventListener("selectionchange",this.handleSelectionChange)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("selectionchange",this.handleSelectionChange)}},{key:"render",value:function(){var e=this,t=[],n=window.getSelection(),o=document.activeElement,r=o&&-1!==N.indexOf(o.tagName.toLowerCase());if((!n.isCollapsed||"Range"===n.type)&&(this.state.editable&&t.push(i()(O.c,{onClick:this.cutSelection},0,this.props.t("cut"))),t.push(i()(O.c,{onClick:this.copyToClipboard},1,this.props.t("copy"))),t.push(i()(O.c,{onClick:this.textToSpeech},2,this.props.t("read-aloud"))),!r&&!o.isContentEditable&&(t.push(i()(O.c,{onClick:this.highlightText},3,this.props.t("highlight"))),n&&n.focusNode))){var s=n.focusNode.parentElement;s&&s.style&&"yellow"===s.style.backgroundColor&&t.push(i()(O.c,{onClick:this.removeHighlight},4,this.props.t("remove-highlight")))}return r?t.push(i()(O.c,{onClick:this.copyFromClipboard},5,this.props.t("paste"))):o.isContentEditable||(t.push(i()(O.c,{onClick:function(t){var n=t.pageX/window.innerWidth,o=t.pageY/window.innerHeight;e.props.addNote({left:n,top:o,visibility:"private"})}},6,this.props.t("add-personal-note"))),this.props.session.isOwner()&&(t.push(i()(O.c,{onClick:function(t){var n=t.pageX/window.innerWidth,o=t.pageY/window.innerHeight;e.props.addNote({left:n,top:o,visibility:"instructor"})}},7,this.props.t("add-instructor-note"))),t.push(i()(O.c,{onClick:function(t){var n=t.pageX/window.innerWidth,o=t.pageY/window.innerHeight;e.props.addNote({left:n,top:o,visibility:"public"})}},8,this.props.t("add-student-note"))))),i()(O.a,{id:"lessonWindow",onShow:function(){E("Context menu has been opened..."),e.setState({contextMenuIsOpen:!0})},onHide:function(){E("Context menu has been closed..."),e.setState({contextMenuIsOpen:!1})},disableIfShiftIsPressed:!0},void 0,t)}}]),n}(y.Component);t.a=Object(C.a)("Lesson")(D)},4897:function(e,t,n){"use strict";var o=n(400),i=n.n(o),r=(n(0),n(4125));n(321);t.a=Object(r.a)("Lesson")((function(e){return i()("div",{className:"forbidden-wrapper"},void 0,i()("h3",{className:"forbidden-header"},void 0,e.t("not-available-yet")))}))},6383:function(e,t,n){"use strict";var o=n(400),i=n.n(o),r=n(453),s=n.n(r),a=n(0),u=n(1806),c=n(587),l=n(909),d=n(399),p=Object(d.a)((function(){return n.e(182).then(n.bind(null,6477))})),f=n(418),h=(n(320),i()("i",{className:"fas fa-info-circle"}));t.a=function(){var e=Object(u.a)("Lesson").t,t=Object(a.useState)(!1),n=s()(t,2),o=n[0],r=n[1];return i()(a.Fragment,{},void 0,o?i()(p,{run:o,onFinish:function(){r(!1)}}):null,i()(c.a,{placement:"left",overlay:i()(l.a,{id:"interface-tour-button"},void 0,e("start-interface-tour"))},void 0,i()("button",{onClick:function(){o?r(!1):(Object(f.a)("InterfaceTour"),r(!0))},className:"interface-tour-button","aria-label":e(o?"end-interface-tour":"start-interface-tour")},void 0,h)))}},6384:function(e,t,n){"use strict";n(437),n(433),n(425),n(424),n(403),n(434);var o=n(400),i=n.n(o),r=n(404),s=n.n(r),a=n(0),u=n(1679),c=n(457),l=n(453),d=n.n(l);var p=function(){var e=Object(a.useState)(0),t=d()(e,2)[1];return Object(a.useCallback)((function(){t((function(e){return e+1}))}),[])},f=n(578),h=n(462);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){s()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b={private:"green",public:"orange",instructor:"pink"};t.a=function(){var e=Object(a.useContext)(c.a),t=p();return Object(a.useEffect)((function(){var n;return e&&(n=e.subscribe((function(e,n){e!==f.K&&e!==h.Cc||t()}))),function(){n&&n()}}),[t,e]),e.presentationMode?null:e.stickyNotes.map((function(t,n){return t.size||(t.size={}),i()(u.a,{color:b[t.visibility],watermark:t.visibility,editable:!0,minimizable:!0,removable:!0,draggable:{default:m({x:t.left*window.innerWidth,y:t.top*window.innerHeight},t.size)},title:t.title,body:t.body,onDelete:function(){e.deleteStickyNote(t._id)},onMove:function(n){var o=n.top,i=n.left;e.updateStickyNote({noteID:t._id,top:o,left:i})},onResize:function(n){e.updateStickyNote({noteID:t._id,size:n})},onTitleChange:function(n){e.updateStickyNote({noteID:t._id,title:n})},onBodyChange:function(n){e.updateStickyNote({noteID:t._id,body:n})}},t._id)}))}},6419:function(e,t,n){"use strict";n.r(t),function(e){n(411),n(403),n(415);var o=n(400),i=n.n(o),r=n(407),s=n.n(r),a=n(410),u=n.n(a),c=n(420),l=n.n(c),d=n(413),p=n.n(d),f=n(414),h=n.n(f),v=n(412),m=n.n(v),b=n(404),g=n.n(b),y=n(0),C=n.n(y),M=(n(396),n(4890)),w=n.n(M),O=n(6420),x=n(418),S=n(1529),k=n(4895),R=n(791),T=n(457),E=n(462),N=n(578),D=n(6383),I=n(4896),H=n(4897),L=n(6384);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=m()(e);if(t){var i=m()(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return h()(this,n)}}var j={Containers:{tc:{margin:"30px auto 0px auto"}},NotificationItem:{info:{border:"solid 8px #007bff",borderRadius:6,padding:20},success:{boxShadow:"1px 1px 3px 1px darkslategrey"}},Title:{success:{color:"#3c763d"}}},A=i()(O.a,{i18n:x.c},void 0,i()(H.a,{})),U=i()(L.a,{}),W=i()(k.a,{}),K=i()(D.a,{}),V=function(t){p()(o,t);var n=P(o);function o(e,t){var i;return s()(this,o),i=n.call(this,e),g()(l()(i),"addNote",(function(e){var t=e.left,n=e.top,o=e.visibility,r=e.noteID;(i.context.saveStickyNote({left:t,top:n,visibility:o}),r)||(r=Object(R.a)(3),i.context.log({id:"lesson",type:E.ob,value:{top:n,left:t,noteID:r}}))})),i.state={visible:!t.lessonID||(t.isActive()||t.isOwner())},i}return u()(o,[{key:"componentDidMount",value:function(){var e=this,t=this.context;t.onLessonMount(),this.unsubscribe=t.subscribe((function(n,o){n!==N.u&&n!==N.x||e.setState({visible:t.isActive()||t.isOwner()})}))}},{key:"render",value:function(){return this.state.visible?i()(O.a,{i18n:x.c},void 0,i()(S.b,{attributes:{className:"contextmenu-fullscreen"},holdToDisplay:-1,disableIfShiftIsPressed:!0,id:"lessonWindow"},void 0,i()("div",{id:"Lesson",className:this.props.className,style:this.props.style},void 0,this.props.children,U,W,K)),i()(I.a,{addNote:this.addNote,session:this.context}),C.a.createElement(w.a,{ref:function(t){e.notificationSystemISLE=t},allowHTML:!0,style:j})):A}}]),o}(y.Component);V.defaultProps={className:"",style:{}},V.contextType=T.a,t.default=V}.call(this,n(22))}}]);