(window.webpackJsonp=window.webpackJsonp||[]).push([[398],{5756:function(t,e,n){"use strict";n.r(e);n(360),n(352),n(363);var a=n(353),o=n.n(a),r=n(354),i=n.n(r),l=n(369),c=n.n(l),u=n(357),d=n.n(u),s=n(358),p=n.n(s),v=n(355),f=n.n(v),h=n(350),m=n.n(h),y=n(362),g=n.n(y),b=n(0),C=(n(341),n(5656)),P=n(549),x=n.n(P),w=n(555),V=n.n(w),A=n(983),S=n(775),R=n.n(S),D=n(754),k=n(556),F=n(664),q=n(508),z=n(862),E=n(443),G=n(741);function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=f()(t);if(e){var o=f()(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return p()(this,n)}}var j=g()("thead",{},void 0,g()("tr",{},void 0,g()("th",{}),g()("th",{},void 0,"Standard Deviation"),g()("th",{},void 0,"Proportion of Variance"),g()("th",{},void 0,"Cumulative Variance Proportion"))),M=function(t,e,n){return g()(A.a,{bordered:!0,size:"sm"},void 0,j,g()("tbody",{},void 0,t.map((function(t,a){return g()("tr",{},a,g()("th",{},void 0," ","PC".concat(a+1)," "),g()("td",{},void 0," ",t.toFixed(3)," "),g()("td",{},void 0," ",e[a].toFixed(3)," "),g()("td",{},void 0," ",n[a].toFixed(3)," "))}))))},N=g()("span",{className:"title"},void 0,"PCA Summary"),O=g()("span",{},void 0,"Principal Component Analysis",g()(G.a,{title:"Principal Component Analysis",content:"Algorithm to convert observations of possibly correlated variables into linearly uncorrelated principal components."})),Q=g()(F.a,{legend:"Center values (= subtract the mean)?",defaultValue:!0}),X=g()(F.a,{legend:"Scale values (= divide by standard deviation)?",defaultValue:!1}),_=g()(q.b,{legend:"# of components to add to data table",min:0,defaultValue:0}),B=function(t){d()(n,t);var e=J(n);function n(t){var a;return o()(this,n),a=e.call(this,t),m()(c()(a),"compute",(function(t,e,n,o){for(var r=[],i=a.props.data[t[0]].length,l=0;l<i;l++){for(var c=[],u=0;u<t.length;u++)c[u]=a.props.data[t[u]][l];r.push(c)}var d=new C.a(r,{center:e,scale:n}),s=d.predict(r,{noComponents:o});if(o>0){for(var p=V()(a.props.data,1),v=a.props.quantitative.slice(),f=t.map((function(t){return t[0]})).join(""),h=0;h<o;h++){for(var m=[],y=0;y<s.data.length;y++)m.push(s.data[y][h]);var b="PC".concat(h+1,"_").concat(f);p[b]=m,x()(v,b)||v.push(b)}a.props.onGenerate(v,p)}a.props.logAction(E.z,{variables:t,center:e,scale:n});var P=d.getStandardDeviations(),w=d.getExplainedVariance(),A=d.getCumulativeVariance(),S={x:R()(0,w.length,1),y:w,type:"scatter",name:"Proportion of variance"},k={variable:"PCA Summary",type:"PCA",value:g()("div",{style:{overflowX:"auto",width:"100%"}},void 0,N,M(P,w,A),g()(D.a,{editable:!0,data:[S],layout:{xaxis:{title:"Principal Component"},yaxis:{title:"Explained Proportion"}}}))};a.props.onCreated(k)})),a}return i()(n,[{key:"render",value:function(){var t=this.props,e=t.quantitative,n=t.originalQuantitative;return g()(z.a,{title:O,autoStart:!1,onGenerate:this.compute},void 0,g()(k.a,{legend:"Variables:",multi:!0,defaultValue:n,options:e,closeMenuOnSelect:!1}),Q,X,_)}}]),n}(b.Component);B.defaultProps={logAction:function(){}},e.default=B}}]);