(self.webpackChunk=self.webpackChunk||[]).push([[2723],{812383:function(e,s,t){"use strict";var n=t(454530),r=t(202784),a=(t(213980),["children"]),i=function(e){var s=e.children,t=(0,n.Z)(e,a);return r.createElement("div",t,s)};i.defaultProps={className:"",style:{}},s.Z=i},796274:function(e,s,t){"use strict";t.r(s);var n=t(858255),r=t(574315),a=(t(448977),t(296253),t(856997),t(991181),t(202784)),i=(t(213980),t(911755)),o=t.n(i),l=t(376699),u=t(260952),c=t(312594),d=t(458264),v=t(471275),f=t(1570),p=t.n(f),Z=t(42111),m=t(715850),b=t(812383),g=t(542061),y=t(150252),h=t(741319),N=t(462874),w=t(5140),k=o()("isle:proportions-survey"),P=(0,Z.Z)("proportions-survey");var C=function(e){var s=(0,a.useRef)(e.id||P(e)),t=(0,l.$)("surveys").t,i=(0,a.useContext)(h.Z),o=(0,a.useState)(!1),f=(0,r.Z)(o,2),Z=f[0],C=f[1],x=(0,a.useState)(!1),S=(0,r.Z)(x,2),E=S[0],z=S[1],R=e.legends.length,A=(0,a.useState)(new Array(R).fill(100/R)),H=(0,r.Z)(A,2),G=H[0],J=H[1],O=(0,a.useState)({values:null,nResults:0}),q=(0,r.Z)(O,2),M=q[0],T=q[1],$=e.anonymous,j=e.legends,B=e.onSubmit,D=(0,a.useCallback)((function(){k("Sending the data: "+G),i.log({id:s.current,type:w.Pt,value:JSON.stringify(G),anonymous:$},"members"),C(!0),i.addNotification({title:t("submitted"),message:t("answer-submitted"),level:"success"}),B(G)}),[$,B,i,t,G]),F=(0,a.useCallback)((function(e){k("ProportionsSurvey is receiving data: "+JSON.stringify(e));for(var s=new Array(e.length),t=0;t<e.length;t++)s[t]=JSON.parse(e[t]);for(var n=j.length,r=new Array(n).fill(0),a=new Array(n).fill(0),i=0;i<s.length;i++)for(var o=0;o<s[i].length;o++)r[o]+=s[i][o];k("The sum is "+r);for(var l=0;l<n;l++)a[l]=r[l]/s.length;k("The mean is "+a),T({values:a,nResults:s.length})}),[j]),L=Z&&!e.allowMultipleAnswers||e.disabled||p()(function(e){var s=0;if(!e)return s;for(var t=0;t<e.length;t++)s+=e[t];return s}(G),100)>.2;return(0,n.Z)(N.Z,{},void 0,(0,n.Z)(v.Z,{},void 0,(0,n.Z)(d.Z,{},void 0,(0,n.Z)(c.Z,{md:6},void 0,(0,n.Z)(u.Z,{body:!0,className:"proportions-survey"},void 0,(0,n.Z)("h3",{},void 0,e.question,E?(0,n.Z)("i",{className:"fas fa-lock",style:{float:"right"}}):null),(0,n.Z)(m.Z,{legends:j,precision:e.precision,step:e.step,height:e.personalHeight,colors:e.colors,margin:e.margin,onChange:J}),(0,n.Z)(y.Z,{id:s.current,disabled:L,onClick:D,onPaused:z},void 0,t(L?"submitted":"submit")))),(0,n.Z)(c.Z,{md:6},void 0,(0,n.Z)(u.Z,{body:!0,className:"proportions-survey"},void 0,(0,n.Z)("h3",{},void 0,e.group),(0,n.Z)(g.Z,{for:[s.current],onData:F}),(0,n.Z)("h4",{},void 0,t("number-of-votes"),": ",M.nResults," "),(0,n.Z)(m.Z,{legends:e.legends,precision:e.precision,step:e.step,height:e.groupHeight,colors:e.colors,disabled:!0,margin:e.margin,values:M.values}))))),(0,n.Z)(b.Z,{buttonLabel:t("responses"),id:s.current}))};C.defaultProps={onSubmit:function(){},allowMultipleAnswers:!1,question:"",anonymous:!1,disabled:!1,legends:[],group:"group results",precision:2,step:.25,colors:null,personalHeight:200,groupHeight:100,margin:"40px"},s.default=C},150252:function(e,s,t){"use strict";var n=t(858255),r=t(574315),a=t(202784),i=(t(213980),t(376699)),o=t(822736),l=t(770561),u=t(778886),c=t(741319),d=t(5140),v=t(964909),f=function(e){var s=e.children,t=e.disabled,f=e.id,p=e.size,Z=e.variant,m=e.onClick,b=e.onPaused,g=(0,a.useState)(!1),y=(0,r.Z)(g,2),h=y[0],N=y[1],w=(0,i.$)("general").t,k=(0,a.useContext)(c.Z);(0,a.useEffect)((function(){var e;return k&&(e=k.subscribe((function(e,s){e===v.Wh&&s.id===f+"-stoppable-button"&&(s.type===d.rz?(N(!0),b(!0)):s.type===d.nt&&(N(!1),b(!1)))}))),function(){e&&e()}}),[f,k,b]);var P=(0,a.useCallback)((function(){k.log({id:f+"-stoppable-button",type:h?d.nt:d.rz,value:!0},"members"),N(!h),b&&b(!h)}),[f,h,k,b]);return f?(0,n.Z)(a.Fragment,{},void 0,(0,n.Z)(l.Z,{className:"stoppable-button",size:p,variant:Z,block:!0,fill:!0,onClick:m,disabled:t||h},void 0,s),(0,n.Z)(u.Z,{owner:!0},void 0,(0,n.Z)(l.Z,{size:p,variant:h?"warning":"secondary",block:!0,fill:!0,onClick:P},void 0,h?(0,n.Z)("span",{},void 0,w("resume")):(0,n.Z)("span",{},void 0,w("pause"))))):(0,n.Z)(o.Z,{variant:"danger"},void 0,w("supply-component-id"))};f.defaultProps={size:"small",variant:"success"},s.Z=f},770561:function(e,s,t){"use strict";var n=t(607560),r=t(998283),a=t(72779),i=t.n(a),o=t(202784),l=t(429658),u=t(482695),c=["bsPrefix","variant","size","active","className","block","type","as"],d=o.forwardRef((function(e,s){var t=e.bsPrefix,a=e.variant,d=e.size,v=e.active,f=e.className,p=e.block,Z=e.type,m=e.as,b=(0,r.Z)(e,c),g=(0,l.vE)(t,"btn"),y=i()(f,g,v&&"active",a&&g+"-"+a,p&&g+"-block",d&&g+"-"+d);if(b.href)return o.createElement(u.Z,(0,n.Z)({},b,{as:m,ref:s,className:i()(y,b.disabled&&"disabled")}));s&&(b.ref=s),Z?b.type=Z:m||(b.type="button");var h=m||"button";return o.createElement(h,(0,n.Z)({},b,{className:y}))}));d.displayName="Button",d.defaultProps={variant:"primary",active:!1,disabled:!1},s.Z=d},471275:function(e,s,t){"use strict";var n=t(607560),r=t(998283),a=t(72779),i=t.n(a),o=t(202784),l=t(429658),u=["bsPrefix","fluid","as","className"],c=o.forwardRef((function(e,s){var t=e.bsPrefix,a=e.fluid,c=e.as,d=void 0===c?"div":c,v=e.className,f=(0,r.Z)(e,u),p=(0,l.vE)(t,"container"),Z="string"==typeof a?"-"+a:"-fluid";return o.createElement(d,(0,n.Z)({ref:s},f,{className:i()(v,a?""+p+Z:p)}))}));c.displayName="Container",c.defaultProps={fluid:!1},s.Z=c},458264:function(e,s,t){"use strict";var n=t(607560),r=t(998283),a=t(72779),i=t.n(a),o=t(202784),l=t(429658),u=["bsPrefix","className","noGutters","as"],c=["xl","lg","md","sm","xs"],d=o.forwardRef((function(e,s){var t=e.bsPrefix,a=e.className,d=e.noGutters,v=e.as,f=void 0===v?"div":v,p=(0,r.Z)(e,u),Z=(0,l.vE)(t,"row"),m=Z+"-cols",b=[];return c.forEach((function(e){var s,t=p[e];delete p[e];var n="xs"!==e?"-"+e:"";null!=(s=null!=t&&"object"==typeof t?t.cols:t)&&b.push(""+m+n+"-"+s)})),o.createElement(f,(0,n.Z)({ref:s},p,{className:i().apply(void 0,[a,Z,d&&"no-gutters"].concat(b))}))}));d.displayName="Row",d.defaultProps={noGutters:!1},s.Z=d}}]);