/*! For license information please see StatusBar.76272202.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[3886,9254],{70332:function(e){"use strict";e.exports=JSON.parse("[8,9,10,11,12,14,18,24,30,36,48,60,72]")},601822:function(e,t,n){"use strict";var r=(0,n(844601).Z)((function(){return Promise.all([n.e(532),n.e(1327),n.e(5821),n.e(9254)]).then(n.bind(n,294702))}));t.Z=r},294702:function(e,t,n){"use strict";n.r(t);n(382139),n(627476),n(95767),n(898837),n(694882),n(298351);var r=n(858255),o=n(607560),i=n(264659),a=n(904730),s=n(673989),c=n(175663),l=n(750591),u=n(575630),d=n(151119),f=n(202784),p=(n(213980),n(355008)),h=n(179108),v=n(268344),m=n.n(v),g=n(193679);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var w={bottom:!0,bottomLeft:!0,bottomRight:!0,left:!0,right:!0,top:!0,topLeft:!0,topRight:!0};function _(e){var t=document.getElementsByClassName("react-draggable-last");if(e.path){for(var n=e.path[1],r=0;r<e.path.length;r++){var o=e.path[r];if(o.classList&&o.classList.contains("react-draggable-dragged")){n=o;break}}setTimeout((function(){if(t)for(var e=0;e<t.length;e++)t[e].classList.remove("react-draggable-last");n.classList.add("react-draggable-last")}),0)}}var O=function(e){(0,c.Z)(n,e);var t=b(n);function n(){var e;(0,i.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,d.Z)((0,s.Z)(e),"handleStop",(function(t,n){_(t),e.props.onStop(t,n)})),(0,d.Z)((0,s.Z)(e),"handleEscape",(function(t){e.props.onEscape(t)})),(0,d.Z)((0,s.Z)(e),"updateSize",(function(t){var n=t.width,r=t.height;e.container.updateSize({width:n,height:r})})),e}return(0,a.Z)(n,[{key:"render",value:function(){var e=this,t=m()(this.props,["onStop","onEscape"]),n="button, .btn, .nav";return t.cancel&&(n+=", "+t.cancel),(0,r.Z)(h.Z,{node:document.body},void 0,f.createElement(p.s,(0,o.Z)({},t,{cancel:n,onDragStop:this.handleStop,ref:function(t){e.container=t},default:y({x:window.pageXOffset+30,y:window.pageYOffset+30},this.props.default),position:this.props.position,enableResizing:!!this.props.resizable&&w,enableUserSelectHack:!1,style:y({position:"fixed"},this.props.style),disableDragging:this.props.disabled}),this.props.children),(0,r.Z)(g.Z,{container:this.container,actions:{Escape:this.handleEscape}}))}}]),n}(f.Component);O.defaultProps={disabled:!1,resizable:!1,position:null,style:{},onEscape:function(){},onStop:function(){}},t.default=O},912740:function(e,t,n){"use strict";var r=(0,n(844601).Z)((function(){return n.e(6131).then(n.bind(n,357459))}));t.Z=r},701501:function(e,t,n){"use strict";var r=(0,n(844601).Z)((function(){return Promise.all([n.e(532),n.e(4438)]).then(n.bind(n,664062))}));t.Z=r},460231:function(e,t,n){"use strict";var r=(0,n(844601).Z)((function(){return n.e(9036).then(n.bind(n,358699))}));t.Z=r},618764:function(e,t,n){"use strict";var r=n(858255),o=(n(319371),n(202784)),i=n(801420),a=n.n(i);t.Z=function(e){var t=e.session,n=t.cohorts,i=(0,o.useCallback)((function(e){t.selectCohort(e.target.value)}),[t]);if(!a()(n))return null;var s=(0,r.Z)("select",{id:e.id,className:"cohort-select",onChange:i,onBlur:i,value:t.selectedCohort?t.selectedCohort.title:"all"},void 0,(0,r.Z)("option",{value:"all"},void 0,e.t("all-cohorts")),n.map((function(e,t){return(0,r.Z)("option",{value:e.title},t,e.title)})));return(0,r.Z)("div",{style:{padding:"5px"}},void 0,(0,r.Z)("label",{htmlFor:e.id,style:{marginRight:5}},void 0,e.label),s)}},963513:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return rn}});n(382139);var r,o=n(858255),i=n(264659),a=n(904730),s=n(673989),c=n(175663),l=n(750591),u=n(575630),d=n(151119),f=(n(111246),n(6059),n(202784)),p=n(911755),h=n.n(p),v=n(198),m=n(770561),g=n(998856),Z=n(857906),y=n.n(Z),b=n(801420),w=n.n(b),_=n(917779),O=n.n(_),k=n(460231),x=n(701501),S=n(778886),C=n(150275),P=n(193679),E=n(974079),R=n(220517),M=n(672643),N=n(912740),T=n(60369),D=n(741319),A=(n(319371),n(964909)),j=(n(762850),n(462773),n(974652)),B=n.n(j),I=n(294702),z=n(462874);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var U={DEFAULT_BACKGROUND:"#fffff8",DISABLE_VIDEO_BACKGROUND:!0,SHOW_JITSI_WATERMARK:!1,SHOW_WATERMARK_FOR_GUESTS:!1,INVITATION_POWERED_BY:!1,DEFAULT_REMOTE_DISPLAY_NAME:"Anonymous",DISPLAY_WELCOME_PAGE_CONTENT:!1,TOOLBAR_BUTTONS:["microphone","camera","closedcaptions","desktop","fullscreen","fodeviceselection","info","profile","settings","videoquality","filmstrip","shortcuts","tileview","download","help"],SETTINGS_SECTIONS:["devices","language"],MOBILE_APP_PROMO:!0,HIDE_KICK_BUTTON_FOR_GUESTS:!0,SHOW_CHROME_EXTENSION_BANNER:!1},V=function(e){(0,c.Z)(n,e);var t=L(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,d.Z)((0,s.Z)(r),"handleClose",(function(e){var t=r.context;t.isOwner()&&r.api.executeCommand("hangup"),t.leaveVideoChat(r.props.roomName)})),(0,d.Z)((0,s.Z)(r),"handleCompress",(function(e){r.setState({minimized:!r.state.minimized},(function(){r.state.minimized?r.rnd.updateSize({width:160,height:100}):r.rnd.updateSize({width:B()(.3*window.innerWidth,400),height:B()(.3*window.innerHeight,400)})}))})),(0,d.Z)((0,s.Z)(r),"stopScreenSharing",(function(e){r.api.executeCommand("toggleShareScreen")})),r.state={minimized:!1,screensharing:!1},r}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){this.context.isOwner()?(U.TOOLBAR_BUTTONS.includes("mute-everyone")||U.TOOLBAR_BUTTONS.push("mute-everyone"),U.TOOLBAR_BUTTONS.includes("recording")||U.TOOLBAR_BUTTONS.push("recording"),U.TOOLBAR_BUTTONS.includes("livestreaming")||U.TOOLBAR_BUTTONS.push("livestreaming"),U.TOOLBAR_BUTTONS.includes("invite")||U.TOOLBAR_BUTTONS.push("invite"),U.SETTINGS_SECTIONS.includes("moderator")||U.SETTINGS_SECTIONS.push("moderator"),U.TOOLBAR_BUTTONS.includes("sharedvideo")||U.TOOLBAR_BUTTONS.push("sharedvideo")):U.TOOLBAR_BUTTONS.includes("raisehand")||U.TOOLBAR_BUTTONS.push("raisehand")}},{key:"initialize",value:function(){var e=this,t=this.context,n={roomName:this.props.roomName,width:"100%",height:"100%",parentNode:this.videoChatContainer,userInfo:{email:t.user.email},interfaceConfigOverwrite:U,noSSL:!1,jwt:t.jitsi.token};this.api=new window.JitsiMeetExternalAPI(t.jitsi.server,n),this.api.executeCommand("displayName",t.user.name),this.api.executeCommand("subject",this.props.roomSubject),this.api.executeCommand("avatarUrl",t.user.picture),this.api.addEventListener("screenSharingStatusChanged",(function(t){e.setState({screensharing:t.on,minimized:t.on},(function(){e.state.minimized?e.rnd.updateSize({width:160,height:100}):e.rnd.updateSize({width:B()(.3*window.innerWidth,400),height:B()(.3*window.innerHeight,400)})}))}))}},{key:"render",value:function(){var e,t,n=this;this.state.minimized?t={display:"none"}:(e={height:"100%",width:"100%"},t={height:"100%",width:"100%"});var i=(0,o.Z)(z.Z,{className:"video-chat-panel",style:e},void 0,f.createElement("div",{className:"video-chat-iframe",ref:function(e){n.videoChatContainer||(n.videoChatContainer=e,n.initialize())},style:t}),this.state.minimized?(0,o.Z)("h3",{style:{marginTop:22}},void 0,this.state.screensharing?(0,o.Z)("span",{},void 0,this.props.t("sharing-screen")," ",(0,o.Z)(m.Z,{onClick:this.stopScreenSharing,variant:"secondary",size:"sm"},void 0,this.props.t("stop-sharing"))):this.props.t("video-active")):null,(0,o.Z)(C.Z,{tooltip:this.state.minimized?this.props.t("maximize"):this.props.t("minimize")},void 0,(0,o.Z)(m.Z,{size:"sm",onClick:this.handleCompress,className:"video-chat-minimized-button"},void 0,(0,o.Z)("i",{className:this.state.minimized?"far fa-window-maximize":"fas fa-window-minimize"}))),(0,o.Z)(C.Z,{tooltip:this.props.t("leave-video")},void 0,(0,o.Z)(m.Z,{size:"sm",onClick:this.handleClose,className:"video-chat-button"},void 0,r||(r=(0,o.Z)("i",{className:"fas fa-video-slash"})))));return f.createElement(I.default,{default:{width:B()(.3*window.innerWidth,400),height:B()(.3*window.innerHeight,400)},ref:function(e){n.rnd=e},minWidth:160,minHeight:100,resizable:!this.state.minimized,lockAspectRatio:!0,cancel:".video-chat-iframe"},i)}}]),n}(f.Component);V.contextType=D.Z;var F=(0,v.Z)("internal/statusbar")(V);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var W=function(e){(0,c.Z)(n,e);var t=H(n);function n(e){return(0,i.Z)(this,n),t.call(this,e)}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.context;this.unsubscribe=t.subscribe((function(t){t!==A.q&&t!==A.lK||e.forceUpdate()}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){return this.context.videoChats.map((function(e){return(0,o.Z)(F,{roomName:e.name,roomSubject:e.subject||e.name},e.name)}))}}]),n}(f.Component);W.contextType=D.Z;var G,K,q,J,$,Y=W,X=n(69108),Q=n.n(X),ee=n(272008),te=n.n(ee),ne=(n(213980),n(313054)),re=n.n(ne),oe=n(431926),ie=n.n(oe),ae=n(188304),se=n(912860),ce=n(435376),le=n(203858),ue=n(175891),de=n(394606),fe=n.n(de),pe=n(601822),he=n(172245),ve=n(975249),me=n(717932),ge=n(621150),Ze=n(229511),ye=n(437893),be=JSON.parse('[{"command":"insertText","trigger":["insert"],"description":"Dictate your message","params":["text"],"regexp":"/insert[a-z]* (?<text>[\\\\s\\\\S]+)/i"},{"command":"sendMessage","trigger":["send"],"description":"Send message"}]');function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var _e=h()("isle:statusbar:chat"),Oe=re()({html:!1,xhtmlOut:!0,breaks:!1,typographer:!1}),ke=function(e){(0,c.Z)(n,e);var t=we(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,d.Z)((0,s.Z)(r),"onScroll",(function(){r.chatbody.scrollTop+r.chatbody.clientHeight>=r.chatbody.scrollHeight&&r.context.markChatMessagesAsRead(r.props.chat.name)})),(0,d.Z)((0,s.Z)(r),"sendMessage",(function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=r.editorView.markdown;if(0!==n.length){n=ie()(n,"\\\n","\n");var o=r.context;o.sendChatMessage(r.props.chat.name,n,t),(0,me.Z)(r.chatbody,r.chatbody.scrollHeight,1e3),r.setState({defaultValue:"",docId:r.state.docId+1})}})),(0,d.Z)((0,s.Z)(r),"sendAnonymousChatMessage",(function(e){r.sendMessage(e,!0)})),(0,d.Z)((0,s.Z)(r),"handleEditorStateChange",(function(){r.state.hasNews&&r.setState({hasNews:!1})})),(0,d.Z)((0,s.Z)(r),"insertText",(function(e){e=r.editorView.markdown+" "+e,r.setState({defaultValue:e})})),(0,d.Z)((0,s.Z)(r),"closeChat",(function(){r.context.leaveChat(r.props.chat.name)})),(0,d.Z)((0,s.Z)(r),"onMouseOver",(function(){r.state.opened||(r.chat.style.opacity=r.state.opened?.7:1)})),(0,d.Z)((0,s.Z)(r),"onMouseOut",(function(){r.state.opened||(r.chat.style.opacity=r.state.opened?1:.7)})),(0,d.Z)((0,s.Z)(r),"toggleMaximize",(function(){var e={maximized:!r.state.maximized};e.maximized&&!r.state.opened&&(e.opened=!0),r.setState(e)})),(0,d.Z)((0,s.Z)(r),"toggleChat",(function(){r.setState({opened:!r.state.opened,hasNews:!1})})),r.state={opened:!0,hasNews:!1,maximized:!1,defaultValue:"",docId:0},r}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this;_e("Component has mounted. Subscribe to session: ");var t=this.context;this.unsubscribe=t.subscribe((function(t){t===A.LL||t===A.xG||t===A.Jz?e.setState({hasNews:!0}):t===A.NH&&e.setState({hasNews:!1})}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"renderMembers",value:function(){var e=this.props.chat,t=(0,o.Z)(ce.Z,{id:"userlistPopover"},void 0,(0,o.Z)(le.Z,{},void 0,this.props.t("chat-members",{name:e.name})),(0,o.Z)(ue.Z,{},void 0,(0,o.Z)(ae.Z,{},void 0,e.members.map((function(e,t){return(0,o.Z)(se.Z,{style:{padding:"3px 3px"}},t,e.name)})))));return(0,o.Z)(ve.Z,{trigger:["hover","focus"],placement:"bottom",overlay:t},void 0,(0,o.Z)("div",{className:"chat-members",style:{display:this.state.opened?"block":"none"}},void 0,e.members.map((function(t,n){return(0,o.Z)("span",{},n,t.name,n!==e.members.length-1?", ":null)}))))}},{key:"renderChatBody",value:function(){var e=this,t=this.props.chat,n=this.context;return(0,o.Z)("div",{className:"chat-body-outer",style:{display:this.state.opened?"block":"none"}},void 0,f.createElement("div",{className:"chat-body cancel",ref:function(t){e.chatbody=t},onScroll:this.onScroll,style:{height:this.state.maximized?"calc(85vh - 150px)":"150px"}},t.messages.map((function(t,r){var i={__html:Oe.renderInline(t.content)};return(0,o.Z)("div",{className:t.unread?"chat-message unread":"chat-message"},r,(0,o.Z)("img",{className:"chat-picture unselectable",src:n.server+"/thumbnail/"+(t.picture&&!t.anonymous?t.picture:"anonymous.jpg"),alt:e.props.t("profile-pic")}),(0,o.Z)("div",{className:"chat-message-right"},void 0,(0,o.Z)("span",{className:"chat-user"},void 0,t.anonymous?(0,o.Z)(f.Fragment,{},void 0,(0,o.Z)("span",{style:{marginRight:4}},void 0,e.props.t("anonymous")),(0,o.Z)(S.Z,{owner:!0},void 0,(0,o.Z)(C.Z,{tooltip:t.user,placement:"right"},void 0,G||(G=(0,o.Z)("i",{className:"fas fa-user-secret"}))))):t.user)," - ",(0,o.Z)("span",{className:"chat-time"},void 0,(0,ye.Z)(t.time)),K||(K=(0,o.Z)("br",{})),(0,o.Z)("span",{className:"chat-message-content",dangerouslySetInnerHTML:i})))}))),f.createElement(ge.Z,{className:"chat-textarea cancel",onEditorState:this.handleEditorStateChange,showStatusBar:!1,showColorPicker:!1,defaultValue:this.state.defaultValue,docId:this.state.docId,menu:{marks:Ze.EI,wraps:Ze.Uy,insert:[Ze.$T[0],Ze.$T[1],Ze.$T[5]]},ref:function(t){e.editorView=t},onKeyDown:function(t,n){n.stopPropagation(),"Enter"!==n.key||n.shiftKey||(n.preventDefault(),e.sendMessage())},t:this.props.t}),(0,o.Z)(m.Z,{size:"sm",variant:"light",onClick:this.sendMessage,style:{float:"left"}},void 0,this.props.t("send-message")),this.props.chat.anonymousSubmissions?(0,o.Z)(m.Z,{size:"sm",variant:"light",onClick:this.sendAnonymousChatMessage,style:{float:"left",marginLeft:"4px"}},void 0,this.props.t("send-anonymously")):null,(0,o.Z)(he.Z,{id:this.props.chat.name,reference:this,commands:be}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.chat,r=t.left,i=t.width,a={position:R.Z?"absolute":"fixed",left:r};this.state.maximized&&this.state.opened?a.width="40vw":a.width=i,a.minWidth="275px";var s="chat_"+n.name;return(0,o.Z)(pe.Z,{cancel:".cancel",onEscape:this.props.chat.canLeave?this.closeChat:fe()},void 0,f.createElement("div",{id:s,className:"chat-outer-div",style:a,ref:function(t){e.chat=t}},(0,o.Z)("div",{className:"chat-div",style:{opacity:this.state.opened?1:.7},onMouseOver:this.onMouseOver,onFocus:this.onMouseOver,onMouseOut:this.onMouseOut,onBlur:this.onMouseOut,tabIndex:0,role:"button"},void 0,n.name,(0,o.Z)("span",{className:"chat-presence",style:{display:this.state.hasNews?"inline":"none"}}),n.canLeave?(0,o.Z)(C.Z,{tooltip:"".concat(this.props.t("close")," ").concat("(Esc)"),placement:"bottom"},void 0,(0,o.Z)("button",{className:"chat-header-button",onClick:this.closeChat,"aria-label":"".concat(this.props.t("close")," (Esc)")},void 0,q||(q=(0,o.Z)("i",{className:"fas fa-times"})))):null,(0,o.Z)(C.Z,{tooltip:this.state.maximized?this.props.t("shrink"):this.props.t("enlarge"),placement:"bottom"},void 0,(0,o.Z)("button",{className:"chat-header-button",onClick:this.toggleMaximize,"aria-label":this.state.maximized?this.props.t("shrink"):this.props.t("enlarge")},void 0,J||(J=(0,o.Z)("i",{className:"far fa-window-maximize"})))),(0,o.Z)(C.Z,{tooltip:this.state.opened?this.props.t("minimize"):this.props.t("maximize"),placement:"left"},void 0,(0,o.Z)("button",{className:"chat-header-button",onClick:this.toggleChat,"aria-label":this.state.opened?this.props.t("minimize"):this.props.t("maximize")},void 0,$||($=(0,o.Z)("i",{className:"far fa-window-minimize"}))))),this.renderMembers(),this.renderChatBody()))}}]),n}(f.Component);ke.defaultProps={left:400,width:600},ke.contextType=D.Z;var xe=(0,v.Z)("internal/statusbar")(ke);function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var Ce=function(e){(0,c.Z)(n,e);var t=Se(n);function n(e){var r;(0,i.Z)(this,n),r=t.call(this,e),(0,d.Z)((0,s.Z)(r),"getStatusbarInfo",(function(){var e=B()(.34*window.innerWidth,300),t=(window.innerWidth-e)/2;r.setState({statusbarWidth:e,side:t})}));var o=B()(.34*window.innerWidth,300),a=(window.innerWidth-o)/2;return r.state={statusbarWidth:o,side:a},r}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.context;this.unsubscribe=t.subscribe((function(t){t!==A._Z&&t!==A.PY||e.forceUpdate()})),window.addEventListener("resize",this.getStatusbarInfo)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),window.removeEventListener("resize",this.getStatusbarInfo)}},{key:"getChatPosition",value:function(e){var t=this.context,n=Q()(t.chats.length/2),r=.6*this.state.side,o=te()((this.state.side-10-10*n)/n,r),i=10+e*(o+10);return e>n-1&&(i+=this.state.statusbarWidth,1===n&&1===e&&(i+=o+10)),{left:i,width:o}}},{key:"render",value:function(){var e=this;return this.context.chats.map((function(t,n){var r=e.getChatPosition(n);return(0,o.Z)(xe,{chat:t,idx:n,left:r.left,width:r.width},n)}))}}]),n}(f.Component);Ce.contextType=D.Z;var Pe,Ee,Re=Ce,Me=n(81982),Ne=function(e){return(0,o.Z)(Me.Z,{show:e.show,onHide:e.close},void 0,(0,o.Z)(Me.Z.Header,{},void 0,(0,o.Z)(Me.Z.Title,{},void 0,e.title)),(0,o.Z)(Me.Z.Body,{},void 0,e.message),(0,o.Z)(Me.Z.Footer,{},void 0,(0,o.Z)(m.Z,{onClick:e.close},void 0,e.t("cancel")),(0,o.Z)(m.Z,{variant:"danger",onClick:e.onConfirm},void 0,e.t("confirm"))))},Te=n(388481),De=n(5140),Ae=n(607615),je=n(208910);function Be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var Ie,ze,Le,Ue,Ve,Fe,He=h()("isle:statusbar:voice-control"),We=function(e){(0,c.Z)(n,e);var t=Be(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,d.Z)((0,s.Z)(r),"handleFinalVoiceInput",(function(e){var t=e[0],n=r.state.transcript;n.push(t),r.setState({transcript:n,recordedText:t,isSegment:!1},r.renderRecordedText),setTimeout((function(){r.setState({recordedText:null},r.renderRecordedText)}),3e3),r.props.session.log({id:A.Ac,type:A.Ac,value:t,noSave:!0},"members")})),(0,d.Z)((0,s.Z)(r),"handleVoiceInput",(function(e){He("Received voice input: "+e);var t=e[0];r.setState({recordedText:t,isSegment:!0},r.renderRecordedText),r.props.session.log({id:A.Be,type:A.Be,value:t,noSave:!0},"members")})),(0,d.Z)((0,s.Z)(r),"handleStartRecording",(function(){r.props.session.setVoiceRecordingStatus(!0)})),(0,d.Z)((0,s.Z)(r),"handleStopRecording",(function(){r.setState({recordedText:null},r.renderRecordedText),r.props.session.setVoiceRecordingStatus(!1)})),(0,d.Z)((0,s.Z)(r),"toggleTranscriptEditor",(function(e){e&&e.stopPropagation(),r.setState({showTranscriptEditor:!r.state.showTranscriptEditor})})),(0,d.Z)((0,s.Z)(r),"handleVoiceInputChange",(function(e){e.stopPropagation()})),(0,d.Z)((0,s.Z)(r),"renderRecordedText",(function(){r.state.recordedText?r.displayedText.innerHTML=r.state.recordedText:r.displayedText.innerHTML=""})),r.state={recordedText:null,transcript:[],showTranscriptEditor:!1,isSegment:!1},r}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.session;this.unsubscribe=t.subscribe((function(t,n){t===A.Wh&&(n.type===A.Ac?(e.setState({recordedText:n.value,isSegment:!1},e.renderRecordedText),setTimeout((function(){e.setState({recordedText:null},e.renderRecordedText)}),3e3)):n.type===A.Be&&e.setState({recordedText:n.value,isSegment:!0},e.renderRecordedText))}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this,t=this.props.session,n="";if(this.state.showTranscriptEditor){var r=new Date;n+="# ".concat(this.props.t("transcript-header")," ").concat(t.namespaceName+"/"+t.lessonName),O()(t.user)||(n+="\n## ".concat(this.props.t("by")," ").concat(t.user.name," (").concat(t.user.email,")")),n+="\n### ".concat(r.toLocaleDateString()," - ").concat(r.toLocaleTimeString()),n+="\n\n\n",n+=this.state.transcript.join("\n")}return(0,o.Z)(f.Fragment,{},void 0,(0,o.Z)("div",{className:"statusbar-voice",style:{display:t.config.hideVoiceControl?"none":"inherit"}},void 0,(0,o.Z)(je.Z,{id:"statusbar-voice",onClick:this.handleVoiceInputChange,mode:"microphone",width:18,height:18,stopTooltip:"".concat(this.props.t("disable-voice")," (F9)"),startTooltip:"".concat(this.props.t("enable-voice")," (F9)"),onSegment:this.handleVoiceInput,onFinalText:this.handleFinalVoiceInput,onRecordingStart:this.handleStartRecording,onRecordingStop:this.handleStopRecording,maxAlternatives:5,speechInterface:t.speechInterface,remote:{toggle:120}})),this.state.transcript.length>0?(0,o.Z)(C.Z,{placement:"bottom",tooltip:this.props.t("open-transcript")},void 0,(0,o.Z)("span",{role:"button",tabIndex:0,onClick:this.toggleTranscriptEditor,onKeyPress:this.toggleTranscriptEditor,className:"statusbar-transcript-editor statusbar-icon"},void 0,Pe||(Pe=(0,o.Z)("span",{className:"fa fa-xs fa-closed-captioning"})))):null,f.createElement("span",{ref:function(t){e.displayedText=t},style:{color:this.state.isSegment?"darkslategray":"black"},className:"statusbar-voice-text"}),this.state.showTranscriptEditor?(0,o.Z)(Me.Z,{show:this.state.showTranscriptEditor,onHide:this.toggleTranscriptEditor,dialogClassName:"modal-100w"},void 0,(0,o.Z)(Me.Z.Header,{closeButton:!0},void 0,(0,o.Z)(Me.Z.Title,{as:"h3"},void 0,this.props.t("transcript"))),(0,o.Z)(Me.Z.Body,{style:{height:.8*window.innerHeight}},void 0,(0,o.Z)(Ae.Z,{id:"".concat(t.namespaceName,"-").concat(t.lessonName,"-transcript"),defaultValue:n,allowSubmissions:!1,resetModal:{title:this.props.t("load-latest-transcript"),body:this.props.t("transcript-click-discard"),buttonLabel:this.props.t("confirm"),tooltip:this.props.t("load-latest-transcript"),notificationTitle:this.props.t("transcript-loaded"),notification:this.props.t("transcript-discard-notification"),icon:Ee||(Ee=(0,o.Z)("i",{className:"prosemirror-icon fa fa-closed-captioning"}))},canLoadHTML:!1})),(0,o.Z)(Me.Z.Footer,{},void 0,(0,o.Z)(m.Z,{onClick:this.toggleTranscriptEditor},void 0,this.props.t("close")))):null)}}]),n}(f.Component),Ge=(n(627476),n(95767),n(694882),n(298351),n(898837),n(850110),n(318967)),Ke=n.n(Ge),qe=n(454319),Je=n(647537),$e=n(636150),Ye=n.n($e),Xe=n(671655),Qe=n(737535),et=n.n(Qe),tt=n(959588),nt=n.n(tt),rt=n(670785),ot=n.n(rt),it=n(185749),at=n(741709),st=n(927447),ct=n(596997),lt=function e(t,n){(0,i.Z)(this,e),this.name=t,this.members=n},ut=n(618764),dt=JSON.parse('["daffodil","dahlia","daisy","dandelion","forget-me-not","foxglove","geranium","lily","orchid","pansy","poppy","primrose","rose","snowdrop","sunflower","tulip","waterlily","bluebell","buttercup","carnation","chrysanthemum","crocus","alder","ash","beech","birch","cedar","elm","fir","hazel","hawthorn","holly","lime","maple","oak","plane","pine","poplar","sycamore","weeping-willow","willow","yew","apple-tree","cherry-tree","chestnut-tree","coconut-tree","fig-tree","horse-chestnut-tree","olive-tree","pear-tree","plum-tree"]'),ft=n(963210);function pt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mt=h()("isle:group-manager"),gt={multiValue:function(e){return vt(vt({},e),{},{boxShadow:"0 0 2px black",marginRight:"4px"})},control:function(e){return vt(vt({},e),{},{borderRadius:"0 0 4px 4px"})}},Zt={MultiValueLabel:function(e){return(0,o.Z)(C.Z,{tooltip:e.data.value.email,placement:"bottom"},void 0,(0,o.Z)("span",{},void 0,(0,o.Z)("img",{className:"group-manager-profile-pic",alt:"User Profile",src:e.data.value.picture}),f.createElement(Je.c.MultiValueLabel,e)))}};function yt(e,t){var n=e;if(!t)return n.filter((function(e){return!e.owner&&!e.exitTime&&Ye()(e.email,"@")}));for(var r=[],o=0;o<n.length;o++){var i=n[o];!i.owner&&(0,ft.Z)(t,i.email)&&r.push(i)}return r}function bt(e,t){var n=0;if(t)for(var r=0;r<e.length;r++){var o=e[r];o.owner||o.exitTime||!(0,ft.Z)(t,o.email)||(n+=1)}else for(var i=0;i<e.length;i++){var a=e[i];a.owner||a.exitTime||!Ye()(a.email,"@")||(n+=1)}return n}function wt(e){for(var t=[],n=e.responseVisualizerIds,r=0;r<n.length;r++){var o=n[r],i=e.responseVisualizers[o].ref.props.data.question;i=(0,Xe.isPrimitive)(i)?i:Ke()(i),t.push("".concat(i," (").concat(o,")"))}return t}function _t(e,t){t=ot()(t);for(var n={},r=et()(t.length/e),o=0;o<e;o++)n[o]=t.slice(r*o,r*(o+1));for(var i=r*e;i<t.length;i++){n[i%e].push(t[i])}return n}function Ot(e){var t,n=e.nGroups,r=e.users,o=e.mode,i=e.progress,a=e.matching,s=nt()(dt,{size:n,replace:!1});switch(o){case"random":t=_t(n,r);break;case"progress":t=function(e,t,n,r){var o={},i=et()(t.length/e);if(t=t.sort((function(e,t){return n[e.email]-n[t.email]})),"similar"===r)for(var a=t.length%e,s=0,c=0;s<e;s++){var l=i*s+c;s<a&&(c+=1);var u=i*(s+1)+c;o[s]=t.slice(l,u)}else{for(var d=0;d<e;d++)o[d]=[];for(var f=0,p=!1;t.length>0;)o[f].push(p?t.shift():t.pop()),f<e-1?f+=1:(f=0,p=!p)}return o}(n,r,i,a);break;case"answers":t=_t(n,r)}for(var c=[],l=0;l<s.length;l++)c[l]=new lt(s[l],t[l]);return c}var kt=function(e){(0,c.Z)(n,e);var t=pt(n);function n(e){var r;return(0,i.Z)(this,n),r=t.call(this,e),(0,d.Z)((0,s.Z)(r),"handleGroupCreation",(function(){var e=r.context,t=Ot({nGroups:r.state.nGroups,users:yt(e.userList,e.selectedCohort),mode:r.state.activeMode,progress:e.userProgress,matching:r.state.matching});e.createGroups(t)})),(0,d.Z)((0,s.Z)(r),"reuseLastGroups",(function(){r.context.createGroups(r.state.lastGroups)})),(0,d.Z)((0,s.Z)(r),"updateGroups",(function(){for(var e=r.context,t=e.allGroups,n=function(e){for(var n=r.state.toRemove[e].value,o=n.email,i=n.group,a=0;a<t.length;a++)if(t[a].name===i){t[a].members=t[a].members.filter((function(e){return e.email!==o}));break}},o=0;o<r.state.toRemove.length;o++)n(o);for(var i=function(n){for(var o=r.state.toAdd[n].value,i=0;i<t.length;i++){var a=t[i];if(a.name===o.group&&0===a.members.filter((function(e){return e.email===o.email})).length){var s=e.userList.filter((function(e){return e.email===o.email}));a.members.push(s[0]);break}}},a=0;a<r.state.toAdd.length;a++)i(a);e.deleteGroups(),e.createGroups(t),r.setState({toAdd:[],toRemove:[]})})),(0,d.Z)((0,s.Z)(r),"handleGroupDeletion",(function(){var e=r.context;e.log({id:"group-manager",type:De.kK,value:!0},"members"),setTimeout(e.deleteGroups,6e4),r.setState({showCloseModal:!1})})),(0,d.Z)((0,s.Z)(r),"sendMessageToAll",(function(){var e=r.editorView.markdown;if(0!==e.length){e=ie()(e,"\\\n","\n");for(var t=r.context,n=0;n<t.allGroups.length;n++){var o=t.allGroups[n].name;t.sendChatMessage(o,e)}r.setState({message:"",docId:r.state.docId+1})}})),(0,d.Z)((0,s.Z)(r),"toggleCloseConfirm",(function(){r.setState({showCloseModal:!r.state.showCloseModal})})),r.state={activeMode:"random",matching:"similar",nGroups:1,isClosing:!1,showCloseModal:!1,notAssigned:[],toRemove:[],toAdd:[],lastGroups:null,message:"",docId:0},r}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this;mt("Component did mount...");var t=this.context;t&&(this.unsubscribe=t.subscribe((function(n,r){if(n===A.At&&t.allGroups.length>0&&!r.owner){if(!(0,ct.Z)(t.allGroups,r)){var i=e.state.notAssigned.slice(),a=t.server+"/thumbnail/"+r.picture,s={value:{email:r.email,picture:a},label:r.name};i.push(s),e.setState({notAssigned:i})}}else if(n===A.vB)t.removeNotification(e.closeNotification),e.setState({isClosing:!1,lastGroups:r});else if(n===A.Wh&&r.type===De.kK)e.closeNotification=t.addNotification({title:e.props.t("groups-close-soon"),message:e.props.t("groups-close-soon-instructor-message"),level:"info",position:"tr",dismissible:"none",autoDismiss:0,children:(0,o.Z)(it.Z,{style:{position:"relative"},duration:60,active:!0})}),e.setState({isClosing:!0});else if(n===A.WF){var c=e.state.notAssigned.filter((function(e){for(var n=0;n<t.allGroups.length;n++)for(var r=t.allGroups[n].members,o=0;o<r.length;o++)if(r[o].email===e.value.email)return!1;return!0}));e.setState({notAssigned:c})}else if(n===A.At||n===A.c_)e.forceUpdate();else if(n===A.vu){var l=e.state.notAssigned.filter((function(e){return e.value.email!==r}));e.setState({notAssigned:l})}})))}},{key:"componentWillUnmount",value:function(){mt("Component will unmount..."),this.unsubscribe()}},{key:"renderModeOptions",value:function(){var e=this,t=(0,o.Z)(st.Z,{options:["similar","dissimilar"],value:this.state.matching,inline:!0,onChange:function(t){e.setState({matching:t})},style:{width:150}}),n=(0,o.Z)(st.Z,{options:wt(this.context),inline:!0,style:{width:412}}),r=this.props.t;switch(this.state.activeMode){case"progress":return(0,o.Z)("div",{},void 0,(0,o.Z)("p",{},void 0,r("create-groups-pairing-students",{input:t})));case"answers":return(0,o.Z)("div",{},void 0,(0,o.Z)("p",{},void 0,r("create-groups-with-answers",{input:t}),Ie||(Ie=(0,o.Z)("br",{})),r("to-the-question",{questionSelect:n})));default:return(0,o.Z)("div",{},void 0,(0,o.Z)("p",{},void 0,this.props.t("random-groups-description")))}}},{key:"renderGroups",value:function(){for(var e=this,t=this.context,n=[],r=function(r){var i=t.allGroups[r],a=i.name,s=i.members.map((function(e){var n=t.server+"/thumbnail/"+e.picture;return{value:{email:e.email,picture:n,group:a},label:e.name}}));n[r]=(0,o.Z)("div",{},r,(0,o.Z)("h3",{className:"group-manager-header"},void 0,(0,o.Z)("span",{className:"group-manager-header-name"},void 0,e.props.t("group")," ",a),e.props.video?(0,o.Z)(M.Z,{showTooltip:!1,for:a,subject:a,style:{float:"right",marginTop:-2,marginLeft:5}}):null,(0,o.Z)(N.Z,{showTooltip:!1,for:a,style:{float:"right",marginTop:-2}})),(0,o.Z)(qe.ZP,{components:Zt,isMulti:!0,isClearable:!1,defaultValue:s,options:e.state.notAssigned,styles:gt,menuPlacement:"bottom",menuShouldScrollIntoView:!1,onChange:function(t,n){if("remove-value"===n.action){var r=e.state.notAssigned.slice();r.push(n.removedValue);var o=e.state.toRemove.slice();o.push(n.removedValue),e.setState({notAssigned:r,toRemove:o})}else if("select-option"===n.action){var i=e.state.toAdd.slice();n.option.value.group=a,i.push(n.option);var s=e.state.notAssigned.filter((function(e){return e.value.email!==n.option.value.email}));e.setState({notAssigned:s,toAdd:i})}}}))},i=0;i<t.allGroups.length;i++)r(i);return this.state.notAssigned.length>0&&n.push((0,o.Z)("span",{className:"group-manager-not-assigned-warning"},void 0,this.props.t("nonassigned-students",{n:this.state.notAssigned.length}))),n}},{key:"renderBody",value:function(){var e=this,t=this.context,n=bt(t.userList,t.selectedCohort),r=et()(n/this.state.nGroups),i="(".concat(this.props.t("group-sizes"),": ").concat(r);return n%this.state.nGroups!=0?i+="-".concat(r+1,")"):i+=")",t.allGroups.length>0?(0,o.Z)(f.Fragment,{},void 0,this.renderGroups(),(0,o.Z)("div",{className:"group-manager-editor-wrapper"},void 0,f.createElement(ge.Z,{className:"group-manager-textarea cancel",showStatusBar:!1,defaultValue:this.state.message,showColorPicker:!1,menu:{marks:Ze.EI,wraps:Ze.Uy,insert:[Ze.$T[0],Ze.$T[1],Ze.$T[5]]},ref:function(t){e.editorView=t},onKeyDown:function(t,n){n.stopPropagation(),"Enter"!==n.key||n.shiftKey||(n.preventDefault(),e.sendMessageToAll())}}))):(0,o.Z)(f.Fragment,{},void 0,(0,o.Z)(ut.Z,{id:"group-manager-cohort-select",label:this.props.t("pair-users-from"),session:this.context,t:this.props.t}),(0,o.Z)(at.Z,{legend:this.props.t("number-of-groups"),value:this.state.nGroups,min:1,max:et()(Q()(n/2+1e-9),99),onChange:function(t){e.setState({nGroups:t})},inline:!0,inputStyle:{width:50}}),(0,o.Z)("span",{className:"title"},void 0,i),ze||(ze=(0,o.Z)("hr",{})),(0,o.Z)("div",{},void 0,(0,o.Z)(C.Z,{tooltip:this.props.t("random-assignment"),placement:"bottom"},void 0,(0,o.Z)(m.Z,{active:"random"===this.state.activeMode,size:"lg",variant:"outline-secondary",onClick:function(){"random"!==e.state.activeMode&&e.setState({activeMode:"random"})},"aria-label":this.props.t("random-assignment")},void 0,Le||(Le=(0,o.Z)("span",{className:"fa fa-dice"})))),(0,o.Z)(C.Z,{tooltip:this.props.t("match-by-progress"),placement:"bottom"},void 0,(0,o.Z)(m.Z,{active:"progress"===this.state.activeMode,size:"lg",variant:"outline-secondary",style:{marginLeft:6},onClick:function(){"progress"!==e.state.activeMode&&e.setState({activeMode:"progress"})},"aria-label":this.props.t("match-by-progress")},void 0,Ue||(Ue=(0,o.Z)("span",{className:"fa fa-trophy"})))),(0,o.Z)(C.Z,{tooltip:this.props.t("match-by-answers"),placement:"bottom"},void 0,(0,o.Z)(m.Z,{active:"answers"===this.state.activeMode,disabled:O()(t.responseVisualizers),size:"lg",variant:"outline-secondary",style:{marginLeft:6},onClick:function(){"answers"!==e.state.activeMode&&e.setState({activeMode:"answers"})},"aria-label":this.props.t("match-by-answers")},void 0,Ve||(Ve=(0,o.Z)("span",{className:"fa fa-poll"}))))),Fe||(Fe=(0,o.Z)("br",{})),this.renderModeOptions())}},{key:"renderFooter",value:function(){var e=this.context,t=bt(e.userList);return e.allGroups.length>0?(0,o.Z)(f.Fragment,{},void 0,(0,o.Z)(C.Z,{tooltip:this.props.t("broadcast-message-tooltip"),placement:"bottom"},void 0,(0,o.Z)(m.Z,{onClick:this.sendMessageToAll},void 0,this.props.t("broadcast-message"))),(0,o.Z)(C.Z,{tooltip:this.props.t("close-groups-tooltip"),placement:"bottom"},void 0,(0,o.Z)(m.Z,{variant:"danger",disabled:this.state.isClosing,onClick:this.toggleCloseConfirm,style:{float:"right"}},void 0,this.props.t("close-groups"))),this.state.toAdd.length>0||this.state.toRemove.length>0?(0,o.Z)(C.Z,{tooltip:this.props.t("update-groups-tooltip"),placement:"bottom"},void 0,(0,o.Z)(m.Z,{onClick:this.updateGroups,style:{float:"right",marginRight:6}},void 0,this.props.t("update-groups"))):null):(0,o.Z)(f.Fragment,{},void 0,(0,o.Z)(C.Z,{tooltip:this.props.t("reopen-last-groups-tooltip"),placement:"bottom",show:this.state.lastGroups},void 0,(0,o.Z)(m.Z,{variant:"secondary",disabled:!this.state.lastGroups,onClick:this.reuseLastGroups},void 0,this.props.t("reopen-last-groups"))),(0,o.Z)(C.Z,{tooltip:this.props.t("create-groups-tooltip"),placement:"bottom",show:t>0},void 0,(0,o.Z)(m.Z,{disabled:0===t,onClick:this.handleGroupCreation,style:{float:"right"}},void 0,this.props.t("create-groups"))))}},{key:"render",value:function(){return this.props.active?(0,o.Z)(f.Fragment,{},void 0,(0,o.Z)(pe.Z,{cancel:".card-body",default:{x:.4*window.innerWidth}},void 0,(0,o.Z)(z.Z,{minimizable:!0,header:(0,o.Z)("span",{},void 0,(0,o.Z)("span",{className:"fa fa-xs fa-user-friends",style:{marginRight:5}}),this.props.t("group-manager")),onHide:this.props.onHide,style:{width:600},bodyStyle:{maxHeight:"75vh"},footer:this.renderFooter()},void 0,this.renderBody())),(0,o.Z)(Ne,{show:this.state.showCloseModal,close:this.toggleCloseConfirm,title:this.props.t("close-groups"),message:this.props.t("close-groups-confirm"),onConfirm:this.handleGroupDeletion,t:this.props.t})):null}}]),n}(f.Component);kt.contextType=D.Z,kt.defaultProps={video:!0};var xt=(0,v.Z)("internal/statusbar")(kt);function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var Ct=function(e){(0,c.Z)(n,e);var t=St(n);function n(e){return(0,i.Z)(this,n),t.call(this,e)}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.context;this.unsubscribe=t.subscribe((function(n,r){n===A.WF?e.forceUpdate():n===A.vB?(t.removeNotification(e.closeNotification),e.forceUpdate()):n===A.Wh&&r.type===De.kK&&(e.closeNotification=t.addNotification({title:e.props.t("groups-close-soon"),message:e.props.t("groups-close-soon-message"),level:"info",position:"tr",dismissible:"none",autoDismiss:0,children:(0,o.Z)(it.Z,{style:{position:"relative"},duration:60,active:!0})}))}))}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"renderMembers",value:function(){var e=this.context,t=e.group.members;return(0,o.Z)(ae.Z,{},void 0,t.map((function(t,n){var r=e.server+"/thumbnail/"+t.picture;return(0,o.Z)(se.Z,{className:"group-client-list-item"},n,(0,o.Z)("img",{className:"group-client-user-picture",alt:"User Profile",src:r,height:"".concat(40,"px"),width:"".concat(40,"px")}),(0,o.Z)("span",{},void 0,t.name))})))}},{key:"render",value:function(){var e=this.context;return e.group?(0,o.Z)(pe.Z,{default:{x:window.innerWidth-280}},void 0,(0,o.Z)(z.Z,{minimizable:!0,header:(0,o.Z)("span",{},void 0,(0,o.Z)("span",{className:"fa fa-xs fa-user-friends",style:{marginRight:5}}),(0,o.Z)("span",{className:"group-name"},void 0,this.props.t("group")," ",e.group.name)),className:"group-client-panel"},void 0,this.renderMembers(),this.props.video?(0,o.Z)(M.Z,{for:e.group.name}):null)):null}}]),n}(f.Component);Ct.contextType=D.Z,Ct.defaultProps={video:!0};var Pt,Et,Rt=(0,v.Z)("internal/statusbar")(Ct);function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var Nt=h()("isle:statusbar-score"),Tt=function(e){(0,c.Z)(n,e);var t=Mt(n);function n(e,r){var o;return(0,i.Z)(this,n),o=t.call(this,e),(0,d.Z)((0,s.Z)(o),"handleClick",(function(e){e.stopPropagation()})),o.state={score:r.get("score"),isReceiving:!1,addition:4},o}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this;Nt("Component did mount...");var t=this.context;t&&(this.unsubscribe=t.subscribe((function(t,n){t===A.Zh&&e.addScore(n)})))}},{key:"componentWillUnmount",value:function(){Nt("Component will unmount..."),this.unsubscribe()}},{key:"addScore",value:function(e){var t=this;this.setState({addition:e,isReceiving:!0}),setTimeout((function(){var n=t.state.score+e;t.setState({score:n,isReceiving:!1})}),2e3)}},{key:"getAnimation",value:function(){return this.state.isReceiving&&this.rect?(0,o.Z)("div",{className:"receiving-score",style:{left:this.rect.x,top:this.rect.y,transformOrigin:"".concat(this.rect.width/2,"px ").concat(this.rect.height/2,"px")}},void 0,"+",this.state.addition,Pt||(Pt=(0,o.Z)("div",{className:"receiving-score-outer-circle2"})),Et||(Et=(0,o.Z)("div",{className:"receiving-score-outer-circle"}))):null}},{key:"render",value:function(){var e=this;return(0,o.Z)(f.Fragment,{},void 0,(0,o.Z)(C.Z,{placement:"bottom",tooltip:this.props.t("achievement-points")},void 0,f.createElement("div",{className:"statusbar-score",role:"button",ref:function(t){if(t){var n=t.getBoundingClientRect();n&&n.x>0&&n.y>0&&(e.rect=n)}},onClick:this.handleClick,onKeyPress:this.handleClick,tabIndex:0},this.state.score)),this.getAnimation())}}]),n}(f.Component);Tt.contextType=D.Z;var Dt,At,jt,Bt,It,zt,Lt,Ut,Vt,Ft,Ht,Wt,Gt,Kt,qt,Jt,$t=Tt;function Yt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var Xt=(0,f.lazy)((function(){return Promise.all([n.e(532),n.e(6823),n.e(7618),n.e(5656),n.e(111)]).then(n.bind(n,635324))})),Qt=h()("isle:statusbar");function en(e){var t=(new Date).getTime()-e.startTime;return t=y()(t/6e4)}function tn(e){e.stopPropagation()}var nn=function(e){(0,c.Z)(n,e);var t=Yt(n);function n(e,r){var o;return(0,i.Z)(this,n),o=t.call(this,e),(0,d.Z)((0,s.Z)(o),"closeSignup",(function(){o.setState({visibleSignup:!1})})),(0,d.Z)((0,s.Z)(o),"closeLogin",(function(){o.setState({visibleLogin:!1})})),(0,d.Z)((0,s.Z)(o),"closeLogout",(function(){o.setState({visibleLogout:!1})})),(0,d.Z)((0,s.Z)(o),"toggleBarVisibility",(function(e){e&&e.stopPropagation();var t=o.context;t.togglePresentationView(),Qt("Toggle visibility of statusbar..."),t.config.hideStatusBar||o.setState({showStatusBar:!o.state.showStatusBar})})),(0,d.Z)((0,s.Z)(o),"toggleGroupManager",(function(e){e&&e.stopPropagation(),o.setState({showGroupManager:!o.state.showGroupManager})})),(0,d.Z)((0,s.Z)(o),"toggleBlackScreen",(function(e){e&&e.stopPropagation();var t=document.getElementById("blackscreen"),n=o.context;t?(t.parentElement.removeChild(t),n.log({id:"statusbar",type:De.TN,value:!1},"members")):((t=document.createElement("div")).setAttribute("id","blackscreen"),document.getElementById("Lesson").appendChild(t),n.log({id:"statusbar",type:De.TN,value:!0},"members"))})),(0,d.Z)((0,s.Z)(o),"toggleBar",(function(){o.hidden?((0,T.Z)(o.statusbar,"top",0,300),o.statusbar.style.opacity=1,o.hidden=!1):((0,T.Z)(o.statusbar,"top",-32,300),o.statusbar.style.opacity=.95,o.hidden=!0)})),(0,d.Z)((0,s.Z)(o),"onMouseOver",(function(){o.hidden&&(o.statusbar.style.opacity=1)})),(0,d.Z)((0,s.Z)(o),"onMouseOut",(function(){o.hidden&&(o.statusbar.style.opacity=.95)})),(0,d.Z)((0,s.Z)(o),"login",(function(e){e.stopPropagation(),o.setState({visibleLogin:!0})})),(0,d.Z)((0,s.Z)(o),"signup",(function(e){e.stopPropagation(),o.setState({visibleSignup:!0})})),(0,d.Z)((0,s.Z)(o),"logout",(function(e){e.stopPropagation(),o.setState({visibleLogout:!0})})),(0,d.Z)((0,s.Z)(o),"handleLogout",(function(){o.context.logout(),o.closeLogout()})),(0,d.Z)((0,s.Z)(o),"handleBarClick",(function(e){o.toggleBar()})),(0,d.Z)((0,s.Z)(o),"handleBarKeyPress",(function(){o.toggleBar()})),(0,d.Z)((0,s.Z)(o),"toggleProgress",(function(){var e=o.context;e.setProgress(),o.state.isProgressLeaving||e.isOwner()||(o.state.showProgressBar?o.progressTimeout=setTimeout((function(){o.setState({showProgressBar:!1,isProgressLeaving:!1,duration:en(o.context)}),o.progressTimeout=null}),12e3):o.setState({showProgressBar:!0,duration:en(o.context)}))})),(0,d.Z)((0,s.Z)(o),"jumpToUnfinished",(function(e){Qt("Jump to next unfinished question..."),e.stopPropagation();var t=o.context.unfinished;if(w()(t)){var n=t[0];if(n){var r=document.getElementById(n);if(!r)return;if((0,Te.Z)(r)){var i=r.cloneNode(!0),a=document.createElement("div");a.id="unfinished-container",i.id="unfinished-elem",i.classList.add("focus-glow"),a.append(i),document.body.appendChild(a),setTimeout((function(){var e=document.getElementById("unfinished-container");e&&e.parentNode.removeChild(e)}),4e3)}else r.classList.add("focus-glow"),r.scrollIntoView(),setTimeout((function(){r.classList.remove("focus-glow")}),4e3)}}})),(0,d.Z)((0,s.Z)(o),"preventPropagationForUsers",(function(e){o.context.anonymous||e.stopPropagation()})),o.state={visibleSignup:!1,visibleLogin:!1,visibleLogout:!1,showGroupManager:!1,showStatusBar:!r.config.hideStatusBar,showProgressBar:!1,isProgressLeaving:!1,progress:0,duration:"0"},o.hidden=!0,o}return(0,a.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=!1,n=this.props.t,r=this.context;this.unsubscribe=r.subscribe((function(i,a){if(setTimeout((function(){!t&&r.anonymous&&r.live&&(!function(){var t=e.context;!R.Z&&e.state.showStatusBar&&t.addNotification({title:n("login"),message:n("please-connect-message"),level:"success",autoDismiss:t.config.noLoginDismiss?0:15,position:"tl",children:(0,o.Z)("div",{style:{marginBottom:"30px"}},void 0,!1!==t.settings.allowUserRegistrations?(0,o.Z)(m.Z,{id:"statusbar-signup-button",size:"sm",style:{float:"right",marginRight:"10px"},onClick:e.signup},void 0,n("signup")):null,(0,o.Z)(m.Z,{id:"statusbar-login-button",size:"sm",variant:"primary",style:{float:"right",marginRight:"10px"},onClick:e.login},void 0,n("login")))})}(),t=!0)}),3e3),i===A.Gq)e.setState({progress:y()(100*Number(a))});else if(i===A.tf||i===A.Zh){var s={showProgressBar:!0,isProgressLeaving:!0};i===A.tf&&(s.progress=y()(100*Number(a))),e.setState(s),e.progressTimeout&&(clearTimeout(e.progressTimeout),e.progressTimeout=null),e.progressTimeout=setTimeout((function(){e.setState({showProgressBar:!1,isProgressLeaving:!1,duration:en(r)}),e.progressTimeout=null}),4e3)}else if(i===A.SC||i===A.Fw||i===A.E7||i===A.OG||i===A.YQ)e.forceUpdate();else if(i===A.Wh&&a.type===De.TN)if(a.value){var c=document.createElement("div");c.setAttribute("id","blackscreen"),document.getElementById("Lesson").appendChild(c)}else{var l=document.getElementById("blackscreen");l&&l.parentElement.removeChild(l)}else i!==A.WF||e.state.showGroupManager||e.toggleGroupManager()})),this.renderTextInterval=setInterval(this.renderRecordedText,1e3)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.renderTextInterval&&clearInterval(this.renderTextInterval),this.progressTimeout&&clearTimeout(this.progressTimeout)}},{key:"render",value:function(){var e=this,t=this.context,n=this.props.t,r=100===this.state.progress,i=t.isOwner()||R.Z,a=t.user.picture,s=(0,o.Z)(f.Fragment,{},void 0,a?(0,o.Z)("img",{className:"statusbar-profile",alt:"User Profile Pic",src:a,onClick:tn}):null,(0,o.Z)(C.Z,{placement:"bottom",tooltip:n("time-spent-tooltip")},void 0,(0,o.Z)("div",{className:"progress-time",onClick:tn},void 0,Dt||(Dt=(0,o.Z)("i",{className:"fas fa-clock"}))," ",this.state.duration," MIN"))),c=t.namespaceName+"-"+t.lessonName;return(0,o.Z)(f.Fragment,{},void 0,At||(At=(0,o.Z)(Re,{})),jt||(jt=(0,o.Z)(Y,{})),i?(0,o.Z)(xt,{active:this.state.showGroupManager,onHide:this.toggleGroupManager}):Bt||(Bt=(0,o.Z)(Rt,{})),(0,o.Z)("div",{},void 0,f.createElement("div",{className:"statusbar unselectable",role:"button",tabIndex:0,ref:function(t){e.statusbar=t},onClick:this.handleBarClick,onKeyPress:this.handleBarKeyPress,onMouseOver:this.onMouseOver,onFocus:this.onMouseOver,onMouseOut:this.onMouseOut,onBlur:this.onMouseOut,style:{top:"-32px",display:this.state.showStatusBar?null:"none"}},It||(It=(0,o.Z)("div",{className:"statusbar-left"})),(0,o.Z)("div",{className:"statusbar-middle"},void 0,(0,o.Z)(We,{session:this.context,t:n}),i?(0,o.Z)(C.Z,{placement:"bottom",tooltip:"".concat(n("presentation-mode-tooltip")," (F7)")},void 0,(0,o.Z)("span",{role:"button",tabIndex:0,onClick:this.toggleBarVisibility,onKeyPress:this.toggleBarVisibility,className:"statusbar-presentation-mode statusbar-icon","aria-label":n("presentation-mode-label")},void 0,zt||(zt=(0,o.Z)("span",{className:"fa fa-xs fa-eye-slash"})))):null,i?(0,o.Z)(C.Z,{placement:"bottom",tooltip:n("blackout-tooltip")},void 0,(0,o.Z)("span",{role:"button",tabIndex:0,"aria-label":n("blackout-label"),onClick:this.toggleBlackScreen,onKeyPress:this.toggleBlackScreen,className:"statusbar-blackscreen-mode statusbar-icon"},void 0,Lt||(Lt=(0,o.Z)("span",{className:"fa fa-xs fa-stop"})))):null,i?(0,o.Z)(C.Z,{placement:"bottom",tooltip:n("group-manager")},void 0,(0,o.Z)("span",{role:"button",tabIndex:0,"aria-label":n("group-manager"),onClick:this.toggleGroupManager,onKeyPress:this.toggleGroupManager,className:"statusbar-group-manager statusbar-icon"},void 0,Ut||(Ut=(0,o.Z)("span",{className:"fa fa-xs fa-user-friends"})))):null,t.cohort?(0,o.Z)("div",{className:"statusbar-cohort"},void 0,t.cohort):null,(0,o.Z)(C.Z,{placement:"bottom",tooltip:t.live?n("connection-active"):n("connection-broken")},void 0,(0,o.Z)("div",{className:"statusbar-presence",style:{backgroundColor:t.live?"rgb(130, 224, 160)":"rgb(209, 107, 71)"}},void 0,Vt||(Vt=(0,o.Z)("div",{className:"statusbar-inner-presence"})))),(0,o.Z)("div",{role:"button",tabIndex:0,style:{cursor:this.context.anonymous?"pointer":"help"},className:"statusbar-username",onClick:this.preventPropagationForUsers,onKeyPress:this.preventPropagationForUsers,onMouseEnter:this.toggleProgress,onFocus:this.toggleProgress,onMouseOut:this.toggleProgress,onBlur:this.toggleProgress,"aria-label":n("user-progress")},void 0,t.anonymous?"".concat(n("anonymous")," ").concat(t.anonymousIdentifier):t.user.name),t.config.hideVideoChat?null:(0,o.Z)(M.Z,{for:c,buttonVariant:"link",buttonLabel:Ft||(Ft=(0,o.Z)("i",{className:"fa fa-xs fa-video"})),tooltipPlacement:"bottom",tooltip:n("video-chat"),className:"statusbar-icon statusbar-video-chat",onClick:tn}),t.config.hideTextChat?null:(0,o.Z)(N.Z,{for:c,buttonVariant:"link",anonymousSubmissions:!0,buttonLabel:Ht||(Ht=(0,o.Z)("i",{className:"fas fa-comments"})),tooltipPlacement:"bottom",tooltip:n("text-chat"),className:"statusbar-icon statusbar-text-chat",onClick:tn}),t.anonymous?(0,o.Z)("div",{},void 0,!1!==t.settings.allowUserRegistrations?(0,o.Z)(m.Z,{size:"sm",className:"statusbar-button",variant:"outline-secondary",style:{float:"right",marginRight:"-20px"},onClick:this.signup,disabled:!t.live},void 0,n("signup")):null,(0,o.Z)(m.Z,{size:"sm",className:"statusbar-button",variant:"outline-secondary",style:{float:"right",marginRight:"10px"},onClick:this.login,disabled:!t.live},void 0,n("login"))):(0,o.Z)(f.Fragment,{},void 0,(0,o.Z)(m.Z,{size:"sm",className:"statusbar-button",variant:"outline-secondary",style:{float:"right",marginRight:"10px"},onClick:this.logout},void 0,n("logout")),(0,o.Z)("a",{href:t.server,target:"_blank",rel:"noopener noreferrer"},void 0,(0,o.Z)(m.Z,{id:"statusbar-dashboard-button",size:"sm",className:"statusbar-button",variant:"outline-secondary",style:{float:"right",marginRight:"10px"}},void 0,n("goto-dashboard")))),Wt||(Wt=(0,o.Z)("div",{className:"statusbar-text"},void 0,"ISLE"))),Gt||(Gt=(0,o.Z)("div",{className:"statusbar-right"})),(0,o.Z)("div",{className:"statusbar-progress ".concat(this.state.isProgressLeaving?"progress-fade-out":""," "),style:{display:!t.config.hideProgressBar&&this.state.showProgressBar?"inherit":"none"}},void 0,(0,o.Z)(S.Z,{user:!0},void 0,s,O()(t.responseVisualizers)?Kt||(Kt=(0,o.Z)("div",{className:"outer-statusbar-progress-bar"})):(0,o.Z)(C.Z,{placement:"bottom",tooltip:n(r?"completed":"preview-unfinished"),show:w()(t.unfinished)},void 0,(0,o.Z)("div",{className:"outer-statusbar-progress-bar"},void 0,(0,o.Z)(g.Z,{label:"".concat(n("completion-rate"),": ").concat(this.state.progress,"%"),variant:"success",now:this.state.progress,style:{animation:"anim-fade-in 0.7s",border:"solid 1px darkgrey"},onClick:this.jumpToUnfinished}))),(0,o.Z)($t,{t:n})))),qt||(qt=(0,o.Z)(f.Suspense,{fallback:null},void 0,(0,o.Z)(S.Z,{owner:!0},void 0,(0,o.Z)(Xt,{})))),this.state.showStatusBar||!i&&!R.Z?null:(0,o.Z)(C.Z,{placement:"bottom",tooltip:"".concat(n("presentation-mode-exit")," (F7)")},void 0,(0,o.Z)("span",{className:"statusbar-presentation-mode-lone-icon",role:"button",tabIndex:0,onClick:this.toggleBarVisibility,onKeyPress:this.toggleBarVisibility},void 0,Jt||(Jt=(0,o.Z)("span",{className:"fa fa-xs fa-eye-slash"}))))),this.state.visibleLogin?(0,o.Z)(x.Z,{show:this.state.visibleLogin,onClose:this.closeLogin}):null,this.state.visibleSignup?(0,o.Z)(k.Z,{show:this.state.visibleSignup,onClose:this.closeSignup}):null,this.state.visibleLogout?(0,o.Z)(Ne,{show:this.state.visibleLogout,close:this.closeLogout,title:n("logout"),message:n("confirm-logout"),onConfirm:this.handleLogout,t:n}):null,(0,o.Z)(P.Z,{actions:{F7:this.toggleBarVisibility}}),r&&!t.config.hideProgressBar?(0,o.Z)(E.Z,{title:"100%",upper:n("congratulations"),lower:n("lesson-completed"),upperArc:120,lowerArc:120,noOrnaments:!0,removable:!0,style:{position:"fixed",right:"0px",bottom:"5%",transform:"rotate(-17deg) scale(".concat(window.innerWidth/1920,")"),transformOrigin:"100% 100%",animation:"anim-fade-in 1s forwards",background:"linear-gradient(to right, white, silver, white)",fontFamily:"Courier",zIndex:1002},innerStyle:{background:"linear-gradient(to right, ghostwhite, #ffc107, ghostwhite, #ffc107, silver)"}}):null)}}]),n}(f.Component);nn.contextType=D.Z;var rn=(0,v.Z)("internal/statusbar")(nn)},672643:function(e,t,n){"use strict";var r=(0,n(844601).Z)((function(){return n.e(2273).then(n.bind(n,796117))}));t.Z=r},777866:function(e,t,n){"use strict";var r=n(990929);t.Z=function(e,t,n,o){if(!e.selection||!e.doc||!n)return e;var i=e.selection,a=i.empty,s=i.$cursor,c=i.ranges;if(a&&!s||!function(e,t,n){for(var o=function(r){var o=t[r],i=o.$from,a=o.$to,s=0===i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){return!s&&(s=e.inlineContent&&e.type.allowsMarkType(n),!0)})),s)return{v:!0}},i=0;i<t.length;i++){var a=o(i);if("object"===(0,r.Z)(a))return a.v}return!1}(e.doc,c,n))return e;if(s)return e=e.removeStoredMark(n),o?e.addStoredMark(n.create(o)):e;for(var l=!1,u=0;!l&&u<c.length;u++){var d=c[u],f=d.$from,p=d.$to;l=e.doc.rangeHasMark(f.pos,p.pos,n)}for(var h=0;h<c.length;h++){var v=c[h],m=v.$from,g=v.$to;l&&(e=e.removeMark(m.pos,g.pos,n)),o&&(e=e.addMark(m.pos,g.pos,n.create(o)))}return e}},268874:function(e,t,n){"use strict";n.d(t,{yz:function(){return c},wM:function(){return l}});var r=n(56470),o=n(977162),i=n.n(o),a=(n(319371),n(296253),n(940851),n(516037)),s=new a.PluginKey("cursor-parking");t.ZP=function(){return new a.Plugin({key:s,state:{init:function(){return{inCursorParking:!1,storedMarks:null,bookmarkToRestore:null,pos:null}},apply:function(e,t){var n=e.getMeta(this);return n?n.inCursorParking?{inCursorParking:!0,pos:n.pos,storedMarks:e.storedMarks,bookmarkToRestore:e.selection.getBookmark()}:{inCursorParking:!1,pos:n.pos,storedMarks:null,bookmarkToRestore:null}:e.docChanged&&t.inCursorParking&&t.bookmarkToRestore?{inCursorParking:!0,pos:null,storedMarks:t.storedMarks,bookmarkToRestore:t.bookmarkToRestore.map(e.mapping)}:t}},view:function(){var e=document.createElement("cursor-parking");e.setAttribute("style","width:0px;height:0px;position:fixed;top:50%,left:50%;"),e.setAttribute("tabIndex","-1"),e.setAttribute("contenteditable","true");var t=function(){e.innerHTML="<div><br/></div>"};return t(),document.body.appendChild(e),{update:function(n,r){var o=s.getState(r),i=s.getState(n.state);if(!o.inCursorParking&&i.inCursorParking&&function(){var t=document.createRange();t.selectNodeContents(e.firstChild);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}(),o.inCursorParking&&!i.inCursorParking){var c=n.dispatch,l=n.state.tr;if(o.bookmarkToRestore&&l.setSelection(o.bookmarkToRestore.resolve(l.doc)),o.storedMarks&&l.setStoredMarks(o.storedMarks),n.focus(),i.pos){var u=i.pos;l=l.setSelection(a.TextSelection.create(l.doc,u,u))}else c(l);t()}},destroy:function(){e.parentNode.removeChild(e)}}}})};var c=function(){var e=(0,r.Z)(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dispatch(t.state.tr.setMeta(s,{inCursorParking:!0,pos:n})),e.next=3,new Promise((function(e){return setTimeout(e,0)}));case 3:t.dispatch(t.state.tr.setMeta(s,{inCursorParking:!1,pos:n}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(e){e.dispatch(e.state.tr.setMeta(s,{inCursorParking:!1,storedMarks:null,bookmarkToRestore:null,pos:null}))}},86381:function(e,t,n){"use strict";n.d(t,{NV:function(){return g},ud:function(){return Z}});var r=n(264659),o=n(673989),i=n(175663),a=n(750591),s=n(575630),c=(n(319371),n(52310),n(382139),n(516037)),l=n(506565);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var d={name:"CursorPlaceholderPlugin"},f=null,p={state:{init:function(){return l.EH.empty},apply:function(e,t){t=t.map(e.mapping,e.doc);var n=e.getMeta(this);if(!n)return t;if(n.add){var r=document.createElement("editor-cursor-placeholder");r.className="editor-cursor-placeholder";var o=l.p.widget(n.add.pos,r,{id:d});t=t.add(e.doc,[o])}else if(n.remove){var i=t.find(null,null,v);t=t.remove(i)}return t}},props:{decorations:function(e){return f?f.getState(e):null}}},h=function(e){(0,i.Z)(n,e);var t=u(n);function n(){var e;return(0,r.Z)(this,n),e=t.call(this,p),f?(0,a.Z)(e,f):(f=(0,o.Z)(e),e)}return n}(c.Plugin);function v(e){return e.id===d}function m(e){if(!f)return null;var t=f.getState(e).find(null,null,v);return(t.length?t[0].from:null)||null}function g(e){var t=f,n=e.tr;return t&&n.selection?(null===m(e)&&(n.selection.empty||(n=n.deleteSelection()),n=n.setMeta(t,{add:{pos:n.selection.from}})),n):n}function Z(e){var t=f,n=e.tr;return t?(null!==m(e)&&(n=n.setMeta(t,{remove:{}})),n):n}t.ZP=h},924285:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(52310);function r(e,t,n,r){for(var o=t,i=function(e){return e.type===r},a=null,s=null,c=null;o<=n;){var l=e.nodeAt(o);if(!l||!l.marks)return null;var u=l.marks.find(i);if(!u)return null;if(a&&u!==a)return null;s=s||l,a=a||u,c=l,o++}var d=t,f=n,p=0;for(o=t-1;o>p;){var h=e.nodeAt(o),v=h&&h.marks.find(i);if(!v||v!==a)break;d=o,s=h,o--}for(o=n+1,p=e.nodeSize-2;o<p;){var m=e.nodeAt(o),g=m&&m.marks.find(i);if(!g||g!==a)break;f=o,c=m,o++}return{mark:a,from:{node:s,pos:d},to:{node:c,pos:f}}}},550171:function(e,t,n){"use strict";var r=n(858255),o=(n(202784),{alignLeft:(0,r.Z)("i",{className:"prosemirror-icon fas fa-align-left"}),alignCenter:(0,r.Z)("i",{className:"prosemirror-icon fas fa-align-center"}),alignRight:(0,r.Z)("i",{className:"prosemirror-icon fas fa-align-right"}),alignJustify:(0,r.Z)("i",{className:"prosemirror-icon fas fa-align-justify"}),annotation:(0,r.Z)("i",{className:"prosemirror-icon fas fa-comment"}),blockquote:(0,r.Z)("i",{className:"prosemirror-icon fas fa-quote-left"}),bold:(0,r.Z)("i",{className:"prosemirror-icon fas fa-bold"}),bullet_list:(0,r.Z)("i",{className:"prosemirror-icon fas fa-list-ul"}),code_block:(0,r.Z)("i",{className:"prosemirror-icon fas fa-file-code"}),code:(0,r.Z)("i",{className:"prosemirror-icon fas fa-code"}),color:(0,r.Z)("i",{className:"prosemirror-icon fas fa-palette"}),editTable:(0,r.Z)("i",{className:"prosemirror-icon fas fa-table"}),em:(0,r.Z)("i",{className:"prosemirror-icon fas fa-italic"}),error:(0,r.Z)("i",{className:"prosemirror-icon fas fa-bug"}),fullscreen:(0,r.Z)("i",{className:"prosemirror-icon fas fa-expand"}),guides:(0,r.Z)("i",{className:"prosemirror-icon fa fa-question-circle"}),history:(0,r.Z)("i",{className:"prosemirror-icon fas fa-history"}),insert:(0,r.Z)("i",{className:"prosemirror-icon fa fa-plus-square"}),link:(0,r.Z)("i",{className:"prosemirror-icon fa fa-link"}),open:(0,r.Z)("i",{className:"prosemirror-icon fa fa-folder-open"}),ordered_list:(0,r.Z)("i",{className:"prosemirror-icon fas fa-list-ol"}),paragraph:(0,r.Z)("i",{className:"prosemirror-icon fas fa-paragraph"}),pdf:(0,r.Z)("i",{className:"prosemirror-icon fas fa-file-pdf"}),redo:(0,r.Z)("i",{className:"prosemirror-icon fas fa-redo"}),reset:(0,r.Z)("i",{className:"prosemirror-icon fa fa-eraser"}),save:(0,r.Z)("i",{className:"prosemirror-icon fa fa-save"}),selectParent:(0,r.Z)("i",{className:"prosemirror-icon far fa-object-group"}),strikethrough:(0,r.Z)("i",{className:"prosemirror-icon fas fa-strikethrough"}),strong:(0,r.Z)("i",{className:"prosemirror-icon fas fa-bold"}),submit:(0,r.Z)("i",{className:"prosemirror-icon fa fa-share-square"}),subscript:(0,r.Z)("i",{className:"prosemirror-icon fas fa-subscript"}),table:(0,r.Z)("i",{className:"prosemirror-icon fas fa-table"}),superscript:(0,r.Z)("i",{className:"prosemirror-icon fas fa-superscript"}),underline:(0,r.Z)("i",{className:"prosemirror-icon fas fa-underline"}),undo:(0,r.Z)("i",{className:"prosemirror-icon fas fa-undo"})});t.Z=o},770290:function(e,t,n){"use strict";n.d(t,{q:function(){return y}});n(382139);var r=n(264659),o=n(175663),i=n(750591),a=n(575630),s=(n(798184),n(39115),n(296253),n(856997),n(991181),n(52310),n(898837),n(95767),n(530522),n(319371),n(516037)),c=n(506565),l=n(614972),u=n.n(l),d=n(427249),f=n(974247);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,a.Z)(e);if(t){var o=(0,a.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,i.Z)(this,n)}}var h=(0,d.Z)("image_upload"),v=new Set(["image/jpeg","image/gif","image/png","image/jpg"]),m=new Array(4).join('<div class="editor-image-upload-placeholder-child"></div>');function g(e){return e instanceof b}function Z(e){return e&&v.has(e.type)}function y(e,t,r){var o=e.state,i=e.readOnly,a=e.disabled,c=o.schema,l=o.plugins;if(i||a)return!1;var d=c.nodes.image;if(!d)return!1;var p=Array.from(t).filter(Z);if(!p.length)return!1;var v=l.find(g);if(!v)return!1;var m,y={debugId:h()},b=(m=function(){var t=function(t){var n=function(e,t,n){var r=e.getState(t).find(null,null,(function(e){return e.id===n}));return r.length?r[0].from:null}(v,e.state,y),r=e.state.tr;if(!n||e.readOnly||e.disabled)p.length=0;else{var o=d.create(t);r=r.replaceWith(n,n,o)}p.length?b():r=r.setMeta(v,{remove:{id:y}}),e.dispatch(r)},r=p.shift();if(u()(r))throw new Error("unexpected null value");var o=n.g.session;if(o.server&&o.uploadFile){var i=new FormData;i.append("file",r),o.uploadFile({formData:i,callback:function(e,n){return e?t({src:null}):n&&n.filename?t({src:o.server+"/"+n.filename}):t({src:null})},showNotification:!1})}else(0,f.Z)(r).then(t).catch(t.bind(null,{src:null}))},function(){setTimeout(m,0)});b();var w=o.tr,_=0;if(r){var O=e.posAtCoords({left:r.x,top:r.y});if(!O)return!1;_=O.pos,w=w.setSelection(s.TextSelection.create(w.doc,_,_))}else _=w.selection.to,w=w.setSelection(s.TextSelection.create(w.doc,_,_));var k={add:{id:y,pos:_}};return w=w.setMeta(v,k),e.dispatch(w),!0}var b=function(e){(0,o.Z)(n,e);var t=p(n);function n(){return(0,r.Z)(this,n),t.call(this,{state:{init:function(){return c.EH.empty},apply:function(e,t){t=t.map(e.mapping,e.doc);var n=e.getMeta(this);if(n&&n.add){var r=document.createElement("div");r.title="Uploading...",r.className="editor-image-upload-placeholder",r.innerHTML=m;var o=c.p.widget(n.add.pos,r,{id:n.add.id});t=t.add(e.doc,[o])}else if(n&&n.remove){t=t.remove(t.find(null,null,(function(e){return e.id===n.remove.id})))}return t}},props:{decorations:function(e){return this.getState(e)}}})}return n}(s.Plugin);t.Z=b},588714:function(e,t,n){"use strict";var r=n(516037);t.Z=function(e,t){var n=e.selection,o=e.schema,i=e.tr;if(!o.marks[t])return!1;if(!(n instanceof r.TextSelection||n instanceof r.AllSelection))return!1;var a=e.selection,s=a.from;if(a.to===s+1){var c=i.doc.nodeAt(s);if(c.isAtom&&!c.isText&&c.isLeaf)return!1}return!0}},229511:function(e,t,n){"use strict";n.d(t,{ZP:function(){return et},$T:function(){return Ye},EI:function(){return We},Uy:function(){return Je}});n(319371);var r=n(919353),o=n(141396),i=n(516037),a=n(757343),s=n(414256),c=n(603423),l=n(550171),u=n(828919),d=function(e){return function(t){for(var n=t.selection.$from,r=n.depth;r>=0;r--){var o=n.index(r);if(n.node(r).canReplaceWith(o,o,e))return!0}return!1}},f=n(151119);n(798184),n(39115),n(296253),n(856997),n(991181),n(627476),n(95767),n(898837),n(694882),n(298351);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e){var t=e.selection;return t instanceof i.TextSelection||t instanceof i.AllSelection},m=function(e,t,n){var r=e,o=r.selection,i=r.doc;if(!o||!i)return e;var a=o.from,s=o.to,c=t.nodes,l=c.blockquote,u=c.list_item,d=c.heading,f=c.paragraph,p=[];n=n||null;var v=new Set([l,d,u,f]);return i.nodesBetween(a,s,(function(e,t,r){var o=e.type;return(e.attrs.align||null)!==n&&v.has(o)&&p.push({node:e,pos:t,nodeType:o}),!0})),p.length?(p.forEach((function(t){var r=t.node,o=t.pos,i=t.nodeType,a=r.attrs;a=h(h({},a),{},n?{align:n}:{align:null}),e=e.setNodeMarkup(o,i,a,r.marks)})),e):e},g=function(e){return function(t){var n=t.selection,r=t.doc,o=n.from,i=n.to,a=!0,s=!1;return r.nodesBetween(o,i,(function(t,n){return a&&t.attrs.align===e&&(a=!1,s=!0),a})),s}},Z=[{title:"align-left",content:l.Z.alignLeft,enable:v,active:g("left"),run:function(e,t){var n=e.schema,r=e.selection,o=m(e.tr.setSelection(r),n,"left");return!!o.docChanged&&(t&&t(o))}},{title:"align-center",content:l.Z.alignCenter,enable:v,active:g("center"),run:function(e,t){var n=e.schema,r=e.selection,o=m(e.tr.setSelection(r),n,"center");return!!o.docChanged&&(t&&t(o))}},{title:"align-right",content:l.Z.alignRight,enable:v,active:g("right"),run:function(e,t){var n=e.schema,r=e.selection,o=m(e.tr.setSelection(r),n,"right");return!!o.docChanged&&(t&&t(o))}},{title:"justified",content:l.Z.alignJustify,enable:v,active:g("justify"),run:function(e,t){var n=e.schema,r=e.selection,o=m(e.tr.setSelection(r),n,"justify");return!!o.docChanged&&(t&&t(o))}}],y=n(777866),b=n(70332),w=n(588714),_=(n(382139),n(264659)),O=n(673989),k=n(175663),x=n(750591),S=n(575630),C=(n(304531),n(940851),n(376677)),P=n.n(C),E=n(925161),R=n(924285),M=n(111057),N=n(640987),T=n(70698);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,S.Z)(e);if(t){var o=(0,S.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,x.Z)(this,n)}}var A=function(e){(0,k.Z)(n,e);var t=D(n);function n(){var e;(0,_.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,f.Z)((0,O.Z)(e),"_popUp",null),(0,f.Z)((0,O.Z)(e),"title","apply-link"),(0,f.Z)((0,O.Z)(e),"content",l.Z.link),(0,f.Z)((0,O.Z)(e),"enable",(function(e){if(!(e.selection instanceof i.TextSelection))return!1;if(!e.schema.marks.link)return!1;var t=e.selection;return t.from<t.to})),(0,f.Z)((0,O.Z)(e),"waitForUserInput",(function(t,n,r,o){if(e._popUp)return Promise.resolve(void 0);n&&n((0,E.tk)(t));var i=t.doc,a=t.schema,s=t.selection,c=a.marks.link;if(!c)return Promise.resolve(void 0);var l=s.from,u=s.to,d=(0,R.Z)(i,l,u,c),f=d?d.mark.attrs.href:null;return new Promise((function(t){e._popUp=(0,T.Z)(M.Z,{href:f},{modal:!0,onClose:function(n){e._popUp&&(e._popUp=null,t(n))}})}))})),(0,f.Z)((0,O.Z)(e),"executeWithUserInput",(function(e,t,n,r){if(t){var o=e.selection,i=e.schema,a=e.tr;if(a=(a=n?(0,E.be)(n.state):a).setSelection(o),!P()(r)){var s=i.marks.link,c=r?{href:r}:null;a=(0,y.Z)(a.setSelection(e.selection),i,s,c)}t(a)}return n&&n.focus(),!0})),e}return n}(N.Z),j=n(904730),B=n(202784),I=n(867696),z=n(86381);function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,S.Z)(e);if(t){var o=(0,S.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,x.Z)(this,n)}}function U(e,t,n){var r=e.selection;if(!r)return e;var o=r.from;if(o!==r.to)return e;var i=t.nodes.image;if(!i)return e;var a={src:n||"",alt:"",title:""},s=i.create(a,null,null),c=I.Fragment.from(s);return e=e.insert(o,c)}var V=function(e){(0,k.Z)(n,e);var t=L(n);function n(){var e;(0,_.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,f.Z)((0,O.Z)(e),"_popUp",null),(0,f.Z)((0,O.Z)(e),"enable",(function(t,n){return e.__isEnabled(t,n)})),(0,f.Z)((0,O.Z)(e),"waitForUserInput",(function(t,n,r,o){return e._popUp?Promise.resolve(void 0):(n&&n((0,z.NV)(t)),new Promise((function(t){var n={runtime:r?r.runtime:null};e._popUp=(0,T.Z)(e.getEditor(),n,{modal:!0,onClose:function(n){e._popUp&&(e._popUp=null,t(n))}})})))})),(0,f.Z)((0,O.Z)(e),"executeWithUserInput",(function(e,t,n,r){if(t){var o=e.selection,i=e.schema,a=e.tr;if(a=(a=n?(0,z.ud)(n.state):a).setSelection(o),r)a=U(a,i,r.src);t(a),n&&n.focus()}return!1})),(0,f.Z)((0,O.Z)(e),"__isEnabled",(function(e,t){var n=e.selection;return n instanceof i.TextSelection&&n.from===n.to})),e}return n}(N.Z),F=n(858255),H=n(320765),W=n(273783),G=n(171696),K=n(304600);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,S.Z)(e);if(t){var o=(0,S.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,x.Z)(this,n)}}var Y=function(e){(0,k.Z)(n,e);var t=$(n);function n(e){var r;return(0,_.Z)(this,n),r=t.call(this,e),(0,f.Z)((0,O.Z)(r),"_onSrcChange",(function(e){var t=e.target.value;r.setState({src:t,validValue:null},r._didSrcChange)})),(0,f.Z)((0,O.Z)(r),"_didSrcChange",(function(){(0,K.Z)(r.state.src).then((function(e){if(r.state.src===e.src&&!r._unmounted){var t=e.complete?e:null;r.setState({validValue:t})}}))})),(0,f.Z)((0,O.Z)(r),"_cancel",(function(){r.props.close()})),(0,f.Z)((0,O.Z)(r),"_insert",(function(){var e=r.state.validValue;r.props.close(e)})),r._img=null,r._unmounted=!1,r.state=J(J({},r.props.initialValue||{}),{},{validValue:null}),r}return(0,j.Z)(n,[{key:"componentWillUnmount",value:function(){this._unmounted=!0}},{key:"render",value:function(){var e=this.state,t=e.src,n=e.validValue,r=n?(0,F.Z)("div",{className:"editor-image-url-editor-input-preview",style:{backgroundImage:"url(".concat(String(n.src))}}):null;return(0,F.Z)("div",{className:"editor-image-url-editor"},void 0,(0,F.Z)("form",{className:"editor-form",onSubmit:G.Z},void 0,(0,F.Z)("fieldset",{},void 0,(0,F.Z)("legend",{},void 0,H.a.t("TextEditor:insert-image")),(0,F.Z)("div",{className:"editor-image-url-editor-src-input-row"},void 0,(0,F.Z)("input",{autoFocus:!0,className:"editor-image-url-editor-src-input",onChange:this._onSrcChange,placeholder:"Paste URL of Image...",type:"text",value:t||""}),r),(0,F.Z)("em",{},void 0,H.a.t("TextEditor:require-license"))),(0,F.Z)("div",{className:"editor-form-buttons"},void 0,(0,F.Z)(W.Z,{label:H.a.t("TextEditor:cancel"),onClick:this._cancel}),(0,F.Z)(W.Z,{active:!!n,disabled:!n,label:H.a.t("TextEditor:insert"),onClick:this._insert}))))}}]),n}(B.PureComponent);function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,S.Z)(e);if(t){var o=(0,S.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,x.Z)(this,n)}}var Q,ee=function(e){(0,k.Z)(n,e);var t=X(n);function n(){var e;(0,_.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,f.Z)((0,O.Z)(e),"title","insert-image-url"),(0,f.Z)((0,O.Z)(e),"content","insert-image-url"),e}return(0,j.Z)(n,[{key:"getEditor",value:function(){return Y}}]),n}(V),te=n(990929),ne=n(72779),re=n.n(ne),oe=n(294325),ie=n(427249),ae=n(974247);function se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,S.Z)(e);if(t){var o=(0,S.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,x.Z)(this,n)}}var ce=(0,ie.Z)("image-upload-editor"),le=function(e){(0,k.Z)(r,e);var t=se(r);function r(e){var o;return(0,_.Z)(this,r),o=t.call(this,e),(0,f.Z)((0,O.Z)(o),"_onSelectFile",(function(e){var t=e.target.files&&e.target.files[0];t&&"object"===(0,te.Z)(t)&&o._upload(t)})),(0,f.Z)((0,O.Z)(o),"_onSuccess",(function(e){o._unmounted||o.props.close(e)})),(0,f.Z)((0,O.Z)(o),"_onError",(function(e){o._unmounted||o.setState({error:e,id:ce(),pending:!1})})),(0,f.Z)((0,O.Z)(o),"_upload",(function(e){o.setState({pending:!0,error:null});var t=n.g.session;if(t.server&&t.uploadFile){var r=new FormData;r.append("file",e),t.uploadFile({formData:r,callback:function(e,n){return e?o._onError(e):n&&n.filename?o._onSuccess({src:t.server+"/"+n.filename}):o._onSuccess({src:null})},showNotification:!1})}else(0,ae.Z)(e).then((function(e){o._onSuccess(e)})).catch((function(e){o._onError(e)}))})),(0,f.Z)((0,O.Z)(o),"_cancel",(function(){o.props.close()})),o._img=null,o._unmounted=!1,o.state={error:null,id:ce(),pending:!1},o}return(0,j.Z)(r,[{key:"componentWillUnmount",value:function(){this._unmounted=!0}},{key:"render",value:function(){var e=this.state,t=e.id,n=e.error,r=e.pending,o=re()("editor-image-upload-editor",{pending:r,error:n}),i=H.a.t("TextEditor:choose-an-image-file");return r?i=Q||(Q=(0,F.Z)(oe.Z,{animation:"border",role:"status"})):n&&(i=H.a.t("TextEditor:error-while-uploading")),(0,F.Z)("div",{className:o},void 0,(0,F.Z)("form",{className:"editor-form"},void 0,(0,F.Z)("fieldset",{},void 0,(0,F.Z)("legend",{},void 0,H.a.t("TextEditor:upload-image")),(0,F.Z)("div",{className:"editor-image-upload-editor-body"},void 0,(0,F.Z)("div",{className:"editor-image-upload-editor-label"},void 0,i),(0,F.Z)("input",{accept:"image/png,image/gif,image/jpeg,image/jpg",className:"editor-image-upload-editor-input",disabled:r,id:t,onChange:this._onSelectFile,type:"file"},t))),(0,F.Z)("div",{className:"editor-form-buttons"},void 0,(0,F.Z)(W.Z,{label:H.a.t("TextEditor:cancel"),onClick:this._cancel}))))}}]),r}(B.PureComponent);function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,S.Z)(e);if(t){var o=(0,S.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,x.Z)(this,n)}}var de,fe=function(e){(0,k.Z)(n,e);var t=ue(n);function n(){var e;(0,_.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,f.Z)((0,O.Z)(e),"title","upload-image"),(0,f.Z)((0,O.Z)(e),"content","upload-image"),e}return(0,j.Z)(n,[{key:"getEditor",value:function(){return le}}]),n}(V),pe=n(59821),he=n(928316),ve=n(394606),me=n.n(ve),ge=n(69348),Ze=n.n(ge),ye=n(857906),be=n.n(ye),we=n(69108),_e=n.n(we),Oe=n(974652),ke=n.n(Oe),xe=n(272008),Se=n.n(xe),Ce=n(615581);function Pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,S.Z)(e);if(t){var o=(0,S.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,x.Z)(this,n)}}var Ee=16;var Re=function(e){(0,k.Z)(n,e);var t=Pe(n);function n(){return(0,_.Z)(this,n),t.apply(this,arguments)}return(0,j.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.x,n=e.y,r=e.selected,o={left:t+"px",top:n+"px",width:"16px",height:"16px"},i=re()("editor-table-grid-size-editor-cell",{selected:r});return(0,F.Z)("div",{className:i,style:o})}}]),n}(B.PureComponent),Me=function(e){(0,k.Z)(n,e);var t=Pe(n);function n(e){var r;return(0,_.Z)(this,n),r=t.call(this,e),(0,f.Z)((0,O.Z)(r),"_onRef",(function(e){r._ref=e})),(0,f.Z)((0,O.Z)(r),"_onMouseEnter",(function(e){var t=e.currentTarget;if(t instanceof HTMLElement){var n=(0,Ce.hs)(t),o=be()(e.clientX),i=be()(e.clientY);r._ex=n.x,r._ey=n.y,r._mx=o,r._my=i,r._entered||(r._entered=!0,document.addEventListener("mousemove",r._onMouseMove,!0))}})),(0,f.Z)((0,O.Z)(r),"_onMouseMove",(function(e){var t=r._ref&&he.findDOMNode(r._ref),n=t?function(e){var t=e.getBoundingClientRect();return{x:t.left,y:t.top,w:t.width,h:t.height}}(t):null,o=(0,Ce.mv)(e.screenX,e.screenY,10);n&&o&&(0,Ce.vY)(n,o,50)&&(e.preventDefault(),e.stopImmediatePropagation());var i=be()(e.clientX),a=be()(e.clientY);i===r._mx&&a===r._my||(r._mx=i,r._my=a,r._rafID&&cancelAnimationFrame(r._rafID),r._rafID=requestAnimationFrame(r._updateGridSize))})),(0,f.Z)((0,O.Z)(r),"_updateGridSize",(function(){r._rafID=0;var e=r._mx,t=r._my,n=e-r._ex,o=t-r._ey,i=Ze()(_e()(o/21),1,20),a=Ze()(_e()(n/21),1,20),s=r.state,c=s.rows,l=s.cols;c===i&&l===a||r.setState({rows:i,cols:a})})),(0,f.Z)((0,O.Z)(r),"_onMouseDown",(function(e){e.preventDefault(),r.props.close(r.state)})),r._ex=0,r._ey=0,r._mx=0,r._my=0,r._rafID=0,r._ref=null,r._entered=!1,r.state={rows:1,cols:1},r}return(0,j.Z)(n,[{key:"componentWillUnmount",value:function(){this._entered&&document.removeEventListener("mousemove",this._onMouseMove,!0),this._rafID&&cancelAnimationFrame(this._rafID)}},{key:"render",value:function(){var e=this.state,t=e.rows,n=e.cols,r=ke()(5,t),o=ke()(5,n);r===t&&(r=Se()(20,r+1)),o===n&&(o=Se()(20,o+1));for(var i=[],a=0,s=0,c=0,l=0;a<r;){s+=5;for(var u=0,d=0;u<o;){d+=5;var f=a<t&&u<n;i.push((0,F.Z)(Re,{selected:f,x:d,y:s},"".concat(String(a),"-").concat(String(u)))),c=(d+=Ee)+5,u++}l=(s+=Ee)+5,a++}var p={width:c+"px",height:l+"px"};return B.createElement("div",{className:"editor-table-grid-size-editor",ref:this._onRef},(0,F.Z)("div",{className:"editor-table-grid-size-editor-body",onMouseDown:this._onMouseDown,onMouseEnter:this._onMouseEnter,style:p,role:"button",tabIndex:0},void 0,i),(0,F.Z)("div",{className:"editor-table-grid-size-editor-footer"},void 0,(0,F.Z)("b",{},void 0,t)," ",de||(de=(0,F.Z)("i",{className:"fa fa-times"}))," ",(0,F.Z)("b",{},void 0,n)))}}]),n}(B.PureComponent);Me.defaultProps={close:me()};var Ne=Me,Te=n(63417),De=n.n(Te);function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,S.Z)(e);if(t){var o=(0,S.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,x.Z)(this,n)}}function je(e){if(!De()(e))return e;var t=new Error("Received unexpected "+e);throw t.framesToPop=1,t}var Be=function(e){(0,k.Z)(n,e);var t=Ae(n);function n(){var e;(0,_.Z)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),(0,f.Z)((0,O.Z)(e),"_popUp",null),(0,f.Z)((0,O.Z)(e),"title","insert-table"),(0,f.Z)((0,O.Z)(e),"content","insert-table"),(0,f.Z)((0,O.Z)(e),"enable",(function(e){var t=e.selection;return t instanceof i.TextSelection&&t.from===t.to})),(0,f.Z)((0,O.Z)(e),"waitForUserInput",(function(t,n,r,o){if(e._popUp)return Promise.resolve(void 0);if(!(je(o).target instanceof HTMLElement))return Promise.resolve(void 0);var i=o?o.target.parentElement.parentElement:null;return new Promise((function(t){e._popUp=(0,T.Z)(Ne,null,{anchor:i,position:pe.SC,onClose:function(n){e._popUp&&(e._popUp=null,t(n))}})}))})),(0,f.Z)((0,O.Z)(e),"executeWithUserInput",(function(e,t,n,r){if(t){var o=e.schema;if(r){for(var i=r.rows,a=r.cols,s=[];a--;)s.push(o.nodes.table_cell.createAndFill());for(var c=[];i--;)c.push(o.nodes.table_row.createAndFill(void 0,s));var l=o.nodes.table.createAndFill(void 0,c);t(e.tr.replaceSelectionWith(l))}}return!1})),e}return n}(N.Z),Ie=function(e){var t=e.selection;return t instanceof i.TextSelection||t instanceof i.AllSelection},ze=function(e){var t=e.selection;return t instanceof i.TextSelection&&t.from===t.to},Le=function(e){return function(t){var n=t.selection,r=n.from,o=n.$from,i=n.to;return n.empty?!!e.isInSet(t.storedMarks||o.marks()):!!t.doc.rangeHasMark(r,i,e)}},Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var r=n.selection,o=r.$from,i=r.to,a=r.node;return a?a.hasMarkup(e,t):i<=o.end()&&o.parent.hasMarkup(e,t)}},Ve=function(e){return function(t,n){var r=t.schema,o=t.selection,i=function(e,t,n){var r=t.marks.fontSize;if(!r)return e;var o=n?{pt:n}:null;return(0,y.Z)(e,t,r,o)}(t.tr.setSelection(o),r,e);return!(!i.docChanged&&!i.storedMarksSet)&&(!n||n(i))}},Fe=function(e){return(0,w.Z)(e,"fontSize")},He=function(e){return function(t){var n,r=t.schema.nodes.heading;return(n=r?(0,o.Tr)(r)(t.selection):t.selection)&&n.node&&n.node.attrs&&n.node.attrs.level===e}},We=[{title:"strong",content:l.Z.strong,enable:Ie,active:Le(u.Z.marks.strong),run:(0,r.w9)(u.Z.marks.strong)},{title:"emphasis",content:l.Z.em,enable:Ie,active:Le(u.Z.marks.em),run:(0,r.w9)(u.Z.marks.em)},new A],Ge=[{title:"underline",content:l.Z.underline,enable:Ie,active:Le(u.Z.marks.underline),run:(0,r.w9)(u.Z.marks.underline)},{title:"strikethrough",content:l.Z.strikethrough,enable:Ie,active:Le(u.Z.marks.strikethrough),run:(0,r.w9)(u.Z.marks.strikethrough)},{title:"code",content:l.Z.code,enable:Ie,active:Le(u.Z.marks.code),run:(0,r.w9)(u.Z.marks.code)},{title:"subscript",content:l.Z.subscript,enable:Ie,active:Le(u.Z.marks.subscript),run:(0,r.w9)(u.Z.marks.subscript)},{title:"superscript",content:l.Z.superscript,enable:Ie,active:Le(u.Z.marks.superscript),run:(0,r.w9)(u.Z.marks.superscript)}],Ke=[{title:"change-paragraph",content:l.Z.paragraph,active:Ue(u.Z.nodes.paragraph),enable:(0,r.uJ)(u.Z.nodes.paragraph),run:(0,r.uJ)(u.Z.nodes.paragraph)},{title:"change-heading-1",content:"H1",active:He(1),enable:(0,r.uJ)(u.Z.nodes.heading,{level:1}),run:(0,r.uJ)(u.Z.nodes.heading,{level:1})},{title:"change-heading-2",content:"H2",active:He(2),enable:(0,r.uJ)(u.Z.nodes.heading,{level:2}),run:(0,r.uJ)(u.Z.nodes.heading,{level:2})}],qe=[{title:"change-heading-3",content:"Heading 3",enable:(0,r.uJ)(u.Z.nodes.heading,{level:3}),run:(0,r.uJ)(u.Z.nodes.heading,{level:3})},{title:"change-heading-4",content:"Heading 4",enable:(0,r.uJ)(u.Z.nodes.heading,{level:4}),run:(0,r.uJ)(u.Z.nodes.heading,{level:4})},{title:"change-heading-5",content:"Heading 5",enable:(0,r.uJ)(u.Z.nodes.heading,{level:5}),run:(0,r.uJ)(u.Z.nodes.heading,{level:5})}],Je=[{title:"wrap-block-quote",content:l.Z.blockquote,active:Ue(u.Z.nodes.blockquote),enable:(0,r.ym)(u.Z.nodes.blockquote),run:(0,r.ym)(u.Z.nodes.blockquote)},{title:"wrap-bullet-list",content:l.Z.bullet_list,active:Ue(u.Z.nodes.bullet_list),enable:(0,s.KI)(u.Z.nodes.bullet_list),run:(0,s.KI)(u.Z.nodes.bullet_list)},{title:"wrap-ordered-list",content:l.Z.ordered_list,active:Ue(u.Z.nodes.ordered_list),enable:(0,s.KI)(u.Z.nodes.ordered_list),run:(0,s.KI)(u.Z.nodes.ordered_list)}],$e=[{title:"lift-out-enclosing",content:"lift-out-enclosing",enable:r.xb,run:r.xb},{title:"join-with-above",content:"join-with-above",enable:r.MI,run:r.MI},{title:"join-with-below",content:"join-with-below",enable:r.Ig,run:r.Ig}],Ye=[new ee,new fe,{title:"insert-footnote",content:"insert-footnote",enable:d(u.Z.nodes.footnote),run:function(e,t){var n=u.Z.nodes.footnote.create();t(e.tr.replaceSelectionWith(n))}},{title:"insert-figure-caption",content:"insert-figure-caption",enable:ze,run:function(e,t){var n=u.Z.nodes.figureCaption.create();t(e.tr.replaceSelectionWith(n))}},{title:"insert-table-caption",content:"insert-table-caption",enable:ze,run:function(e,t){var n=u.Z.nodes.tableCaption.create();t(e.tr.replaceSelectionWith(n))}},{title:"insert-code-block",content:"insert-code-block",enable:d(u.Z.nodes.code_block),run:function(e,t){var n=u.Z.nodes.code_block.create();t(e.tr.replaceSelectionWith(n))}}],Xe=[{title:"undo-last-change",content:l.Z.undo,enable:a.Yw,run:a.Yw},{title:"redo-last-undone-change",content:l.Z.redo,enable:a.KX,run:a.KX},{title:"select-parent-node",content:l.Z.selectParent,run:r.N0,select:function(e){return(0,r.N0)(e)}}],Qe=[new Be,{title:"insert-column-before",content:"insert-column-before",run:c.addColumnBefore},{title:"insert-column-after",content:"insert-column-after",run:c.addColumnAfter},{title:"insert-row-before",content:"insert-row-before",run:c.addRowBefore},{title:"insert-row-after",content:"insert-row-after",run:c.addRowAfter},{title:"delete-column",content:"delete-column",run:c.deleteColumn},{title:"delete-row",content:"delete-row",run:c.deleteRow},{title:"merge-cells",content:"merge-cells",run:c.mergeCells},{title:"split-cells",content:"split-cells",run:c.splitCell},{title:"toggle-header-column",content:"toggle-header-column",run:c.toggleHeaderColumn},{title:"toggle-header-row",content:"toggle-header-row",run:c.toggleHeaderRow},{title:"delete-table",content:"delete-table",run:c.deleteTable}],et={marks:We,extraMarks:Ge,blocks:Ke,headers:qe,alignment:Z,wraps:Je,fontSizes:b.map((function(e){return{title:String(e),content:String(e),run:Ve(e),enable:Fe}})),actions:$e,insert:Ye,history:Xe,tableEdits:Qe}},814346:function(e,t,n){"use strict";n.d(t,{Z:function(){return me}});var r=n(305250),o=n(960703),i=n(757343),a=n(603423),s=(n(382139),n(904730)),c=n(151119),l=n(264659),u=n(175663),d=n(750591),f=n(575630),p=(n(304531),n(319371),n(516037)),h=n(376677),v=n.n(h),m=n(925161),g=n(777866),Z=n(924285);var y=function(e,t){for(;e&&e.nodeName;){if(t(e))return e;e=e.parentElement}return null},b=n(858255),w=n(56470),_=n(673989),O=n(977162),k=n.n(O),x=n(202784),S=n(772659),C=n(871685),P=n(273783);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var R=function(e){(0,u.Z)(n,e);var t=E(n);function n(){var e;(0,l.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,c.Z)((0,_.Z)(e),"_openLink",(function(t){if(t&&0===t.indexOf("#")){var n=t.substr(1),r=document.getElementById(n);if(r){var o=e.props;(0,o.onCancel)(o.editorView),(0,w.Z)(k().mark((function e(){return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,S.Z)(r,{scrollMode:"if-needed",behavior:"smooth"});case 2:case"end":return e.stop()}}),e)})))()}}else t&&window.open((0,C.Z)(t))})),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.href,n=e.editorView,r=e.onEdit,o=e.onRemove;return(0,b.Z)("div",{className:"editor-link-tooltip"},void 0,(0,b.Z)("div",{className:"editor-link-tooltip-body"},void 0,(0,b.Z)("div",{className:"editor-link-tooltip-row"},void 0,(0,b.Z)(P.Z,{className:"editor-link-tooltip-href",label:t,onClick:this._openLink,target:"new",title:t,value:t}),(0,b.Z)(P.Z,{label:"Change",onClick:r,value:n}),(0,b.Z)(P.Z,{label:"Remove",onClick:o,value:n}))))}}]),n}(x.PureComponent),M=n(111057),N=n(59821),T=n(70698);function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var A={view:function(e){return new B(e)}},j=function(e){(0,u.Z)(n,e);var t=D(n);function n(){return(0,l.Z)(this,n),t.call(this,A)}return n}(p.Plugin),B=function(){function e(t){var n=this;(0,l.Z)(this,e),(0,c.Z)(this,"_anchorEl",null),(0,c.Z)(this,"_popup",null),(0,c.Z)(this,"_editor",null),(0,c.Z)(this,"_onCancel",(function(e){n.destroy(),e.focus()})),(0,c.Z)(this,"_onClose",(function(){n._anchorEl=null,n._editor=null,n._popup=null})),(0,c.Z)(this,"_onEdit",(function(e){if(!n._editor){var t=e.state,r=t.schema,o=t.doc,i=t.selection,a=i.from,s=i.to,c=r.marks.link,l=(0,Z.Z)(o,a,s,c);if(l){var u=t.tr,d=p.TextSelection.create(u.doc,l.from.pos,l.to.pos+1);u=u.setSelection(d),u=(0,m.tk)(t,u),e.dispatch(u);var f=l?l.mark.attrs.href:null;n._editor=(0,T.Z)(M.Z,{href:f},{onClose:function(t){n._editor=null,n._onEditEnd(e,i,t)}})}}})),(0,c.Z)(this,"_onRemove",(function(e){n._onEditEnd(e,e.state.selection,null)})),(0,c.Z)(this,"_onEditEnd",(function(e,t,n){var r=e.state,o=e.dispatch,i=(0,m.be)(r);if(!v()(n)){var a=r.schema,s=a.marks.link;if(s){var c=(0,Z.Z)(i.doc,t.from,t.to,s);if(c){var l=p.TextSelection.create(i.doc,c.from.pos,c.to.pos+1);i=i.setSelection(l);var u=n?{href:n}:null;i=(0,g.Z)(i,a,s,u)}}}i.setSelection(t.map(i.doc,i.mapping)),o(i),e.focus()})),this.update(t,null)}return(0,s.Z)(e,[{key:"update",value:function(e,t){if(e.readOnly)this.destroy();else{var n=e.state,r=n.doc,o=n.selection,i=n.schema.marks.link;if(i){var a=o.from,s=o.to,c=(0,Z.Z)(r,a,s,i);if(c){var l=e.domAtPos(a);if(l){var u=y(l.node,(function(e){return"A"===e.nodeName}));if(u){var d=this._popup,f={editorState:n,editorView:e,href:c.mark.attrs.href,onCancel:this._onCancel,onEdit:this._onEdit,onRemove:this._onRemove};d&&u===this._anchorEl?d.update(f):(d&&d.close(),this._anchorEl=u,this._popup=(0,T.Z)(R,f,{anchor:u,autoDismiss:!1,onClose:this._onClose,position:N.DL}))}else this.destroy()}else this.destroy()}else this.destroy()}}}},{key:"destroy",value:function(){this._popup&&this._popup.close(),this._editor&&this._editor.close()}}]),e}(),I=j,z=n(86381),L=n(770290),U=n(141396);function V(e){var t=e.doc,n=e.selection,r=e.schema,o=r.nodes.table_cell,i=r.nodes.table_header;if(!o&&!i)return null;var s=n;if(s instanceof p.TextSelection){var c=o&&(0,U.Tr)(o)(n)||i&&(0,U.Tr)(i)(n);if(!c)return null;s=a.CellSelection.create(t,c.pos)}return s instanceof a.CellSelection?function(e){var t,n=e.$anchorCell,r=n.start(-1),o=n.node(-1),i=a.TableMap.get(o),s=null,c=null;return e.forEachCell((function(e,n){var o=i.findCell(n-r);(!t||o.top>=t.top&&o.left>t.left)&&(t=o,s=n,c=e)})),null===s?null:{node:c,pos:s}}(s):null}var F=n(226010),H=n(155061),W=n(320765),G=n(550171),K=n(229511);function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var J=function(e){(0,u.Z)(n,e);var t=q(n);function n(){var e;(0,l.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,c.Z)((0,_.Z)(e),"onMenuMouseDown",(function(t){return function(n){n.preventDefault(),t.run&&t.run(e.props.editorState,e.props.editorView.dispatch,e.props.editorView,n.nativeEvent)}})),(0,c.Z)((0,_.Z)(e),"createDropdownButtons",(function(t,n){return(0,b.Z)(H.Z,{onMouseDown:e.onMenuMouseDown(t)},"dropdown-item-".concat(n),W.a.t("TextEditor:".concat(t.content)))})),e}return(0,s.Z)(n,[{key:"render",value:function(){return(0,b.Z)(F.Z,{title:G.Z.table,variant:"outline-secondary",size:"sm",style:{display:"inline-block"}},void 0,K.ZP.tableEdits.map(this.createDropdownButtons))}}]),n}(x.PureComponent);var $=n(615581);function Y(e){var t=(0,$.hs)(e),n=t.x,r=t.y,o=t.w,i=t.h,a=o&&i&&e?e.ownerDocument.elementFromPoint(n+1,r+1):null;return!!a&&(a===e||!!e.contains(a))}function X(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var Q=function(){function e(t){var n=this;(0,l.Z)(this,e),(0,c.Z)(this,"destroy",(function(){n._popUp&&n._popUp.close(),n._popUp=null})),(0,c.Z)(this,"_onOpen",(function(){var e=n._cellElement;e&&(n._scrollHandle=function(e,t){if(e){for(var n=e.ownerDocument.defaultView,r=[],o=0,i=function(){o&&cancelAnimationFrame(o),o=requestAnimationFrame(t)},a=e;a;){var s=n.getComputedStyle(a).overflow;(i&&"auto"===s||"scroll"===s)&&(a.addEventListener("scroll",i,!1),r.push(a)),a=a.parentElement}return{dispose:function(){for(;i&&r.length;)(a=r.pop())&&a.removeEventListener("scroll",i,!1);i=null,o&&window.cancelAnimationFrame(o),o=0}}}}(e,n._onScroll))})),(0,c.Z)(this,"_onClose",(function(){n._popUp=null,n._scrollHandle&&n._scrollHandle.dispose(),n._scrollHandle=null})),(0,c.Z)(this,"_onScroll",(function(){var e=n._popUp,t=n._cellElement;e&&t&&(Y(t)||e.close())})),this._cellElement=null,this._popUp=null,this._scrollHandle=null,this.update(t,null)}return(0,s.Z)(e,[{key:"update",value:function(e,t){var n=e.state,r=e.readOnly,o=V(n);if(o&&!r){var i=e.domAtPos(o.pos+1);if(i){var a=i.node,s=this._popUp,c={editorState:n,editorView:e};a&&!Y(a)&&(a=null),a?s&&a===this._cellElement?s.update(c):(s&&s.close(),this._cellElement=a,this._popUp=(0,T.Z)(J,c,{anchor:a,autoDismiss:!1,onClose:this._onClose,position:N.ID}),this._onOpen()):(s&&s.close(),this._cellElement=null)}else this.destroy()}else this.destroy()}}]),e}(),ee={view:function(e){return new Q(e)}},te=function(e){(0,u.Z)(n,e);var t=X(n);function n(){return(0,l.Z)(this,n),t.call(this,ee)}return n}(p.Plugin),ne=n(268874),re=n(919353),oe=n(642777),ie=n(260593),ae=n(414256),se=n(382470),ce=n.n(se),le=n(828919),ue=function(e,t){var n=le.Z.nodes.hard_break.create();return t(e.tr.replaceSelectionWith(n).scrollIntoView()),!0},de={"Alt-ArrowDown":re.Ig,"Alt-ArrowUp":re.MI,"Ctrl->":(0,re.ym)(le.Z.nodes.blockquote),"Ctrl-Enter":(0,re.QF)(re.uo,ue),"Mod-_":function(e,t){var n=le.Z.nodes.horizontal_rule.create();return t(e.tr.replaceSelectionWith(n).scrollIntoView()),!0},"Mod-[":(0,ae.IB)(le.Z.nodes.list_item),"Mod-]":(0,ae.bw)(le.Z.nodes.list_item),"Mod-`":(0,re.w9)(le.Z.marks.code),"Mod-b":(0,re.w9)(le.Z.marks.strong),"Mod-BracketLeft":re.xb,"Mod-Enter":(0,re.QF)(re.uo,ue),"Mod-i":(0,re.w9)(le.Z.marks.em),"Mod-u":(0,re.w9)(le.Z.marks.underline),"Mod-y":i.KX,"Mod-z":i.Yw,"Shift-Ctrl-\\":(0,re.uJ)(le.Z.nodes.code_block),"Shift-Ctrl-0":(0,re.uJ)(le.Z.nodes.paragraph),"Shift-Ctrl-1":(0,re.uJ)(le.Z.nodes.heading,{level:1}),"Shift-Ctrl-2":(0,re.uJ)(le.Z.nodes.heading,{level:2}),"Shift-Ctrl-3":(0,re.uJ)(le.Z.nodes.heading,{level:3}),"Shift-Ctrl-4":(0,re.uJ)(le.Z.nodes.heading,{level:4}),"Shift-Ctrl-5":(0,re.uJ)(le.Z.nodes.heading,{level:5}),"Shift-Ctrl-6":(0,re.uJ)(le.Z.nodes.heading,{level:6}),"Shift-Ctrl-8":(0,ae.KI)(le.Z.nodes.bullet_list),"Shift-Ctrl-9":(0,ae.KI)(le.Z.nodes.ordered_list),"Shift-Enter":(0,re.QF)(re.uo,ue),"Shift-Mod-z":i.KX,"Shift-Tab":(0,a.goToNextCell)(-1),Backspace:oe.dU,Enter:(0,ae.s6)(le.Z.nodes.list_item),Escape:re.N0,Tab:(0,a.goToNextCell)(1)};ce()(re.YR).forEach((function(e){de[e]?de[e]=(0,re.QF)(de[e],re.YR[e]):de[e]=re.YR[e]}));var fe=(0,ie.h)(de),pe=n(711746);n(283946);function he(e,t,n){return new oe.VK(e,(function(e,r,o,i){var a=n instanceof Function?n(r):n,s=e.tr;if(r[1]){var c=o+r[0].indexOf(r[1]),l=c+r[1].length;l<i&&s.delete(l,i),c>o&&s.delete(o,c),i=o+r[1].length}return s.addMark(o,i,t.create(a)),s.removeStoredMark(t),s}))}var ve=(0,oe.Hw)({rules:[].concat((0,pe.Z)(oe.yR),[oe.LH,oe.pR,(0,oe.S0)(/^\s*>\s$/,le.Z.nodes.blockquote),(0,oe.S0)(/^(\d+)\.\s$/,le.Z.nodes.ordered_list,(function(e){return{order:+e[1]}}),(function(e,t){return t.childCount+t.attrs.order===+e[1]})),(0,oe.S0)(/^\s*([-+*])\s$/,le.Z.nodes.bullet_list),(0,oe.zK)(/^```$/,le.Z.nodes.code_block),he(/(?:^|[^`])`([^`]+)`$/,le.Z.marks.code),he(/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,le.Z.marks.strong),he(/(?:^|[^*_])(?:\*|_)([^*_]+)(?:\*|_)$/,le.Z.marks.em),he(/(?:\+\+)([^+]+)(?:\+\+)$/,le.Z.marks.underline),he(/(?:~~)([^~]+)(?:~~)$/,le.Z.marks.strikethrough),(0,oe.zK)(new RegExp("^(#{1,6})\\s$"),le.Z.nodes.heading,(function(e){return{level:e[1].length}}))])}),me=[new L.Z,new I,new m.ZP,new z.ZP,ve,fe,(0,r.q)(),(0,o.d)(),(0,i.m8)(),(0,a.columnResizing)({}),new te,(0,a.tableEditing)(),(0,ne.ZP)()];document.execCommand("enableObjectResizing",!1,!1),document.execCommand("enableInlineTableEditing",!1,!1)},871685:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=/^http(s?):*\/\//i;function o(e){return e?r.test(e)?e:"http://"+e:"http://"}},828919:function(e,t,n){"use strict";n.d(t,{Z:function(){return fe}});var r=n(867696),o={attrs:{href:{},target:{default:"blank"},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){var t=e.getAttribute("href"),n=t&&0===t.indexOf("#")?"":"blank";return{href:e.getAttribute("href"),title:e.getAttribute("title"),target:n}}}],toDOM:function(e){var t=e.attrs;return["a",{href:t.href,title:t.title,target:t.target},0]}},i={parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}},a={parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return"normal"!==e.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return["strong",0]}},s={code:{parseDOM:[{tag:"code"}],toDOM:function(){return["code",0]}}},c={excludes:"superscript",parseDOM:[{tag:"sub"},{style:"vertical-align=sub"}],toDOM:function(){return["sub"]}},l={attrs:{color:""},inline:!0,group:"inline",parseDOM:[{style:"color",getAttrs:function(e){return{color:e}}}],toDOM:function(e){var t=e.attrs.color,n="";return t&&(n+="color: ".concat(t,";")),["span",{style:n},0]}},u=(n(21466),n(762850),n(462773),n(656523)),d=n.n(u),f=n(842032),p=n.n(f),h=n(70332),v=/([\d.]+)(px|pt)/i;function m(e){var t=function(e){var t=e.match(v);if(!t)return 0;var n=parseFloat(t[1]),r=t[2];return n&&r?("px"===r&&(n*=.7518796992481203),n):0}(e);return h.includes(t)?t:h.reduce((function(e,n){return d()(n-t)<d()(e-t)?n:e}),p())}var g={link:o,code:s,em:i,fontSize:{attrs:{pt:{default:null}},inline:!0,group:"inline",parseDOM:[{style:"font-size",getAttrs:function(e){var t={};if(!e)return t;var n=m(e);if(!n)return t;return{pt:n}}}],toDOM:function(e){var t=e.attrs.pt;return["span",t?{style:"font-size: ".concat(t,"pt;"),class:"pm-font-size-mark"}:null,0]}},strikethrough:{parseDOM:[{tag:"strike"},{style:"text-decoration:line-through"},{style:"text-decoration-line:line-through"}],toDOM:function(){return["strike"]}},strong:a,subscript:c,superscript:{excludes:"subscript",parseDOM:[{tag:"sup"},{style:"vertical-align=super"}],toDOM:function(){return["sup"]}},textColor:l,underline:{parseDOM:[{tag:"u"},{style:"text-decoration:underline",getAttrs:function(e){return"underline"===e&&null}}],toDOM:function(){return["u",0]}}},Z=(n(627476),n(95767),n(898837),n(694882),n(298351),n(151119)),y=n(603423),b=(n(798184),n(39115),n(296253),n(856997),n(991181),/(left|right|center|justify)/),w="data-indent",_=new Set(["","0%","0pt","0px"]);function O(e){var t=e.style,n=t.textAlign,r=t.paddingTop,o=t.paddingBottom,i=e.getAttribute("align")||n||"";return{align:i=b.test(i)?i:null,indent:parseInt(e.getAttribute(w),10),paddingTop:r,paddingBottom:o,id:e.getAttribute("id")||""}}function k(e){var t=e.attrs,n=t.align,r=t.indent,o=t.paddingTop,i=t.paddingBottom,a=t.id,s={},c="";return n&&"left"!==n&&(c+="text-align: ".concat(n,";")),o&&!_.has(o)&&(c+="padding-top: ".concat(o,";")),i&&!_.has(i)&&(c+="padding-bottom: ".concat(i,";")),c&&(s.style=c),r&&(s["data-indent"]=String(r)),a&&(s.id=a),["p",s,0]}var x=k,S=O,C={attrs:{align:{default:null},color:{default:null},id:{default:null},indent:{default:null},lineSpacing:{default:null},paddingBottom:{default:null},paddingTop:{default:null}},content:"inline*",group:"block",parseDOM:[{tag:"p",getAttrs:O}],toDOM:k};function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,Z.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R={H1:1,H2:2,H3:3,H4:4,H5:5,H6:6};function M(e){var t=S(e),n=R[e.nodeName.toUpperCase()]||1;return t.level=n,t}var N=E(E({},C),{},{attrs:E(E({},C.attrs),{},{level:{default:1}}),content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:M},{tag:"h2",getAttrs:M},{tag:"h3",getAttrs:M},{tag:"h4",getAttrs:M},{tag:"h5",getAttrs:M},{tag:"h6",getAttrs:M}],toDOM:function(e){var t=x(e),n=e.attrs.level||1;return t[0]="h".concat(n),t}}),T={group:"inline",content:"inline*",inline:!0,atom:!0,toDOM:function(){return["footnote",0]},parseDOM:[{tag:"footnote"}]};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,Z.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=A(A({},C),{},{attrs:A({},C.attrs),content:"inline*",group:"block",defining:!0,toDOM:function(e){var t=x(e);return t[0]="legend",t[1].class="figure-caption",t},parseDOM:[{tag:"legend",getAttrs:function(e){return S(e)}}]});function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,Z.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=I(I({},C),{},{attrs:I({},C.attrs),content:"inline*",group:"block",defining:!0,toDOM:function(e){var t=x(e);return t[0]="legend",t[1].class="table-caption",t},parseDOM:[{tag:"legend",getAttrs:function(e){return S(e)}}]}),L=/rotate\(([0-9.]+)rad\)/i,U=new Set(["0%","0pt","0px"]);function V(e){var t=e.style,n=t.cssFloat,r=t.display,o=t.marginTop,i=t.marginLeft,a=e.style,s=a.width,c=a.height,l=e.getAttribute("data-align")||e.getAttribute("align");l?l=/(left|right|center)/.test(l)?l:null:"left"!==n||r?"right"!==n||r?n||"block"!==r||(l="block"):l="right":l="left",s=s||e.getAttribute("width"),c=c||e.getAttribute("height");var u=null,d=null,f=e.parentElement;if(f instanceof HTMLElement){var p=f.style;if("inline-block"===p.display&&"hidden"===p.overflow&&p.width&&p.height&&i&&!U.has(i)&&o&&!U.has(o)&&(u={width:parseInt(p.width,10)||0,height:parseInt(p.height,10)||0,left:parseInt(i,10)||0,top:parseInt(o,10)||0}),p.transform){var h=p.transform.match(L);h&&h[1]&&(d=parseFloat(h[1])||null)}}return{align:l,alt:e.getAttribute("alt")||null,crop:u,height:parseInt(c,10)||null,rotate:d,src:e.getAttribute("src")||null,title:e.getAttribute("title")||null,width:parseInt(s,10)||null}}var F=V,H={inline:!0,attrs:{align:{default:null},alt:{default:"An inserted image"},crop:{default:null},height:{default:null},rotate:{default:null},src:{default:null},title:{default:"None"},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:V}],toDOM:function(e){return["img",e.attrs]}};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){(0,Z.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K={attrs:{src:{},plotID:{default:null},align:{default:null},alt:{default:""},crop:{default:null},title:{default:""},meta:{default:null},width:{default:null},height:{default:null},rotate:{default:null}},inline:!0,group:"inline",draggable:!0,toDOM:function(e){return["div",{class:"img-container","data-plot-id":e.attrs.plotID,align:e.attrs.align},["img",{src:e.attrs.src,align:e.attrs.align,alt:e.attrs.alt,crop:e.attrs.crop,title:e.attrs.title,width:e.attrs.width,height:e.attrs.height,rotate:e.attrs.rotate}],["pre",{class:"img-tooltip"},e.attrs.meta]]},parseDOM:[{priority:51,tag:"div[data-plot-id]",getAttrs:function(e){var t=e.getAttribute("data-plot-id"),n=e.firstChild,r=F(n),o=e.lastChild.innerText;return G(G({},r),{},{meta:o,plotID:t})}}]};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,Z.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $={attrs:{src:{},plotID:{default:null},align:{default:null},alt:{default:""},crop:{default:null},title:{default:""},meta:{default:null},width:{default:null},height:{default:null},rotate:{default:null}},inline:!0,group:"inline",draggable:!0,toDOM:function(e){return["div",{class:"img-container","data-plot-id":e.attrs.plotID,align:e.attrs.align},["img",{src:e.attrs.src,align:e.attrs.align,alt:e.attrs.alt,crop:e.attrs.crop,title:e.attrs.title,width:e.attrs.width,height:e.attrs.height,rotate:e.attrs.rotate}],["pre",{class:"img-tooltip"},e.attrs.meta]]},parseDOM:[{priority:51,tag:"img[data-plot-id]",getAttrs:function(e){var t=e.getAttribute("align"),n=e.getAttribute("width"),r=F(e);t||(r.align="center"),n||(r.width=550);var o=e.getAttribute("data-plot-id"),i=e.getAttribute("data-plot-meta");return J(J({},r),{},{meta:i,plotID:o})}}]},Y={content:"block+"},X={content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}},Q={group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["hr"]}},ee={content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return["pre",["code",0]]}},te={group:"inline"},ne={inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}},re=n(414256);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,Z.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,Z.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){(0,Z.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var de=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){(0,Z.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({doc:Y,plot:$,plotContainer:K,footnote:T,paragraph:C,ordered_list:ie(ie({},re.dq),{},{content:"list_item+",group:"block"}),bullet_list:se(se({},re.iI),{},{content:"list_item+",group:"block"}),list_item:le(le({},re.qb),{},{content:"paragraph block*",group:"block"}),blockquote:X,horizontal_rule:Q,heading:N,code_block:ee,text:te,image:H,hard_break:ne,figureCaption:j,tableCaption:z},(0,y.tableNodes)({tableGroup:"block",cellContent:"block+"})),fe=new r.Schema({nodes:de,marks:g})},925161:function(e,t,n){"use strict";n.d(t,{tk:function(){return g},be:function(){return Z}});n(382139);var r=n(264659),o=n(673989),i=n(175663),a=n(750591),s=n(575630),c=(n(319371),n(52310),n(762850),n(462773),n(516037)),l=n(506565);function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.Z)(e);if(t){var o=(0,s.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.Z)(this,n)}}var d={name:"SelectionPlaceholderPlugin"},f=null,p={state:{init:function(){return l.EH.empty},apply:function(e,t){t=t.map(e.mapping,e.doc);var n=e.getMeta(this);if(!n)return t;if(n.add){var r=l.p.inline(n.add.from,n.add.to,{class:"selection-placeholder"},{id:d});t=t.add(e.doc,[r])}else if(n.remove){var o=t.find(null,null,v);t=t.remove(o)}return t}},props:{decorations:function(e){return f?f.getState(e):null}}},h=function(e){(0,i.Z)(n,e);var t=u(n);function n(){var e;return(0,r.Z)(this,n),e=t.call(this,p),f?(0,a.Z)(e,f):(f=(0,o.Z)(e),e)}return n}(c.Plugin);function v(e){return e.id===d}function m(e){if(!f)return null;if(!e.plugins.includes(f))return null;var t=f.getState(e).find(null,null,v);return(t.length?t[0]:null)||null}function g(e,t){t=t||e.tr;var n=f;return n&&t.selection&&!t.selection.empty?(null===m(e)&&(t=t.setMeta(n,{add:{from:t.selection.from,to:t.selection.to}})),t):t}function Z(e,t){t=t||e.tr;var n=f;return n?(m(e)&&(t=t.setMeta(n,{remove:{}})),t):t}t.ZP=h},70698:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(858255),o=(n(95767),n(530522),n(39115),n(296253),n(856997),n(991181),n(111246),n(440856),n(202784)),i=n(928316),a=(n(382139),n(607560)),s=n(264659),c=n(904730),l=n(673989),u=n(175663),d=n(750591),f=n(575630),p=n(151119),h=(n(850110),n(6059),n(574315)),v=(n(388416),n(798184),n(615581)),m=n(69348),g=n.n(m);function Z(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b={x:-1e4,y:-1e4,w:0,h:0},w=new(function(){function e(){var t=this;(0,s.Z)(this,e),(0,p.Z)(this,"_bridges",new Map),(0,p.Z)(this,"_positions",new Map),(0,p.Z)(this,"_mx",0),(0,p.Z)(this,"_my",0),(0,p.Z)(this,"_rafID",0),(0,p.Z)(this,"_onScroll",(function(){t._rafID&&cancelAnimationFrame(t._rafID),t._rafID=requestAnimationFrame(t._syncPosition)})),(0,p.Z)(this,"_onResize",(function(e){t._rafID&&cancelAnimationFrame(t._rafID),t._rafID=requestAnimationFrame(t._syncPosition)})),(0,p.Z)(this,"_onMouseChange",(function(e){t._mx=Math.round(e.clientX),t._my=Math.round(e.clientY),t._rafID&&cancelAnimationFrame(t._rafID),t._rafID=requestAnimationFrame(t._syncPosition)})),(0,p.Z)(this,"_onClick",(function(e){var n,r,o=Date.now(),i=Z(t._bridges);try{for(i.s();!(r=i.n()).done;){var a=(0,h.Z)(r.value,2),s=a[0];if(o-a[1]>350){var c=s.getDetails();c.modal&&c.autoDismiss&&(n=c)}}}catch(m){i.e(m)}finally{i.f()}if(n){var l=n,u=l.body,d=l.close,f=(0,v.mv)(e.clientX,e.clientY,1),p=u?(0,v.hs)(u):null;p&&(0,v.vY)(f,p)||d()}})),(0,p.Z)(this,"_syncPosition",(function(){t._rafID=0;var e,n=new Map,r=Z(t._bridges);try{for(r.s();!(e=r.n()).done;){var o=(0,h.Z)(e.value,2),i=o[0],a=(o[1],i.getDetails());n.set(i,a);var s=a.anchor,c=a.body;c instanceof HTMLElement&&(a.bodyRect=(0,v.hs)(c)),s instanceof HTMLElement&&(a.anchorRect=(0,v.hs)(s))}}catch(Q){r.e(Q)}finally{r.f()}var l,u=(0,v.mv)(t._mx,t._my,2),d=new Set,f=Z(n);try{for(f.s();!(l=f.n()).done;){var p=(0,h.Z)(l.value,2),m=p[0],y=p[1],w=y.anchor,_=y.bodyRect,O=y.anchorRect,k=y.position,x=y.body;if(_||O){var S=k(O,_),C=S.x,P=S.y,E="".concat(C,"-").concat(P);if(x&&_&&t._positions.get(m)!==E){var R=O?g()(0,O.x-C+O.w/2,_.w-O.w/2):0;t._positions.set(m,E);var M=x.style;M.position="absolute",M.left="".concat(C,"px"),M.top="".concat(P,"px"),M.setProperty("--editor-pop-up-anchor-offset-left","".concat(R,"px")),_.x=C,_.y=P}((0,v.vY)(u,_||b,0)||(0,v.vY)(u,O||b,0))&&w&&d.add(w)}}}catch(Q){f.e(Q)}finally{f.f()}for(;;){var N,T=d.size,D=Z(n);try{for(D.s();!(N=D.n()).done;){var A,j=(0,h.Z)(N.value,2),B=(j[0],j[1]),I=B.anchor,z=B.body,L=Z(d);try{for(L.s();!(A=L.n()).done;){var U=A.value;I&&z&&!d.has(I)&&z.contains(U)&&d.add(I)}}catch(Q){L.e(Q)}finally{L.f()}}}catch(Q){D.e(Q)}finally{D.f()}if(d.size===T)break}var V,F=Date.now(),H=Z(t._bridges);try{for(H.s();!(V=H.n()).done;){var W=(0,h.Z)(V.value,2),G=W[0],K=W[1],q=n.get(G);if(q){var J=q.autoDismiss,$=q.anchor,Y=q.close,X=q.modal;J&&!X&&F-K>350&&!d.has($)&&Y()}}}catch(Q){H.e(Q)}finally{H.f()}}))}return(0,c.Z)(e,[{key:"register",value:function(e){this._bridges.set(e,Date.now()),this._positions.set(e,null),1===this._bridges.size&&this._observe(),this._rafID=requestAnimationFrame(this._syncPosition)}},{key:"unregister",value:function(e){this._bridges.delete(e),this._positions.delete(e),0===this._bridges.size&&this._unobserve(),this._rafID&&cancelAnimationFrame(this._rafID)}},{key:"_observe",value:function(){document.addEventListener("mousemove",this._onMouseChange,!1),document.addEventListener("mouseup",this._onMouseChange,!1),document.addEventListener("click",this._onClick,!1),window.addEventListener("scroll",this._onScroll,!0),window.addEventListener("resize",this._onResize,!0)}},{key:"_unobserve",value:function(){document.removeEventListener("mousemove",this._onMouseChange,!1),document.removeEventListener("mouseup",this._onMouseChange,!1),document.removeEventListener("click",this._onClick,!1),window.removeEventListener("scroll",this._onScroll,!0),window.removeEventListener("resize",this._onResize,!0),this._rafID&&cancelAnimationFrame(this._rafID)}}]),e}()),_=n(59821),O=n(427249);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.Z)(e);if(t){var o=(0,f.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.Z)(this,n)}}var x=(0,O.Z)("popup"),S=function(e){(0,u.Z)(n,e);var t=k(n);function n(e){var r;return(0,s.Z)(this,n),r=t.call(this,e),(0,p.Z)((0,l.Z)(r),"_getDetails",(function(){var e=r.props,t=e.close,n=e.popUpParams,o=n.anchor,i=n.autoDismiss,a=n.position,s=n.modal;return{anchor:o,autoDismiss:!1!==i,body:document.getElementById(r._id),close:t,modal:!0===s,position:a||(s?_.Oi:_.SC)}})),r._bridge=null,r._id=x(),r}return(0,c.Z)(n,[{key:"componentDidMount",value:function(){this._bridge={getDetails:this._getDetails},w.register(this._bridge)}},{key:"componentWillUnmount",value:function(){this._bridge&&w.unregister(this._bridge)}},{key:"render",value:function(){var e=this.props,t=e.View,n=e.viewProps,i=e.close;return(0,r.Z)("div",{"data-pop-up-id":this._id,id:this._id},void 0,o.createElement(t,(0,a.Z)({},n||{},{close:i})))}}]),n}(o.PureComponent),C=(0,O.Z)("create-popup"),P=0,E=0,R="pop-up-modal-mask-"+C();function M(){var e=document.getElementById(R);e&&e.parentElement&&e.parentElement.removeChild(e)}function N(e,t,n,r){var o=n&&n.container||document.body||document.documentElement,i=document.getElementById(e);if(!i&&t&&(i=document.createElement("div")),!i)return null;n&&n.modal&&i.setAttribute("data-pop-up-modal","y"),i.className="pop-up-element vars",i.id=e;var a=i.style,s=n&&n.modal?1:0;return n&&n.container||(a.zIndex=1005+3*E+s),r&&(a.zIndex+=r),i.setAttribute("role","dialog"),i.setAttribute("aria-modal","true"),o&&!i.parentElement&&o.appendChild(i),i}function T(e,t,o,a,s){var c=0,l=document.getElementsByClassName("editorview-wrapper fullscreen");n.g.DOM=l,l[0]&&(c+=1e3);var u=N(e,!0,s,c);if(u){var d=(0,r.Z)(S,{View:o,close:t,popUpParams:s,viewProps:a});i.render(d,u)}P>0?function(){var e=document.body||document.documentElement,t=document.getElementById(R);t||((t=document.createElement("div")).id=R,t.className="pop-up-modal-mask",t.setAttribute("data-mask-type","pop-up-modal-mask"),t.setAttribute("role","dialog"),t.setAttribute("aria-modal","true")),e&&!t.parentElement&&e.appendChild(t);var n=t.style,r=Array.from(document.querySelectorAll(".pop-up-element[data-pop-up-modal]")).reduce((function(e,t){return Math.max(e,Number(t.style.zIndex))}),0);n.zIndex=r-1}():M()}function D(e,t,n){var r=C(),o=null,a=t;t=t||{};var s=(n=n||{}).modal||!n.anchor;n.modal=s,E++,s&&P++;var c=function(e){if(o){s&&P--,E--,o=null,function(e){var t=N(e,!1);t&&(i.unmountComponentAtNode(t),t.parentElement&&t.parentElement.removeChild(t)),0===P&&M()}(r);var t=n&&n.onClose;t&&t(e)}},l=T.bind(null,r,c,e),u={};return o={close:c,update:function(e){l((a=e)||u,n||u)}},l(a||u,n||u),o}},273783:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});n(382139);var r=n(858255),o=n(607560),i=n(454530),a=n(264659),s=n(904730),c=n(175663),l=n(750591),u=n(575630),d=n(673989),f=n(151119),p=n(72779),h=n.n(p),v=n(202784),m=n(171696);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var Z=function(e){(0,c.Z)(n,e);var t=g(n);function n(e){var r;return(0,a.Z)(this,n),r=t.call(this,e),(0,f.Z)((0,d.Z)(r),"_onMouseEnter",(function(e){r._pressedTarget=null,e.preventDefault();var t=r.props,n=t.onMouseEnter,o=t.value;n&&n(o,e)})),(0,f.Z)((0,d.Z)(r),"_onMouseLeave",(function(e){r._pressedTarget=null;var t=e;r._onMouseUpCapture(t)})),(0,f.Z)((0,d.Z)(r),"_onMouseDown",(function(e){e.preventDefault(),r._pressedTarget=null,r._clicked=!1,3!==e.which&&2!==e.button&&(r.setState({pressed:!0}),r._pressedTarget=e.currentTarget,r._clicked=!1,r._mul||(document.addEventListener("mouseup",r._onMouseUpCapture,!0),r._mul=!0))})),(0,f.Z)((0,d.Z)(r),"_onMouseUp",(function(e){if(e.preventDefault(),r._clicked||"keypress"===e.type){var t=r.props,n=t.onClick,o=t.value;!t.disabled&&n&&n(o,e)}r._pressedTarget=null,r._clicked=!1})),(0,f.Z)((0,d.Z)(r),"_onMouseUpCapture",(function(e){r._mul&&(r._mul=!1,document.removeEventListener("mouseup",r._onMouseUpCapture,!0));var t=e.target;r._clicked=r._pressedTarget instanceof HTMLElement&&t instanceof HTMLElement&&(t===r._pressedTarget||t.contains(r._pressedTarget)||r._pressedTarget.contains(t)),r.setState({pressed:!1})})),r._clicked=!1,r._mul=!1,r._pressedTarget=null,r._unmounted=!1,r.state={pressed:!1},r}return(0,s.Z)(n,[{key:"componentWillUnmount",value:function(){this._unmounted=!0,this._mul&&(this._mul=!1,document.removeEventListener("mouseup",this._onMouseUpCapture,!0))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.disabled,o=e.active,i=e.id,a=e.style,s=e.title,c=e.children,l=this.state.pressed,u=h()(t,{active:o,disabled:n,pressed:l});return(0,r.Z)("span",{"aria-disabled":n,"aria-pressed":l,className:u,disabled:n,id:i,onKeyPress:n?m.Z:this._onMouseUp,onMouseDown:n?m.Z:this._onMouseDown,onMouseEnter:n?m.Z:this._onMouseEnter,onMouseLeave:n?null:this._onMouseLeave,onMouseUp:n?m.Z:this._onMouseUp,role:"button",style:a,tabIndex:n?null:0,title:s},void 0,c)}}]),n}(v.PureComponent),y=n(427249),b=n(70698),w=n(59821);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var O=(0,y.Z)("tooltip-surface"),k=function(e){(0,c.Z)(n,e);var t=_(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props.tooltip;return(0,r.Z)("div",{className:"editor-tooltip-view editor-animation-fade-in"},void 0,e)}}]),n}(v.PureComponent),x=function(e){(0,c.Z)(n,e);var t=_(n);function n(e){var r;return(0,a.Z)(this,n),r=t.call(this,e),(0,f.Z)((0,d.Z)(r),"_onMouseEnter",(function(){if(!r._popUp){var e=r.props.tooltip;r._popUp=(0,b.Z)(k,{tooltip:e},{anchor:document.getElementById(r._id),onClose:r._onClose,position:w.lS})}})),(0,f.Z)((0,d.Z)(r),"_onMouseLeave",(function(){r._popUp&&r._popUp.close(),r._popUp=null})),(0,f.Z)((0,d.Z)(r),"_onClose",(function(){r._popUp=null})),r._id=O(),r._popUp=null,r}return(0,s.Z)(n,[{key:"componentWillUnmount",value:function(){this._popUp&&this._popUp.close()}},{key:"render",value:function(){var e=this.props,t=e.tooltip,n=e.children;return(0,r.Z)("span",{"aria-label":t,className:"editor-tooltip-surface","data-tooltip":t,id:this._id,onMouseDown:t&&this._onMouseLeave,onMouseEnter:t&&this._onMouseEnter,onMouseLeave:t&&this._onMouseLeave,role:"tooltip"},void 0,n)}}]),n}(v.PureComponent);function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var o=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var C=function(e){(0,c.Z)(n,e);var t=S(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.icon,n=e.label,a=e.className,s=e.title,c=(0,i.Z)(e,["icon","label","className","title"]),l=h()(a,"editor-custom-button",{"use-icon":!!t});return(0,r.Z)(x,{tooltip:s},void 0,v.createElement(Z,(0,o.Z)({},c,{className:l}),t,n))}}]),n}(v.PureComponent)},291798:function(e,t,n){"use strict";n.d(t,{Z:function(){return _e}});n(382139),n(627476),n(95767),n(898837),n(694882),n(298351);var r=n(417760),o=n(858255),i=n(56470),a=n(264659),s=n(904730),c=n(673989),l=n(175663),u=n(750591),d=n(575630),f=n(151119),p=(n(319371),n(977162)),h=n.n(p),v=n(72779),m=n.n(v),g=n(202784),Z=n(928316),y=n(427249),b=n(320765),w=(n(798184),n(39115),n(296253),n(856997),n(991181),n(850110),n(6059),n(530522),n(489375),Object.freeze({from:0,to:0}));function _(e){if(!window.getSelection)return console.warn("window.getSelection() is not supported"),w;var t=window.getSelection();if(!t.containsNode)return console.warn("selection.containsNode() is not supported"),w;if(!t.rangeCount)return w;var n=t.getRangeAt(0);if(!n)return w;var r=n.startContainer,o=n.endContainer,i=n.startOffset,a=n.endOffset;return r===e||o===e||r&&e.contains(r)||o&&e.contains(o)?{from:i,to:a}:w}var O=function(){function e(t){var n=this;(0,a.Z)(this,e),(0,f.Z)(this,"_observables",[]),(0,f.Z)(this,"_callback",null),(0,f.Z)(this,"_onClick",(function(){var e=n._callback;if(n._observables=n._observables.map((function(e){var t=e.target;return{target:t,selection:_(t)}})),e)return e(n.takeRecords(),n)})),(0,f.Z)(this,"_check",(function(){var e=!1,t=n._callback;if(n._observables=n._observables.map((function(t){var n=t.target,r=t.selection,o=_(n);return r===o||r.from===o.from&&r.to===o.to?t:(e=!0,{target:n,selection:o})})),e&&t)return t(n.takeRecords(),n)})),this._callback=t}return(0,s.Z)(e,[{key:"disconnect",value:function(){var e=this;this._observables.forEach((function(t){var n=t.target;n.removeEventListener("click",e._check,!1),n.removeEventListener("selectionchange",e._check,!1)})),this._observables=[]}},{key:"observe",value:function(e){if(window.getSelection){if(!this._observables.some((function(t){return t.target===e}))){var t={target:e,selection:_(e)};e.addEventListener("click",this._check,!1),e.addEventListener("selectionchange",this._check,!1),this._observables.push(t)}}else console.warn("window.getSelection() is not supported")}},{key:"takeRecords",value:function(){return this._observables.slice(0)}}]),e}();function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P="ProseMirror-selectednode",E=new Set,R=new Set;var M,N=new O((function(e,t){if(!window.getSelection)return console.warn("window.getSelection() is not supported"),void t.disconnect();var n=window.getSelection();if(!n.containsNode)return console.warn("selection.containsNode() is not supported"),void t.disconnect();var r,o=S(E);try{for(o.s();!(r=o.n()).done;){var i=r.value,a=i.dom;n.containsNode(a)?i.selectNode():i.deselectNode()}}catch(s){o.e(s)}finally{o.f()}0===E.size&&t.disconnect()})),T=new MutationObserver((function(e,t){var n=document.body;if(n){var r,o=[],i=S(R);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=a.dom;n.contains(s)&&(R.delete(a),o.push(a),a.__renderReactComponent())}}catch(d){i.e(d)}finally{i.f()}var c,l=S(E);try{for(l.s();!(c=l.n()).done;){var u=c.value.dom;n.contains(u)||(E.delete(u),Z.unmountComponentAtNode(u))}}catch(d){l.e(d)}finally{l.f()}o.forEach((function(e){return E.add(e)})),0===E.size&&t.disconnect()}})),D=function(){function e(t,n,r,o){(0,a.Z)(this,e),this.props={decorations:o,editorView:n,getPos:r,node:t,selected:!1,focused:!1},R.add(this);var i=this.createDOMElement();this.dom=i,this._selected=null,i.onClick=this._onClick,1===R.size&&(T.observe(document,{childList:!0,subtree:!0}),N.observe(document))}return(0,s.Z)(e,[{key:"update",value:function(e,t){return this.props=x(x({},this.props),{},{node:e}),this.__renderReactComponent(),!0}},{key:"stopEvent",value:function(){return!1}},{key:"selectNode",value:function(){this._selected=!0,this.dom.classList.add(P),this.__renderReactComponent()}},{key:"deselectNode",value:function(){this._selected=!1,this.dom.classList.remove(P),this.__renderReactComponent()}},{key:"createDOMElement",value:function(){throw new Error("not implemented")}},{key:"renderReactComponent",value:function(){throw new Error("not implemented")}},{key:"destroy",value:function(){}},{key:"__renderReactComponent",value:function(){var e=this.props,t=e.editorView,n=e.getPos;if(t.state&&t.state.selection){var r=t.state.selection.from,o=n();this.props.selected=this._selected,this.props.focused=t.focused&&o===r}else this.props.selected=!1,this.props.focused=!1;Z.render(this.renderReactComponent(),this.dom)}}]),e}(),A=n(63417),j=n.n(A),B=n(376677),I=n.n(B);function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var L="text-editor-frame-body";function U(e){return"number"==typeof e?e+"px":j()(e)?"auto":String(e)}g.PureComponent;var V=n(550171),F=n(273783);function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var W={NONE:{value:null,text:"Inline"},LEFT:{value:"left",text:"Float left"},CENTER:{value:"center",text:"Center"},RIGHT:{value:"right",text:"Float right"}},G=function(e){(0,l.Z)(n,e);var t=H(n);function n(){var e;(0,a.Z)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),(0,f.Z)((0,c.Z)(e),"_onClick",(function(t){e.props.onSelect({align:t})})),e}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props.value?this.props.value.align:null,t=this._onClick,n=Object.keys(W).map((function(n){var r=W[n],i=r.value,a=r.text;return(0,o.Z)(F.Z,{active:e===i,label:a,onClick:t,value:i},n)}));return(0,o.Z)("div",{className:"editor-inline-editor"},void 0,n)}}]),n}(g.PureComponent),K=n(69348),q=n.n(K),J=n(614972),$=n.n(J);function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var X=(0,y.Z)("image-resize-box"),Q=20,ee={top:ne,top_right:re,right:te,bottom_right:re,bottom:ne,bottom_left:re,left:te,top_left:re};function te(e,t,n){e.style.width=t+"px"}function ne(e,t,n){e.style.height=n+"px"}function re(e,t,n){e.style.width=Math.round(t)+"px",e.style.height=Math.round(n)+"px"}var oe=function(e){(0,l.Z)(n,e);var t=Y(n);function n(e){var r;return(0,a.Z)(this,n),r=t.call(this,e),(0,f.Z)((0,c.Z)(r),"_syncSize",(function(){if(r._active){var e=r.props,t=e.direction,n=e.width,o=e.height,i=(r._x2-r._x1)*(/left/.test(t)?-1:1),a=(r._y2-r._y1)*(/top/.test(t)?-1:1),s=r._el;if($()(s))throw new Error("Encountered an error: `el` should not be null.");var c=ee[t];if($()(c))throw new Error("Encountered an error: `fn` should not be null.");var l=n/o,u=q()(Q,n+Math.round(i),1e4),d=q()(Q,o+Math.round(a),1e4);c===re&&(u=(d=Math.max(u/l,Q))*l),c(s,Math.round(u),Math.round(d)),r._ww=u,r._hh=d}})),(0,f.Z)((0,c.Z)(r),"_onMouseDown",(function(e){e.preventDefault(),e.stopPropagation(),r._end(),r._start(e)})),(0,f.Z)((0,c.Z)(r),"_onMouseMove",(function(e){e.preventDefault(),e.stopPropagation(),r._x2=e.clientX,r._y2=e.clientY,r._rafID=requestAnimationFrame(r._syncSize)})),(0,f.Z)((0,c.Z)(r),"_onMouseUp",(function(e){e.preventDefault(),e.stopPropagation(),r._x2=e.clientX,r._y2=e.clientY;var t=r.props.direction,n=r._el;if($()(n))throw new Error("Encountered an error: `el` should not be null.");n.classList.remove(t),r._end(),r.props.onResizeEnd(r._ww,r._hh)})),r._active=!1,r._el=null,r._h="",r._rafID=0,r._w="",r._x1=0,r._x2=0,r._y1=0,r._y2=0,r._ww=0,r._hh=0,r}return(0,s.Z)(n,[{key:"componentWillUnmount",value:function(){this._end()}},{key:"_start",value:function(e){this._active&&this._end(),this._active=!0;var t=this.props,n=t.boxID,r=t.direction,o=t.width,i=t.height,a=document.getElementById(n);if($()(a))throw new Error("Encountered an error: `el` should not be null.");a.className+=" "+r,this._el=a,this._x1=e.clientX,this._y1=e.clientY,this._x2=this._x1,this._y2=this._y1,this._w=this._el.style.width,this._h=this._el.style.height,this._ww=o,this._hh=i,document.addEventListener("mousemove",this._onMouseMove,!0),document.addEventListener("mouseup",this._onMouseUp,!0)}},{key:"_end",value:function(){if(this._active){this._active=!1,document.removeEventListener("mousemove",this._onMouseMove,!0),document.removeEventListener("mouseup",this._onMouseUp,!0);var e=this._el;if($()(e))throw new Error("Encountered an error: `el` should not be null.");e.style.width=this._w,e.style.height=this._h,e.className="editor-image-resize-box",this._el=null,this._rafID&&cancelAnimationFrame(this._rafID),this._rafID=null}}},{key:"render",value:function(){var e=this.props.direction,t=m()((0,f.Z)({"editor-image-resize-box-control":!0},e,!0));return(0,o.Z)("span",{role:"button",tabIndex:-1,className:t,onMouseDown:this._onMouseDown})}}]),n}(g.PureComponent),ie=function(e){(0,l.Z)(n,e);var t=Y(n);function n(e){var r;return(0,a.Z)(this,n),(r=t.call(this,e))._id=X(),r}return(0,s.Z)(n,[{key:"render",value:function(){var e=this.props,t=e.onResizeEnd,n=e.width,r=e.height,i=e.src,a={height:r+"px",width:n+"px"},s=this._id,c=Object.keys(ee).map((function(e){return(0,o.Z)(oe,{boxID:s,config:ee[e],direction:e,height:r,onResizeEnd:t,width:n},e)}));return(0,o.Z)("span",{className:"editor-image-resize-box",id:s,style:a},void 0,c,(0,o.Z)("img",{className:"editor-image-resize-box-image",alt:"Resize Box",src:i}))}}]),n}(g.PureComponent),ae=n(59821),se=(n(388416),n(297209)),ce=null,le=new Map;function ue(e){e.forEach(de)}function de(e){var t=e.target,n=le.get(t);n&&n.forEach((function(t){return t(e)}))}var fe={observe:function(e,t){var n=e,r=ce||(ce=new se.default(ue));if(le.has(n)){var o=le.get(n);if($()(o))throw new Error("Encountered an error: callbacks are missing.");o.push(t)}else{var i=[t];le.set(n,i),r.observe(n)}},unobserve:function(e,t){var n=ce;if(n){var r=e;if(n.unobserve(r),t){var o=null;if(le.has(r)){if(o=le.get(r),$()(o))throw new Error("Encountered an error: callbacks are missing.");o=o.filter((function(e){return e!==t}))}o&&o.length?le.set(r,o):le.delete(r)}else le.delete(r);le.size||(n.disconnect(),ce=null)}}},pe=n(70698),he=n(304600);function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){(0,f.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.Z)(e);if(t){var o=(0,d.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,u.Z)(this,n)}}var Ze=(0,y.Z)("image-node-view"),ye=1e5,be={src:"",complete:!1,height:0,width:0};var we=function(e){(0,l.Z)(n,e);var t=ge(n);function n(e){var r;return(0,a.Z)(this,n),r=t.call(this,e),(0,f.Z)((0,c.Z)(r),"_resolveOriginalSize",(0,i.Z)(h().mark((function e(){var t,n,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r._mounted){e.next=2;break}return e.abrupt("return");case 2:return r.setState({originalSize:be}),t=r.props.node.attrs.src,n=t,e.next=7,(0,he.Z)(n);case 7:if(o=e.sent,r._mounted){e.next=10;break}return e.abrupt("return");case 10:if(r.props.node.attrs.src===t){e.next=12;break}return e.abrupt("return");case 12:o.complete||(o.width=Q,o.height=Q),r.setState({originalSize:o});case 14:case"end":return e.stop()}}),e)})))),(0,f.Z)((0,c.Z)(r),"_onResizeEnd",(function(e,t){var n=r.props,o=n.getPos,i=n.node,a=n.editorView,s=o(),c=me(me({},i.attrs),{},{crop:null,width:e,height:t}),l=a.state.tr,u=a.state.selection;l=(l=l.setNodeMarkup(s,null,c)).setSelection(u.map(l.doc,l.mapping)),a.dispatch(l)})),(0,f.Z)((0,c.Z)(r),"_onChange",(function(e){if(r._mounted){var t=e?e.align:null,n=r.props,o=n.getPos,i=n.node,a=n.editorView,s=o(),c=me(me({},i.attrs),{},{align:t}),l=a.state.tr,u=a.state.selection;l=(l=l.setNodeMarkup(s,null,c)).setSelection(u.map(l.doc,l.mapping)),a.dispatch(l)}})),(0,f.Z)((0,c.Z)(r),"_onBodyRef",(function(e){if(e){r._body=e;var t=Z.findDOMNode(e);t instanceof HTMLElement&&fe.observe(t,r._onBodyResize)}else{var n=r._body&&Z.findDOMNode(r._body);n instanceof HTMLElement&&fe.unobserve(n),r._body=null}})),(0,f.Z)((0,c.Z)(r),"_onBodyResize",(function(e){var t=r._body?function(e){for(var t=e.parentElement;t&&!t.offsetParent;)t=t.parentElement;if(t&&t.offsetParent&&t.offsetParent.offsetWidth&&t.offsetParent.offsetWidth>0){var n=t.offsetParent,r=e.ownerDocument.defaultView.getComputedStyle(n),o=n.clientWidth-4;return"border-box"===r.boxSizing&&(o-=parseInt(r.paddingLeft,10)+parseInt(r.paddingRight,10)),Math.max(o,Q)}return ye}(Z.findDOMNode(r._body)):ye;r.setState({maxSize:{width:t,height:ye,complete:!!r._body}})})),r._body=null,r._id=Ze(),r._inlineEditor=null,r._mounted=!1,r.state={maxSize:{width:ye,height:ye,complete:!1},originalSize:be},r}return(0,s.Z)(n,[{key:"componentDidMount",value:function(){this._mounted=!0,this._resolveOriginalSize(),this._renderInlineEditor()}},{key:"componentDidUpdate",value:function(e){e.node.attrs.src!==this.props.node.attrs.src&&this._resolveOriginalSize(),this._renderInlineEditor()}},{key:"componentWillUnmount",value:function(){this._mounted=!1,this._inlineEditor&&this._inlineEditor.close(),this._inlineEditor=null}},{key:"_renderInlineEditor",value:function(){var e=this,t=document.getElementById(this._id);if(t&&"true"===t.getAttribute("data-active")){var n={value:this.props.node.attrs,onSelect:this._onChange};this._inlineEditor?this._inlineEditor.update(n):this._inlineEditor=(0,pe.Z)(G,n,{anchor:t,autoDismiss:!1,container:t.closest?t.closest(".".concat(L)):null,position:ae.lS,onClose:function(){e._inlineEditor=null}})}else this._inlineEditor&&this._inlineEditor.close()}},{key:"render",value:function(){var e=this.state,t=e.originalSize,n=e.maxSize,r=this.props,i=r.editorView,a=r.node,s=r.selected,c=r.focused,l=i.readOnly,u=a.attrs,d=u.align,f=u.crop,p=u.rotate,h=t===be,v=!h&&c&&!l&&t.complete,Z=t.complete?t.src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",y=h?1:t.width/t.height,w=!h&&!t.complete,_=u.width,O=u.height;h&&(_=_||24,O=O||24),_&&!O?O=_/y:O&&!_?_=O*y:_||O||(_=t.width,O=t.height);var k=1;_>n.width&&(!f||f.width>n.width)&&(O=(_=n.width)/y,k=n.width/_);var x=m()("editor-image-view-body",{active:v,error:w,focused:c,loading:h,selected:s}),S=!v||f||p?null:(0,o.Z)(ie,{height:O,onResizeEnd:this._onResizeEnd,src:Z,width:_}),C={display:"inline-block",height:O+"px",left:"0",top:"0",width:_+"px",position:"relative"},P={};if(f){var E=me({},f);1!==k&&(k=n.width/E.width,E.width*=k,E.height*=k,E.left*=k,E.top*=k),P.width=E.width+"px",P.height=E.height+"px",C.left=E.left+"px",C.top=E.top+"px"}p&&(P.transform="rotate(".concat(p,"rad)"));var R=null;u.meta&&(R=(0,o.Z)("pre",{className:"img-tooltip"},void 0,u.meta));var M=w?(0,o.Z)("span",{className:"editor-image-view-error"},void 0,V.Z.error," "):null,N=w?"".concat(b.a.t("TextEditor:unable-to-load-image")," ").concat(u.src||""):void 0,T=(0,o.Z)("img",{alt:"",className:"editor-image-view-body-img","data-align":d,height:O,id:"".concat(this._id,"-img"),src:Z,width:_});return(0,o.Z)(g.Fragment,{},void 0,R,g.createElement("span",{className:x,"data-active":v?"true":void 0,"data-original-src":String(u.src),id:this._id,ref:this._onBodyRef,title:N},(0,o.Z)("span",{className:"editor-image-view-body-img-clip",style:P},void 0,(0,o.Z)("span",{style:C},void 0,M,T)),S))}}]),n}(g.PureComponent),_e=function(e){(0,l.Z)(n,e);var t=ge(n);function n(){return(0,a.Z)(this,n),t.apply(this,arguments)}return(0,s.Z)(n,[{key:"createDOMElement",value:function(){var e=this,t=document.createElement("span");return t.className="editor-image-view",t.addEventListener("dragstart",(function(t){var n=document.createElement("img");n.src=e.props.node.attrs.src,t.dataTransfer.setDragImage(n,0,0)}),!1),this._updateDOM(t),t}},{key:"update",value:function(e,t){return(0,r.Z)((0,d.Z)(n.prototype),"update",this).call(this,e,t),this._updateDOM(this.dom),!0}},{key:"renderReactComponent",value:function(){return g.createElement(we,this.props)}},{key:"_updateDOM",value:function(e){var t=this.props.node.attrs.align,n="editor-image-view";t&&(n+=" align-"+t),e.className=n}}]),n}(D)},111057:function(e,t,n){"use strict";n(382139);var r=n(858255),o=n(264659),i=n(904730),a=n(673989),s=n(175663),c=n(750591),l=n(575630),u=n(151119),d=n(202784),f=n(320765),p=n(871685),h=n(273783),v=n(171696);function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var g=/\s/,Z=function(e){(0,s.Z)(n,e);var t=m(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i)),(0,u.Z)((0,a.Z)(e),"state",{url:e.props.href}),(0,u.Z)((0,a.Z)(e),"_onKeyDown",(function(t){13===t.keyCode&&(t.preventDefault(),e._apply())})),(0,u.Z)((0,a.Z)(e),"_onURLChange",(function(t){var n=t.target.value;e.setState({url:n})})),(0,u.Z)((0,a.Z)(e),"_cancel",(function(){e.props.close()})),(0,u.Z)((0,a.Z)(e),"_apply",(function(){var t=e.state.url;t&&!g.test(t)&&e.props.close((0,p.Z)(t))})),e}return(0,i.Z)(n,[{key:"render",value:function(){var e=this.props.href,t=this.state.url,n=!!t&&g.test(t),o=f.a.t("TextEditor:apply"),i=!!n;return e?(o=t?f.a.t("TextEditor:apply"):f.a.t("TextEditor:remove"),i=n):i=n||!t,(0,r.Z)("div",{className:"image-url-editor"},void 0,(0,r.Z)("form",{className:"editor-form",onSubmit:v.Z},void 0,(0,r.Z)("fieldset",{},void 0,(0,r.Z)("legend",{},void 0,f.a.t("TextEditor:add-link")),(0,r.Z)("input",{autoFocus:!0,onChange:this._onURLChange,onKeyDown:this._onKeyDown,placeholder:f.a.t("TextEditor:paste-url"),spellCheck:!1,type:"text",value:t||""})),(0,r.Z)("div",{className:"editor-form-buttons"},void 0,(0,r.Z)(h.Z,{label:f.a.t("TextEditor:cancel"),onClick:this._cancel}),(0,r.Z)(h.Z,{active:!0,disabled:i,label:o,onClick:this._apply}))))}}]),n}(d.PureComponent);t.Z=Z},59821:function(e,t,n){"use strict";n.d(t,{SC:function(){return o},lS:function(){return i},Oi:function(){return a},ID:function(){return s},DL:function(){return c}});var r=n(615581);function o(e,t){var n={x:0,y:0,w:0,h:0};if(e&&t){n.x=e.x,n.y=e.y+e.h;var o=window.innerWidth,i=window.innerHeight;n.x+t.w>o&&(n.x=e.x-t.w+e.w),n.y+t.h>i&&(n.y=Math.max(e.y-t.h,2))}return e&&!(0,r.zb)(e)||(n.x=-1e4),n}function i(e,t){var n={x:0,y:0,w:0,h:0};return e&&t&&(n.x=Math.max(e.x-(t.w-e.w)/2,10),n.y=e.y+e.h),e&&!(0,r.zb)(e)||(n.x=-1e4),n}function a(e,t){var n={x:0,y:0,w:0,h:0};return t&&(n.x=(window.innerWidth-t.w)/2,n.y=(window.innerHeight-t.h)/2),t&&!(0,r.zb)(t)||(n.x=-1e4),n}function s(e,t){var n={x:0,y:0,w:0,h:0};return e&&t&&(n.x=e.x+e.w+1-t.w,n.y=e.y),e&&!(0,r.zb)(e)||(n.x=-1e4),n}function c(e,t){var n={x:0,y:0,w:0,h:0};return e&&t&&(n.x=e.x+(e.w-t.w)/2,n.y=e.y),e&&!(0,r.zb)(e)||(n.x=-1e4),n}},171696:function(e,t,n){"use strict";function r(e){e.preventDefault()}n.d(t,{Z:function(){return r}})},615581:function(e,t,n){"use strict";function r(e){return 0===e.w||0===e.h}function o(e,t,n){var r=n||0;return!(t.x-r>e.x+e.w+r||t.x+t.w+r<e.x-r||t.y-r>e.y+e.h+r||t.y+t.h+r<e.y-r)}function i(e,t,n){return{x:e-(n=n||0),y:t-n,w:2*n,h:2*n}}function a(e){if("contents"===document.defaultView.getComputedStyle(e).display&&1===e.children.length)return a(e.children[0]);var t=e.getBoundingClientRect();return{x:t.left,y:t.top,w:t.width,h:t.height}}n.d(t,{zb:function(){return r},vY:function(){return o},mv:function(){return i},hs:function(){return a}})},304600:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});n(627476),n(95767),n(898837),n(694882),n(298351);var r=n(151119),o=(n(175115),n(296253),n(940851),n(900883)),i=n(636734),a=n.n(i);var s=function(){return!!a()(window.navigator,"onLine")&&!window.navigator.onLine};function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l={},u=[];function d(){var e=u.shift();e&&function(e,t,n){var i={complete:!1,height:0,naturalHeight:0,naturalWidth:0,src:e||"",width:0};if(s())return void t(i);var a=e||"";if(!a)return void t(i);if(l[a]){var u=Object.assign({},l[a]);return void t(u)}var f,p=o.parse(a),h=p.protocol,v=p.port;if(!/(http:|https:|data:)/.test(h||window.location.protocol)||v)return void t(i);var m=function(){f&&(i.width=f.width,i.height=f.height,i.naturalWidth=f.width,i.naturalHeight=f.height,i.complete=!0),t(i),Z(),l[a]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i)},g=function(){t(i),Z()};function Z(){if(f){if(f instanceof HTMLElement){var e=f.parentNode;e&&e.removeChild(f)}f.onload=null,f.onerror=null,f=null}d()}var y=document.body;y?((f=document.createElement("img")).style.cssText="position:fixed;left:-10000000000px;width:auto;height:auto;",f.onload=m,f.onerror=g,f.src=a,y.appendChild(f)):((f=new Image).onload=m,f.onerror=g,f.src=a)}(e.src,e.resolve,e.reject)}var f=function(e){return new Promise((function(t,n){var r={src:e,resolve:t,reject:n};u.push(r),d()}))}},640987:function(e,t,n){"use strict";var r=n(264659),o=n(904730),i=n(151119),a=(n(296253),n(940851),n(630709));function s(e,t){var n=e[t];return"tr"===t&&n instanceof a.wx?n.setMeta("dryrun",!0):n}function c(e,t,n){return e[t]=n,!0}var l=function(){function e(){var t=this;(0,r.Z)(this,e),(0,i.Z)(this,"shouldRespondToUIEvent",(function(t){return t.type===e.EventType.CLICK})),(0,i.Z)(this,"active",(function(e){return!1})),(0,i.Z)(this,"enable",(function(e,n){return t.dryRun(e,n)})),(0,i.Z)(this,"dryRun",(function(e,n){var r=window.Proxy,o=r?new r(e,{get:s,set:c}):e;return t.run(o,null,n)})),(0,i.Z)(this,"run",(function(e,n,r,o){return t.waitForUserInput(e,n,r,o).then((function(o){t.executeWithUserInput(e,n,r,o)})).catch((function(e){console.error(e)})),!1})),(0,i.Z)(this,"waitForUserInput",(function(e,t,n,r){return Promise.resolve(void 0)})),(0,i.Z)(this,"executeWithUserInput",(function(e,t,n,r){return!1}))}return(0,o.Z)(e,[{key:"cancel",value:function(){}}]),e}();(0,i.Z)(l,"EventType",{CLICK:"mouseup",MOUSEENTER:"mouseenter"}),t.Z=l},781234:function(e,t,n){"use strict";n(21466);t.Z=function(e){var t=e.match(/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g),n=0;if(null===t)return n;for(var r=0;r<t.length;r++)t[r].charCodeAt(0)>=19968?n+=t[r].length:n+=1;return n}},335700:function(e,t,n){"use strict";n(95767),n(530522),n(39115),n(296253),n(856997),n(991181);var r=n(911755),o=n.n(r),i=n(268874),a=n(770290),s=o()("isle:text-editor");t.Z=function(e,t){s("Handle drop event...");var n={x:t.clientX,y:t.clientY},r=e.posAtCoords({left:n.x,top:n.y}),o=r?r.pos:null,c=t.dataTransfer;if(c&&c.files&&c.files.length>0){t.preventDefault();var l=c.files,u=Array.from(l);(0,a.q)(e,u,n)&&(0,i.wM)(e)}else(0,i.yz)(e,o)}},234648:function(e,t,n){"use strict";n.d(t,{Z:function(){return B}});var r=n(858255),o=(n(319371),n(202784)),i=n(911755),a=n.n(i),s=n(198),c=n(618589),l=n(226010),u=n(738314),d=n(836663),f=n(296781),p=n(155061),h=n(671655),v=n(150275),m=n(550171),g=(n(52310),n(141396)),Z=n(974652),y=n.n(Z),b=n(272008),w=n.n(b);var _=function(e,t,n,r){var o=t;if(e.nodeSize<=2)return null;var i=function(e){return e.type===r};for(t=y()(2,t),n=w()(n,e.nodeSize-2);o<=n;){var a=e.nodeAt(o);if(a&&a.marks){var s=a.marks.find(i);if(s)return s;o+=1}else o++}return null},O={1:26,2:20,3:18,4:15,5:12};var k,x,S,C,P,E,R,M=function(e){var t=e.schema,n=e.doc,r=e.selection,o=e.tr,i=t.marks.fontSize,a=t.nodes.heading,s=String(12);if(!i)return s;var c=r.from,l=r.to;if(r.empty){var u=(o.storedMarks||e.storedMarks||r.$cursor&&r.$cursor.marks&&r.$cursor.marks()||[]).find((function(e){return e.type===i}));return u?String(u.attrs.pt||s):s}var d=i?_(n,c,l,i):null;if(d)return String(d.attrs.pt);if(!a)return s;var f=(0,g.Tr)(a)(e.selection);if(!f)return s;var p=String(f.node.attrs.level);return O[p]||s},N=n(588714),T=JSON.parse('["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#607d8b","#000000"]'),D=a()("isle:text-editor"),A="#6e6e6e",j=function(e){return e.disabled?(0,r.Z)("button",{onMouseDown:e.onMouseDown,style:{active:e.active,color:e.active?"black":A,opacity:.2},disabled:!0,className:"menu-item","aria-label":e.t(e.title)},void 0,e.children):(0,r.Z)(v.Z,{tooltip:e.t(e.title),placement:"bottom"},"".concat(e.itemKey,"-tooltip"),(0,r.Z)("button",{onMouseDown:e.onMouseDown,style:{active:e.active,color:e.active?"black":A},className:"menu-item","aria-label":e.t(e.title)},void 0,e.children))},B=(0,s.Z)("text-editor")((function(e){var t=e.menu,n=e.children,i=e.state,a=e.dispatch,s=e.view,v=e.fullscreen,g=e.showColorPicker,Z=e.onColorChoice,y=e.t,b=function(e){return function(t){t.preventDefault(),e.run&&(D("Run command",e,t),e.run(i,a,s,t.nativeEvent))}},w=function(e,t){return(0,r.Z)(j,{itemKey:t,type:"button",active:!(!e.active||!i)&&e.active(i),disabled:!(!e.enable||!i)&&!e.enable(i),title:"string"==typeof e.title?y(e.title):"",onMouseDown:b(e),t:y},t,(0,h.isPrimitive)(e.content)?y(e.content):e.content)},_=function(e,t){return e.enable&&i&&!e.enable(i)?(0,r.Z)(p.Z,{disabled:!0},"dropdown-item-".concat(t),(0,h.isPrimitive)(e.content)?y(e.content):e.content):(0,r.Z)(p.Z,{onMouseDown:b(e)},"dropdown-item-".concat(t),(0,h.isPrimitive)(e.content)?y(e.content):e.content)},O=function(e){return e?e.map(w):null};return(0,r.Z)("div",{className:"prose-menu-bar cancel"},void 0,n,O(t.blocks),t.headers?(0,r.Z)(o.Fragment,{},void 0,(0,r.Z)(l.Z,{title:"",variant:"outline-secondary",size:"sm",style:{display:"inline-block",marginRight:4},"aria-label":"Headers"},void 0,t.headers.map(_)),k||(k=(0,r.Z)("i",{className:"prose-separator"},void 0,"|"))):null,O(t.marks),v?O(t.extraMarks):null,(0,r.Z)("div",{style:{display:g?"initial":"none",position:"absolute",top:"50px",left:"100px",zIndex:2}},void 0,(0,r.Z)(c.Z,{width:"600px",colors:T,circleSize:16,onChangeComplete:Z})),x||(x=(0,r.Z)("i",{className:"prose-separator"},void 0,"|")),t.fontSizes?(0,r.Z)(u.Z,{style:{display:"inline-block",marginLeft:4}},void 0,(0,r.Z)(f.Z,{size:"sm",variant:"outline-secondary",disabled:!i||!(0,N.Z)(i,"fontSize")},void 0,i?M(i):"12"),(0,r.Z)(d.Z,{style:{minWidth:"24px"}},void 0,t.fontSizes.map((function(e,t){return(0,r.Z)(p.Z,{style:{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3},onMouseDown:b(e)},"font-buttons-".concat(t),e.content)})))):null,O(t.wraps),v&&t.alignment?(0,r.Z)(o.Fragment,{},void 0,S||(S=(0,r.Z)("i",{className:"prose-separator"},void 0,"|")),O(t.alignment)):null,t.insert?(0,r.Z)(o.Fragment,{},void 0,C||(C=(0,r.Z)("i",{className:"prose-separator"},void 0,"|")),(0,r.Z)(l.Z,{title:m.Z.insert,variant:"outline-secondary",size:"sm",style:{display:"inline-block"},name:"Insert"},void 0,t.insert.map(_))):null,t.tableEdits?(0,r.Z)(o.Fragment,{},void 0,P||(P=(0,r.Z)("i",{className:"prose-separator"},void 0,"|")),(0,r.Z)(l.Z,{title:m.Z.table,variant:"outline-secondary",size:"sm",style:{display:"inline-block"},name:"Table"},void 0,t.tableEdits.map(_))):null,v&&t.history?(0,r.Z)(o.Fragment,{},void 0,E||(E=(0,r.Z)("i",{className:"prose-separator"},void 0,"|")),t.history.map(w)):null,t.addons?R||(R=(0,r.Z)("i",{className:"prose-separator"},void 0,"|")):null,O(t.addons))}))},505455:function(e,t,n){"use strict";var r=n(867696),o=n(828919);t.Z=function(e){var t=document.createElement("div");return t.innerHTML=e,r.DOMParser.fromSchema(o.Z).parse(t)}},205342:function(e,t,n){"use strict";var r=n(858255);n(202784);t.Z=function(e){return(0,r.Z)("div",{className:"prose-statusbar"},void 0,(0,r.Z)("span",{},void 0,e.t("words"),": ",e.nWords),(0,r.Z)("span",{style:{marginLeft:5}},void 0,e.t("characters"),": ",e.nChars))}},621150:function(e,t,n){"use strict";n(382139);var r=n(858255),o=n(264659),i=n(904730),a=n(673989),s=n(175663),c=n(750591),l=n(575630),u=n(151119),d=n(202784),f=(n(213980),n(911755)),p=n.n(f),h=n(867696),v=n(506565),m=n(516037),g=n(603423),Z=n(956842),y=n(641847),b=n.n(y),w=n(814346),_=n(234648),O=n(828919),k=n(19509),x=n(291798),S=n(268874),C=n(205342),P=n(781234),E=n(335700),R=n(505455);function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.Z)(e);if(t){var o=(0,l.Z)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,c.Z)(this,n)}}var N=p()("isle:text-editor"),T=function(e){(0,s.Z)(n,e);var t=M(n);function n(e){var r,i;(0,o.Z)(this,n),r=t.call(this,e),(0,u.Z)((0,a.Z)(r),"_createEditorView",(function(e){r.editorDiv=e,null!==e&&(r.editorView=new v.tk(e,{state:r.state.editorState,dispatchTransaction:r.dispatchTransaction,nodeViews:{footnote:function(e,t,n,r){return new k.Z(e,t,n,r)},image:function(e,t,n,r){return new x.Z(e,t,n,r)},plot:function(e,t,n,r){return new x.Z(e,t,n,r)},plotContainer:function(e,t,n,r){return new x.Z(e,t,n,r)}},handleDOMEvents:{dragenter:function(e){N("Handle drag enter event..."),(0,S.yz)(e)},drop:E.Z,keydown:r.props.onKeyDown}})),r.props.onMount(r.editorDiv)})),(0,u.Z)((0,a.Z)(r),"onEditorState",(function(e){var t=0,n=0;r.props.showStatusBar&&e.doc.forEach((function(e){e.forEach((function(e){e.text&&(t+=e.text.length,n+=(0,P.Z)(e.text))}))})),r.props.onEditorState(e),r.setState({editorState:e,nWords:n,nChars:t})})),(0,u.Z)((0,a.Z)(r),"dispatchTransaction",(function(e){var t=r.state.editorState.apply(e);null!==r.editorView&&r.editorView.updateState(t);var n=(0,g.fixTables)(r.state.editorState);n&&(t=t.apply(n.setMeta("addToHistory",!1))),r.onEditorState(t)})),(0,u.Z)((0,a.Z)(r),"saveInBrowser",(function(){N("Saving document state to local storage..."),r.state.editorState&&localStorage.setItem(r.props.id,JSON.stringify(r.state.editorState.doc.toJSON()))})),e.id&&(i=localStorage.getItem(e.id)),i||(i=e.defaultValue);var s=b()(i)?h.Node.fromJSON(O.Z,JSON.parse(i)):(0,R.Z)(i);return r.state={editorState:m.EditorState.create({doc:s,schema:O.Z,plugins:w.Z})},r}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){this.props.autoSave&&this.props.id&&(this.saveInterval=setInterval(this.saveInBrowser,this.props.intervalTime)),window.addEventListener("unload",this.saveInBrowser)}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.defaultValue!==e.defaultValue||this.props.docId!==e.docId){N("Re-creating editor state...");var n=b()(this.props.defaultValue)?h.Node.fromJSON(O.Z,JSON.parse(this.props.defaultValue)):(0,R.Z)(this.props.defaultValue);this.setState({editorState:m.EditorState.create({doc:n,schema:O.Z,plugins:w.Z})},(function(){t.editorView.destroy(),t._createEditorView(t.editorDiv)}))}}},{key:"componentWillUnmount",value:function(){this.editorView&&this.editorView.destroy(),this.saveInterval&&clearInterval(this.saveInterval),window.removeEventListener("unload",this.saveInBrowser)}},{key:"markdown",get:function(){return Z.Dm.serialize(this.state.editorState.doc)}},{key:"focus",value:function(){this.editorView&&this.editorView.focus()}},{key:"render",value:function(){return(0,r.Z)(d.Fragment,{},void 0,(0,r.Z)(_.Z,{menu:this.props.menu,state:this.state.editorState,dispatch:this.dispatchTransaction,view:this.editorView,fullscreen:this.props.fullscreen,showColorPicker:this.props.showColorPicker,onColorChoice:this.props.onColorChoice}),d.createElement("div",{className:this.props.className,ref:this._createEditorView}),this.props.showStatusBar?(0,r.Z)(C.Z,{nWords:this.state.nWords,nChars:this.state.nChars,t:this.props.t}):null)}}]),n}(d.Component);T.defaultProps={autoSave:!0,intervalTime:1e4,showStatusBar:!0,t:function(){},onColorChoice:function(){},onEditorState:function(){},onKeyDown:function(){},onMount:function(){}},t.Z=T},19509:function(e,t,n){"use strict";var r=n(264659),o=n(904730),i=n(151119),a=(n(319371),n(59357),n(850110),n(506565)),s=n(516037),c=n(757343),l=n(260593),u=n(630709),d=n(614972),f=n.n(d),p=n(272008),h=n.n(p),v=function(){function e(t,n,o){var a=this;(0,r.Z)(this,e),(0,i.Z)(this,"dispatchInner",(function(e){var t=a.innerView.state.applyTransaction(e),n=t.state,r=t.transactions;if(a.innerView.updateState(n),!e.getMeta("fromOutside")){for(var o=a.outerView.state.tr,i=u.KS.offset(a.getPos()+1),s=0;s<r.length;s++)for(var c=r[s].steps,l=0;l<c.length;l++)o.step(c[l].map(i));o.docChanged&&a.outerView.dispatch(o)}})),this.node=t,this.outerView=n,this.getPos=o,this.dom=document.createElement("footnote"),this.innerView=null}return(0,o.Z)(e,[{key:"selectNode",value:function(){this.dom.classList.add("ProseMirror-selectednode"),this.innerView||this.open()}},{key:"deselectNode",value:function(){this.dom.classList.remove("ProseMirror-selectednode"),this.innerView&&this.close()}},{key:"open",value:function(){var e=this,t=this.dom.appendChild(document.createElement("div"));t.className="footnote-tooltip",this.innerView=new a.tk(t,{state:s.EditorState.create({doc:this.node,plugins:[(0,l.h)({"Mod-z":function(){return(0,c.Yw)(e.outerView.state,e.outerView.dispatch)},"Mod-y":function(){return(0,c.KX)(e.outerView.state,e.outerView.dispatch)}})]}),dispatchTransaction:this.dispatchInner,handleDOMEvents:{mousedown:function(){e.outerView.hasFocus()&&e.innerView.focus()}}})}},{key:"close",value:function(){this.innerView.destroy(),this.innerView=null,this.dom.textContent=""}},{key:"update",value:function(e){if(!e.sameMarkup(this.node))return!1;if(this.node=e,this.innerView){var t=this.innerView.state,n=e.content.findDiffStart(t.doc.content);if(!f()(n)){var r=e.content.findDiffEnd(t.doc.content),o=r.a,i=r.b,a=n-h()(o,i);a>0&&(o+=a,i+=a),this.innerView.dispatch(t.tr.replace(n,i,e.slice(n,o)).setMeta("fromOutside",!0))}}return!0}},{key:"destroy",value:function(){this.innerView&&this.close()}},{key:"stopEvent",value:function(e){return this.innerView&&this.innerView.dom.contains(e.target)}},{key:"ignoreMutation",value:function(){return!0}}]),e}();t.Z=v},60369:function(e,t,n){"use strict";var r=n(939623);t.Z=function e(t,n,o,i){if(!(i<=0)){var a=(0,r.Z)(t.style[n]),s=(o-a)/i*10;setTimeout((function(){var a=(0,r.Z)(t.style[n])+s;t.style[n]="".concat(a,"px"),a!==o&&e(t,n,o,i-10)}),10)}}},388481:function(e,t){"use strict";t.Z=function(e){return!e||null===e.offsetParent}},963210:function(e,t){"use strict";t.Z=function(e,t){for(var n=e.members,r=0;r<n.length;r++){if(n[r].email===t)return!0}return!1}},974247:function(e,t,n){"use strict";n(296253),n(940851);t.Z=function(e){return new Promise((function(t,n){var r=window.FileReader;if(r){var o=new r;o.onload=function(e){var n=e.target.result;t({src:n,height:0,width:0,id:""})},o.onerror=function(){n(new Error("FileReader failed"))},o.readAsDataURL(e)}else n(new Error("FileReader is not available"))}))}},939623:function(e,t,n){"use strict";var r=n(431926),o=n.n(r),i=n(205287),a=n.n(i);t.Z=function(e){return a()(e,"px")&&(e=parseFloat(o()(e,"px",""))),e}},437893:function(e,t){"use strict";t.Z=function(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",month:"short",day:"numeric"})}},717932:function(e,t){"use strict";t.Z=function e(t,n,r){if(!(r<=0)){var o=(n-t.scrollTop)/r*10;setTimeout((function(){t.scrollTop=t.scrollTop+o,t.scrollTop!==n&&e(t,n,r-10)}),10)}}},427249:function(e,t){"use strict";t.Z=function(e){var t=1;return function(){return t+=1,"".concat(e,"-").concat(t)}}},789634:function(e){"use strict";e.exports={copy:"shallow"}},738035:function(e,t,n){"use strict";var r=n(220091),o=n(385854),i=n(390235),a=n(671655).isPrimitive,s=n(800562),c=n(737535),l=n(714945).factory,u=n(789634),d=n(724131);e.exports=function(e){var t,n,f;if(t=s(u),arguments.length&&(f=d(t,e)))throw f;return n=e&&e.seed?l({seed:e.seed}):l(),r(p,"seed",n.seed),r(p,"PRNG",n),n=n.normalized,p;function p(e,r){var l,u,f,p,h,v,m,g,Z,y;if(!o(e)&&!i(e))throw new TypeError("invalid argument. First argument must be array-like. Value: `"+e+"`.");if(arguments.length>1&&(h=d(p={},r)))throw h;for(f=p&&p.copy?p.copy:t.copy,(l=a(e))&&(e=e.split(""),f="none"),u=0,"shallow"===f?u+=1:"deep"===f&&(u+=2),g=e.length,v=s(e,u),Z=g-1;Z>0;Z--)y=c(n()*(Z+1)),m=v[Z],v[Z]=v[y],v[y]=m;return l&&(v=e.join("")),v}}},670785:function(e,t,n){"use strict";var r=n(220091),o=n(852558);r(o,"factory",n(738035)),e.exports=o},852558:function(e,t,n){"use strict";var r=n(738035)();e.exports=r},724131:function(e,t,n){"use strict";var r=n(636734),o=n(671655).isPrimitive,i=n(610077);e.exports=function(e,t){if(!i(t))return new TypeError("invalid argument. Options argument must be an object. Value: `"+t+"`.");if(r(t,"copy")){if(e.copy=t.copy,!o(e.copy))return new TypeError("invalid option. `copy` option must be a string primitive. Option: `"+e.copy+"`.");if("deep"!==e.copy&&"shallow"!==e.copy&&"none"!==e.copy)return new TypeError("invalid option. `copy` option must be `deep`, `shallow` or `none`. Value: `"+e.copy+"`.")}return null}},21027:function(e,t,n){"use strict";n.d(t,{U:function(){return o},E:function(){return i}});var r=n(202784);function o(e,t){var n=0;return r.Children.map(e,(function(e){return r.isValidElement(e)?t(e,n++):e}))}function i(e,t){var n=0;r.Children.forEach(e,(function(e){r.isValidElement(e)&&t(e,n++)}))}},998856:function(e,t,n){"use strict";var r=n(607560),o=n(998283),i=n(72779),a=n.n(i),s=n(202784),c=n(429658),l=n(21027);function u(e,t,n){var r=(e-t)/(n-t)*100;return Math.round(1e3*r)/1e3}function d(e,t){var n,i=e.min,c=e.now,l=e.max,d=e.label,f=e.srOnly,p=e.striped,h=e.animated,v=e.className,m=e.style,g=e.variant,Z=e.bsPrefix,y=(0,o.Z)(e,["min","now","max","label","srOnly","striped","animated","className","style","variant","bsPrefix"]);return s.createElement("div",(0,r.Z)({ref:t},y,{role:"progressbar",className:a()(v,Z+"-bar",(n={},n["bg-"+g]=g,n[Z+"-bar-animated"]=h,n[Z+"-bar-striped"]=h||p,n)),style:(0,r.Z)({width:u(c,i,l)+"%"},m),"aria-valuenow":c,"aria-valuemin":i,"aria-valuemax":l}),f?s.createElement("span",{className:"sr-only"},d):d)}var f=s.forwardRef((function(e,t){var n=e.isChild,i=(0,o.Z)(e,["isChild"]);if(i.bsPrefix=(0,c.vE)(i.bsPrefix,"progress"),n)return d(i,t);var u=i.min,f=i.now,p=i.max,h=i.label,v=i.srOnly,m=i.striped,g=i.animated,Z=i.bsPrefix,y=i.variant,b=i.className,w=i.children,_=(0,o.Z)(i,["min","now","max","label","srOnly","striped","animated","bsPrefix","variant","className","children"]);return s.createElement("div",(0,r.Z)({ref:t},_,{className:a()(b,Z)}),w?(0,l.U)(w,(function(e){return(0,s.cloneElement)(e,{isChild:!0})})):d({min:u,now:f,max:p,label:h,srOnly:v,striped:m,animated:g,bsPrefix:Z,variant:y},t))}));f.displayName="ProgressBar",f.defaultProps={min:0,max:100,animated:!1,isChild:!1,srOnly:!1,striped:!1},t.Z=f},318967:function(e){"use strict";var t=function(e,t){return e+n(t)},n=function(e){return null===e||"boolean"==typeof e||void 0===e?"":"number"==typeof e?e.toString():"string"==typeof e?e:Array.isArray(e)?e.reduce(t,""):function(e){return Object.prototype.hasOwnProperty.call(e,"props")}(e)&&Object.prototype.hasOwnProperty.call(e.props,"children")?n(e.props.children):""};n.default=n,e.exports=n}}]);