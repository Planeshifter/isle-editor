(window.webpackJsonp=window.webpackJsonp||[]).push([[206],{4282:function(t,e,n){"use strict";n.r(e);n(360),n(352),n(363);var s=n(362),i=n.n(s),a=n(353),r=n.n(a),o=n(354),u=n.n(o),l=n(369),c=n.n(l),d=n(357),p=n.n(d),v=n(358),f=n.n(v),m=n(355),b=n.n(m),h=n(350),w=n.n(h),y=n(0),S=(n(341),n(397)),A=n(500),C=n(439),g=n(471),k=n(1342),x=n(447),D=n(396),R=n.n(D),O=n(1485),q=n.n(O),M=n(2519),N=n.n(M),J=n(682),P=n(754),T=n(792),Y=n(983),B=n(1296),F=n(438),Q=n(443),j=n(1076),z=function(t){return t.disabled?i()(j.a,{},void 0,t.answerContent):i()(j.a,{onClick:t.onAnswerSelected,active:t.active},void 0,t.answerContent)};n(276);function L(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,s=b()(t);if(e){var i=b()(this).constructor;n=Reflect.construct(s,arguments,i)}else n=s.apply(this,arguments);return f()(this,n)}}var E=R()("isle:multiple-choice-survey"),G=Object(J.a)("multiple-choice-survey"),H=i()("tr",{},void 0,i()("th",{},void 0,"Category"),i()("th",{},void 0,"Count"),i()("th",{},void 0,"Relative Frequency")),I=i()("h3",{},void 0,"No responses yet"),K=i()("h2",{},void 0,"Please sign in..."),U=i()("span",{},void 0,"You may select multiple answers"),V=function(t){p()(n,t);var e=L(n);function n(t){var s;r()(this,n),s=e.call(this,t),w()(c()(s),"submitQuestion",(function(){var t=s.context;t.log({id:s.id,type:Q.Db,value:s.state.active,anonymous:s.props.anonymous},"members"),s.props.allowMultipleAnswers||s.setState({submitted:!0}),t.addNotification({title:"Submitted",message:"Your answer has been submitted.",level:"success"}),s.props.onSubmit(s.state.active)})),w()(c()(s),"onData",(function(t){E("MultipleChoiceSurvey is receiving data: "+JSON.stringify(t));var e,n=N()(t),a=n.map((function(t){return{x:s.props.answers[t[0]],y:t[1]}}));e=i()("table",{className:"table table-bordered"},void 0,H,n.map((function(t,e){return i()("tr",{},e,t.map((function(t,n){return 0===n?t=s.props.answers[t]:2===n&&(t=t.toFixed(3)),i()("td",{},"".concat(e,":").concat(n),t)})))}))),s.setState({data:a,freqTable:e})})),w()(c()(s),"renderAnswerOptionsSingle",(function(t,e){return i()(z,{no:e,answerContent:t,active:s.state.active===e,submitted:s.state.submitted,onAnswerSelected:function(){s.state.submitted||s.setState({active:e,answerSelected:!0})}},e)})),w()(c()(s),"renderAnswerOptionsMultiple",(function(t,e){return i()(z,{no:e,answerContent:t,active:s.state.active[e],submitted:s.state.submitted,onAnswerSelected:function(){if(!s.state.submitted){var t=s.state.active.slice();t[e]=!t[e],s.setState({active:t})}}},t)}));var a=t.multipleAnswers?new Array(t.answers.length):null;return s.id=t.id||G(t),s.state={data:[],submitted:!1,active:a,answerSelected:!1},s}return u()(n,[{key:"renderChart",value:function(){return q()(this.state.data)?I:i()(P.a,{data:[{x:this.state.data.map((function(t){return t.x})),y:this.state.data.map((function(t){return t.y})),type:"bar"}],layout:{width:400,height:300},removeButtons:!0})}},{key:"render",value:function(){var t,e=this.props,n=e.answers,s=e.id,a=e.multipleAnswers,r=e.question;return t=a?this.state.submitted:this.state.submitted||!this.state.answerSelected,i()(T.a,{user:!0,banner:K},void 0,i()(x.a,{id:this.id,style:this.props.style},void 0,i()(x.a.Body,{style:{overflowY:"auto"}},void 0,i()(g.a,{},void 0,i()(C.a,{},void 0,i()(A.a,{md:6},void 0,i()(x.a,{body:!0,className:"multiple-choice-survey"},void 0,i()("p",{},void 0,i()("label",{},void 0,r)),a?U:null,i()(k.a,{fill:!0},void 0,a?n.map(this.renderAnswerOptionsMultiple):n.map(this.renderAnswerOptionsSingle)),i()(S.a,{size:"small",variant:"success",block:!0,fill:!0,onClick:this.submitQuestion,disabled:t},void 0,this.state.submitted?"Submitted":"Submit"))),i()(A.a,{md:6},void 0,i()(B.a,{for:[s],onData:this.onData}),this.renderChart(),i()("p",{},void 0,this.state.freqTable)))),i()(Y.a,{buttonLabel:"Responses",id:s,data:{type:"factor",levels:this.props.answers},info:Q.Db}))))}}]),n}(y.Component);V.defaultProps={question:"",allowMultipleAnswers:!1,anonymous:!1,answers:[],multipleAnswers:!1,style:{},onSubmit:function(){}},V.contextType=F.a;e.default=V}}]);