/*! For license information please see Sketchpad.7a22301c.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[212,21],{1e3:function(e,t,n){"use strict";var r=n(351),o=n(350),a=n(0),i=n.n(a),s=n(8),c=n.n(s),l=n(822),u={id:c.a.any,href:c.a.string,onClick:c.a.func,title:c.a.node.isRequired,disabled:c.a.bool,menuRole:c.a.string,renderMenuOnMount:c.a.bool,rootCloseEvent:c.a.string,bsPrefix:c.a.string,variant:c.a.string,size:c.a.string},d=i.a.forwardRef((function(e,t){var n=e.title,a=e.children,s=e.bsPrefix,c=e.rootCloseEvent,u=e.variant,d=e.size,h=e.menuRole,p=e.renderMenuOnMount,f=e.disabled,g=e.href,v=e.id,m=Object(o.a)(e,["title","children","bsPrefix","rootCloseEvent","variant","size","menuRole","renderMenuOnMount","disabled","href","id"]);return i.a.createElement(l.a,Object(r.a)({ref:t},m),i.a.createElement(l.a.Toggle,{id:v,href:g,size:d,variant:u,disabled:f,childBsPrefix:s},n),i.a.createElement(l.a.Menu,{role:h,renderOnMount:p,rootCloseEvent:c},a))}));d.displayName="DropdownButton",d.propTypes=u,t.a=d},1006:function(e,t,n){"use strict";var r=n(351),o=n(350),a=n(378),i=n(530),s=n(0),c=n.n(s),l=n(529),u=n(1066),d=Math.pow(2,31)-1;function h(){var e=Object(l.a)(),t=Object(s.useRef)();return Object(u.a)((function(){return clearTimeout(t.current)})),Object(s.useMemo)((function(){var n=function(){return clearTimeout(t.current)};return{set:function(r,o){void 0===o&&(o=0),e()&&(n(),o<=d?t.current=setTimeout(r,o):function e(t,n,r){var o=r-Date.now();t.current=o<=d?setTimeout(n,o):setTimeout((function(){return e(t,n,r)}),d)}(t,r,Date.now()+o))},clear:n}}),[])}var p=n(668),f=(n(503),n(622)),g=function(e){function t(){return e.apply(this,arguments)||this}return Object(a.a)(t,e),t.prototype.render=function(){return this.props.children},t}(c.a.Component);function v(e,t,n){var r=t.currentTarget,o=t.relatedTarget||t.nativeEvent[n];o&&o===r||Object(i.a)(r,o)||e(t)}function m(e){var t=e.trigger,n=e.overlay,a=e.children,i=e.popperConfig,l=void 0===i?{}:i,u=e.defaultShow,d=e.delay,m=e.placement,w=e.flip,y=void 0===w?m&&-1!==m.indexOf("auto"):w,b=Object(o.a)(e,["trigger","overlay","children","popperConfig","defaultShow","delay","placement","flip"]),P=Object(s.useRef)(null),S=h(),x=Object(s.useRef)(),O=Object(s.useState)(!!u),E=O[0],k=O[1],D=function(e){return e&&"object"==typeof e?e:{show:e,hide:e}}(d),C=c.a.Children.only(a),j=C.props,M=j.onFocus,I=j.onBlur,T=j.onClick,N=Object(s.useCallback)((function(){return Object(p.a)(P.current)}),[]),R=Object(s.useCallback)((function(){S.clear(),x.current="show",D.show?S.set((function(){"show"===x.current&&k(!0)}),D.show):k(!0)}),[D.show,S]),F=Object(s.useCallback)((function(){S.clear(),x.current="hide",D.hide?S.set((function(){"hide"===x.current&&k(!1)}),D.hide):k(!1)}),[D.hide,S]),z=Object(s.useCallback)((function(e){R(e),M&&M(e)}),[R,M]),A=Object(s.useCallback)((function(e){F(e),I&&I(e)}),[F,I]),_=Object(s.useCallback)((function(e){k((function(e){return!e})),T&&T(e)}),[T]),L=Object(s.useCallback)((function(e){v(R,e,"fromElement")}),[R]),U=Object(s.useCallback)((function(e){v(F,e,"toElement")}),[F]),B={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){t.elements.reference.removeAttribute("aria-describedby")}},fn:function(e){var t=e.state.elements,n=t.popper,r=t.reference;if(E&&r){var o=n.getAttribute("role")||"";n.id&&"tooltip"===o.toLowerCase()&&r.setAttribute("aria-describedby",n.id)}}},W=null==t?[]:[].concat(t),H={};return-1!==W.indexOf("click")&&(H.onClick=_),-1!==W.indexOf("focus")&&(H.onFocus=z,H.onBlur=A),-1!==W.indexOf("hover")&&(H.onMouseOver=L,H.onMouseOut=U),c.a.createElement(c.a.Fragment,null,c.a.createElement(g,{ref:P},Object(s.cloneElement)(C,H)),c.a.createElement(f.a,Object(r.a)({},b,{popperConfig:Object(r.a)({},l,{modifiers:[B].concat(l.modifiers||[])}),show:E,onHide:F,target:N,placement:m,flip:y}),n))}m.defaultProps={defaultShow:!1,trigger:["hover","focus"]};t.a=m},1049:function(e,t,n){"use strict";var r=n(575),o=n(696),a=n(515);e.exports=[].copyWithin||function(e,t){var n=r(this),i=a(n.length),s=o(e,i),c=o(t,i),l=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===l?i:o(l,i))-c,i-s),d=1;for(c<s&&s<c+u&&(d=-1,c+=u-1,s+=u-1);u-- >0;)c in n?n[s]=n[c]:delete n[s],s+=d,c+=d;return n}},1121:function(e,t,n){"use strict";var r=n(467),o=n(502),a=n(756),i=n(885),s=n(624),c=n(807),l=n(461),u=n(806),d=n(717),h=n(515),p=n(886),f=n(558).f,g=n(505).f,v=n(603),m=n(859),w=r.ArrayBuffer,y=r.DataView,b=r.Math,P=r.RangeError,S=r.Infinity,x=w,O=b.abs,E=b.pow,k=b.floor,D=b.log,C=b.LN2,j=o?"_b":"buffer",M=o?"_l":"byteLength",I=o?"_o":"byteOffset";function T(e,t,n){var r,o,a,i=new Array(n),s=8*n-t-1,c=(1<<s)-1,l=c>>1,u=23===t?E(2,-24)-E(2,-77):0,d=0,h=e<0||0===e&&1/e<0?1:0;for((e=O(e))!=e||e===S?(o=e!=e?1:0,r=c):(r=k(D(e)/C),e*(a=E(2,-r))<1&&(r--,a*=2),(e+=r+l>=1?u/a:u*E(2,1-l))*a>=2&&(r++,a/=2),r+l>=c?(o=0,r=c):r+l>=1?(o=(e*a-1)*E(2,t),r+=l):(o=e*E(2,l-1)*E(2,t),r=0));t>=8;i[d++]=255&o,o/=256,t-=8);for(r=r<<t|o,s+=t;s>0;i[d++]=255&r,r/=256,s-=8);return i[--d]|=128*h,i}function N(e,t,n){var r,o=8*n-t-1,a=(1<<o)-1,i=a>>1,s=o-7,c=n-1,l=e[c--],u=127&l;for(l>>=7;s>0;u=256*u+e[c],c--,s-=8);for(r=u&(1<<-s)-1,u>>=-s,s+=t;s>0;r=256*r+e[c],c--,s-=8);if(0===u)u=1-i;else{if(u===a)return r?NaN:l?-S:S;r+=E(2,t),u-=i}return(l?-1:1)*r*E(2,u-t)}function R(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function F(e){return[255&e]}function z(e){return[255&e,e>>8&255]}function A(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function _(e){return T(e,52,8)}function L(e){return T(e,23,4)}function U(e,t,n){g(e.prototype,t,{get:function(){return this[n]}})}function B(e,t,n,r){var o=p(+n);if(o+t>e[M])throw P("Wrong index!");var a=e[j]._b,i=o+e[I],s=a.slice(i,i+t);return r?s:s.reverse()}function W(e,t,n,r,o,a){var i=p(+n);if(i+t>e[M])throw P("Wrong index!");for(var s=e[j]._b,c=i+e[I],l=r(+o),u=0;u<t;u++)s[c+u]=l[a?u:t-u-1]}if(i.ABV){if(!l((function(){w(1)}))||!l((function(){new w(-1)}))||l((function(){return new w,new w(1.5),new w(NaN),"ArrayBuffer"!=w.name}))){for(var H,Y=(w=function(e){return u(this,w),new x(p(e))}).prototype=x.prototype,X=f(x),V=0;X.length>V;)(H=X[V++])in w||s(w,H,x[H]);a||(Y.constructor=w)}var G=new y(new w(2)),J=y.prototype.setInt8;G.setInt8(0,2147483648),G.setInt8(1,2147483649),!G.getInt8(0)&&G.getInt8(1)||c(y.prototype,{setInt8:function(e,t){J.call(this,e,t<<24>>24)},setUint8:function(e,t){J.call(this,e,t<<24>>24)}},!0)}else w=function(e){u(this,w,"ArrayBuffer");var t=p(e);this._b=v.call(new Array(t),0),this[M]=t},y=function(e,t,n){u(this,y,"DataView"),u(e,w,"DataView");var r=e[M],o=d(t);if(o<0||o>r)throw P("Wrong offset!");if(o+(n=void 0===n?r-o:h(n))>r)throw P("Wrong length!");this[j]=e,this[I]=o,this[M]=n},o&&(U(w,"byteLength","_l"),U(y,"buffer","_b"),U(y,"byteLength","_l"),U(y,"byteOffset","_o")),c(y.prototype,{getInt8:function(e){return B(this,1,e)[0]<<24>>24},getUint8:function(e){return B(this,1,e)[0]},getInt16:function(e){var t=B(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=B(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return R(B(this,4,e,arguments[1]))},getUint32:function(e){return R(B(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return N(B(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return N(B(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){W(this,1,e,F,t)},setUint8:function(e,t){W(this,1,e,F,t)},setInt16:function(e,t){W(this,2,e,z,t,arguments[2])},setUint16:function(e,t){W(this,2,e,z,t,arguments[2])},setInt32:function(e,t){W(this,4,e,A,t,arguments[2])},setUint32:function(e,t){W(this,4,e,A,t,arguments[2])},setFloat32:function(e,t){W(this,4,e,L,t,arguments[2])},setFloat64:function(e,t){W(this,8,e,_,t,arguments[2])}});m(w,"ArrayBuffer"),m(y,"DataView"),s(y.prototype,i.VIEW,!0),t.ArrayBuffer=w,t.DataView=y},1212:function(e,t,n){"use strict";var r=n(371),o=n(1213);r(o,"factory",n(893)),e.exports=o},1213:function(e,t,n){"use strict";var r=n(893)();e.exports=r},1214:function(e,t,n){"use strict";var r=n(449).isPrimitive,o=n(458);e.exports=function(e,t){return!r(e)||o(e)?new TypeError("invalid argument. First argument must be an integer and not `NaN`. Value: `"+e+"`."):!r(t)||o(t)?new TypeError("invalid argument. Second argument must be an integer and not `NaN`. Value: `"+t+"`."):e>t?new RangeError("invalid argument. Minimum support `a` must be less than or equal to maximum support `b`. Value: `["+e+","+t+"]`."):null}},1215:function(e,t,n){"use strict";var r=n(905),o=n(393);e.exports=function e(t,n,a){var i,s,c,l,u,d,h,p;if(0===(c=a-n))return n;if(h=t.MIN,(s=t.MAX-h)===c)return t()-h+n;if(s<c)for(l=0;;){for(c===r?(l=o(c/(s+1)),c%(s+1)===s&&(l+=1)):l=o((c+1)/(s+1)),i=0,d=1;d<=l;){if(i+=(t()-h)*d,d*s==c-d+1)return i;d*=s+1}if(!((p=e(t,0,o(c/d)))>r/d||(i+=p*=d)>c))return i+n}for(s===r?(u=o(s/(c+1)),s%(c+1)===c&&(u+=1)):u=o((s+1)/(c+1));;)if(i=t()-h,(i=o(i/u))<=c)return i+n}},1216:function(e,t,n){n(932)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},1680:function(e,t,n){"use strict";n(1216);t.a=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,r=atob(e),o=[],a=0;a<r.length;a+=n){for(var i=r.slice(a,a+n),s=new Array(i.length),c=0;c<i.length;c++)s[c]=i.charCodeAt(c);var l=new Uint8Array(s);o.push(l)}var u=new Blob(o,{type:t});return u}},1707:function(e,t,n){"use strict";n.r(t);n(365),n(386),n(379),n(382),n(358),n(361);var r=n(488),o=n.n(r),a=(n(376),n(487),n(1216),n(540),n(811)),i=n.n(a),s=(n(423),n(364)),c=n.n(s),l=(n(594),n(353),n(680),n(357)),u=n.n(l),d=n(359),h=n.n(d),p=n(367),f=n.n(p),g=n(362),v=n.n(g),m=n(363),w=n.n(m),y=n(360),b=n.n(y),P=n(354),S=n.n(P),x=n(0),O=n.n(x),E=(n(8),n(478)),k=n(310),D=n.n(k),C=n(89),j=n.n(C),M=n(385),I=n.n(M),T=n(3400),N=n.n(T),R=n(93),F=n(402),z=n(1006),A=n(618),_=n(550),L=n(551),U=n(469),B=n(377),W=n(477),H=n(830),Y=n(870),X=n.n(Y),V=n(462),G=n(413),J=n(504),K=n(380),q=n(395),Z=n.n(q),$=n(428),Q=n.n($),ee=n(522),te=n.n(ee),ne=n(473),re=n.n(ne),oe=n(464),ae=n.n(oe),ie=n(370),se=n.n(ie),ce=n(408),le=n.n(ce),ue=n(400),de=n.n(ue),he=n(368),pe=n.n(he),fe=n(486),ge=n.n(fe),ve=n(994),me=n.n(ve),we=n(430),ye=n.n(we),be=n(468),Pe=n(846),Se=n(1680),xe=n(832),Oe=n(507),Ee=n(814),ke=n(667),De=n(1249),Ce=n.n(De),je=n(1212),Me=n.n(je);var Ie=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:48,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:126,r=new Array(e),o=0;o<e;o++)r[o]=Me()(t,n);return Ce.a.apply(null,r)},Te=n(394),Ne=n(3401),Re=(n(3402),I()("isle:sketchpad:curve"));var Fe=function(e,t,n,r,o,a,i){if(Re("Received points: "+t.length),void 0===t||t.length<2)return new Float32Array(0);var s;o="number"==typeof o?o:.9,a="number"==typeof a?a:30;var c=1,l=t.length,u=0,d=new Float32Array((l-2)*a+2+(i?2*a:0)),h=new Float32Array(a+2<<2),p=4;t=t.slice(0);for(var f=0;f<t.length;f+=2)t[f]=t[f]*n,t[f+1]=t[f+1]*r;for(s=t.slice(0),i?(s.unshift(t[l-1]),s.unshift(t[l-2]),s.push(t[0],t[1])):(s.unshift(t[1]),s.unshift(t[0]),s.push(t[l-2],t[l-1])),h[0]=1;c<a;c++){var g=c/a,v=g*g,m=v*g,w=2*m,y=3*v;h[p++]=w-y+1,h[p++]=y-w,h[p++]=m-2*v+g,h[p++]=m-v}function b(e,t,n,r){for(var o,i=2;i<n;i+=2){var s=e[i],c=e[i+1],l=e[i+2],h=e[i+3],p=(l-e[i-2])*r,f=(h-e[i-1])*r,g=(e[i+4]-s)*r,v=(e[i+5]-c)*r,m=0;for(o=0;o<a;o++){var w=t[m++],y=t[m++],b=t[m++],P=t[m++];d[u++]=w*s+y*l+b*p+P*g,d[u++]=w*c+y*h+b*f+P*v}}}for(h[++p]=1,b(s,h,l,o),i&&((s=[]).push(t[l-4],t[l-3],t[l-2],t[l-1],t[0],t[1],t[2],t[3]),b(s,h,4,o)),l=i?0:t.length-2,d[u++]=t[l++],d[u]=t[l],c=0,l=d.length;c<l;c+=2){var P=(d[c]+d[c+2])/2,S=(d[c+1]+d[c+3])/2;e.lineTo(d[c],d[c+1],P,S)}return e.lineTo(d[c],d[c+1],d[c+2],d[c+3]),d},ze=function(e){var t=e.tooltip,n=e.onClick,r=e.glyph,o=e.label,a=e.disabled,i=e.size,s=e.variant,l=void 0===s?"light":s;return c()(G.a,{placement:"bottom",tooltip:t},void 0,c()(B.a,{variant:l,size:i,onClick:n,disabled:a,"aria-label":t},void 0,r?c()("div",{className:"fa fa-".concat(r)}):null,o))},Ae=n(3403),_e=n.n(Ae),Le=n(1e3),Ue=n(729),Be=n(936),We=n(615);function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var Ye=["#000000","#FF6900","#FCB900","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#9900EF"],Xe=c()(Ue.a,{eventKey:"Arial"},void 0,"Arial"),Ve=c()(Ue.a,{eventKey:"Helvetica"},void 0,"Helvetica"),Ge=c()(Ue.a,{eventKey:"Times"},void 0,"Times"),Je=c()(Ue.a,{eventKey:"Courier"},void 0,"Courier"),Ke=c()(Ue.a,{eventKey:"Verdana"},void 0,"Verdana"),qe=c()(Ue.a,{eventKey:"Palatino"},void 0,"Palatino"),Ze=function(e){v()(n,e);var t=He(n);function n(e){var r;return u()(this,n),r=t.call(this,e),S()(f()(r),"toggleColorPicker",(function(){r.setState({showColorPicker:!r.state.showColorPicker})})),S()(f()(r),"toggleDrawingMode",(function(){r.props.onModeChange("drawing"===r.props.mode?"none":"drawing")})),S()(f()(r),"toggleDragMode",(function(){r.props.onModeChange("drag"===r.props.mode?"none":"drag")})),S()(f()(r),"toggleDeleteMode",(function(){r.props.onModeChange("delete"===r.props.mode?"none":"delete")})),S()(f()(r),"togglePointerMode",(function(){r.props.onModeChange("pointer"===r.props.mode?"none":"pointer")})),S()(f()(r),"toggleZoomMode",(function(){r.props.onModeChange("zoom"===r.props.mode?"none":"zoom")})),S()(f()(r),"toggleTextMode",(function(){r.props.onModeChange("text"===r.props.mode?"none":"text")})),S()(f()(r),"handleColorChange",(function(e){r.props.onColorChange(e.hex),r.setState({showColorPicker:!r.state.showColorPicker})})),r.state={showColorPicker:!1},r}return h()(n,[{key:"render",value:function(){var e=this.props.t;return c()(x.Fragment,{},void 0,c()(U.a,{size:"sm",className:"sketch-drag-delete-modes sketch-button-group"},void 0,c()(ze,{tooltip:e("drag-mode"),size:"sm",variant:"drag"===this.props.mode?"success":"secondary",onClick:this.toggleDragMode,glyph:"arrows-alt"}),c()(ze,{tooltip:e("delete-mode"),size:"sm",variant:"delete"===this.props.mode?"success":"secondary",onClick:this.toggleDeleteMode,glyph:"times"}),c()(ze,{tooltip:e("magnifying-glass"),size:"sm",variant:"zoom"===this.props.mode?"success":"secondary",onClick:this.toggleZoomMode,glyph:"search-plus"}),c()(ze,{tooltip:e("pointer-mode"),size:"sm",variant:"pointer"===this.props.mode?"success":"secondary",onClick:this.togglePointerMode,glyph:"circle"})),c()(U.a,{size:"sm",className:"sketch-drawing-buttons"},void 0,c()(ze,{tooltip:e("drawing-mode"),glyph:"paint-brush",size:"sm",variant:"drawing"===this.props.mode?"success":"secondary",onClick:this.toggleDrawingMode}),c()(Be.a,{size:"sm",className:"sketch-input-group"},void 0,c()(We.a,{type:"number",min:1,max:42,onChange:this.props.onBrushSelect,value:this.props.brushSize,"aria-label":e("brush-size")}))),c()(U.a,{size:"sm",className:"sketch-text-buttons"},void 0,c()(ze,{size:"sm",variant:"text"===this.props.mode?"success":"secondary",onClick:this.toggleTextMode,tooltip:e("text-mode"),glyph:"font"}),c()(Le.a,{id:"sketch-font-dropdown",size:"sm",variant:"text"===this.props.mode?"success":"secondary",title:this.props.fontFamily,onSelect:this.props.onFontFamilySelect},void 0,Xe,Ve,Ge,Je,Ke,qe),c()(Be.a,{size:"sm",className:"sketch-input-group"},void 0,c()(We.a,{type:"number",min:12,max:60,onChange:this.props.onFontSizeSelect,value:this.props.fontSize,"aria-label":e("font-size")}))),c()(U.a,{size:"sm"},void 0,c()(G.a,{placement:"right",tooltip:e("change-brush-color")},void 0,c()(B.a,{size:"sm",onClick:this.toggleColorPicker,style:{background:this.props.color,color:"white"}},void 0,"Col"))),c()("div",{className:"sketch-colorpicker",style:{display:this.state.showColorPicker?"initial":"none"}},void 0,c()(_e.a,{color:this.props.color,colors:Ye,onChangeComplete:this.handleColorChange,triangle:"top-right"})))}}]),n}(x.Component),$e=(n(591),n(592),I()("isle:sketchpad:harmonize-sketchpad-elements"));var Qe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];n=n.map((function(e){return e.page})),r=r.map((function(e){return e.page}));for(var o=0;o<n.length;o++){var a=n[o];r.includes(a)||($e("Removing elements from page "+a),e.splice(a,1),t.splice(a,1))}for(var i=0;i<r.length;i++){var s=r[i];n.includes(s)||($e("Adding an empty page at position "+s),e.splice(s,0,[]),t.splice(s,0,0))}},et=n(352),tt=n(398),nt=n(450);function rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var ot=I()("isle:lesson:sketchpad-contextmenu"),at=function(e){v()(n,e);var t=rt(n);function n(){var e;u()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),S()(f()(e),"copyToClipboard",(function(){var t;if(ot("Copying page to clipboard... "),e.props.canvas){var n=e.props.canvas.toDataURL();t='<img alt="Sketchpad Page" src="'.concat(n,'" />'),document.addEventListener("copy",r),document.execCommand("copy"),document.removeEventListener("copy",r)}function r(e){e.clipboardData.setData("text/html ",t),e.clipboardData.setData("text/plain ",t),e.preventDefault()}})),e}return h()(n,[{key:"render",value:function(){return c()(R.ContextMenu,{id:"sketchpadWindow"},void 0,c()(R.MenuItem,{onClick:this.copyToClipboard},void 0,this.props.t("copy")))}}]),n}(x.Component);at.defaultProps={canvas:null};var it=Object(E.a)()(at),st=n(3405),ct=n(442),lt=n(3406);ct.a.addResources("de","sketchpad",lt.DE),ct.a.addResources("en","sketchpad",lt.EN),ct.a.addResources("es","sketchpad",lt.ES);n(311),n(312);function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){S()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ht(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b()(e);if(t){var o=b()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w()(this,n)}}var pt=Object(et.a)((function(){return n.e(327).then(n.bind(null,3604))})),ft=Object(et.a)((function(){return n.e(325).then(n.bind(null,3605))})),gt=Object(et.a)((function(){return n.e(311).then(n.bind(null,3606))})),vt=Object(et.a)((function(){return n.e(326).then(n.bind(null,3607))})),mt=Object(et.a)((function(){return n.e(328).then(n.bind(null,3608))})),wt=I()("isle:sketchpad"),yt=Object(be.a)("sketchpad"),bt=["isExporting","showColorPicker","showUploadModal","showNavigationModal","showResetModal","showFeedbackModal","showSaveModal","hideInputButtons","hideNavigationButtons","hideSaveButtons","hideTransmitButtons"],Pt=/^[0-9]+$/,St=window.devicePixelRatio||1,xt=X()();function Ot(e){e.preventDefault()}function Et(e){wt("Stop propagation..."),e.stopPropagation()}function kt(e,t){for(var n=!1,r=0;r<t.length;r++){t[r].page===e&&(n=!0)}return n}function Dt(e){e.setLineDash([2,15]),e.lineWidth=2,e.strokeStyle="orange",e.lineCap="round",e.lineJoin="round",e.shadowBlur=0}D.a&&D.a.GlobalWorkerOptions&&(D.a.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.4.456/pdf.worker.min.js");var Ct=c()(B.a,{size:"sm",variant:"light"},void 0,c()("div",{className:"fa fa-eye"})),jt=c()(xe.b,{steps:st,showProgress:!0,run:!0}),Mt=function(e){v()(n,e);var t=ht(n);function n(e){var r;u()(this,n),r=t.call(this,e),S()(f()(r),"handleHashChange",(function(){var e=r.readURL();e>0&&r.gotoPage(e-1)})),S()(f()(r),"handleResize",(function(){r.setState({canvasHeight:window.innerHeight-r.state.verticalOffset,canvasWidth:window.innerWidth-40},(function(){r.redraw()}))})),S()(f()(r),"retrieveData",(function(e){if(wt("Retrieved data from previous session..."),te()(e)){if(Z()(e.elements))for(var t=0;t<e.elements.length;t++)r.elements[t]=e.elements[t];if(Z()(e.nUndos))for(var n=0;n<e.nUndos.length;n++)r.nUndos[n]=e.nUndos[n];if(Z()(e.sharedElements)){for(var o=0;o<e.sharedElements.length;o++)r.sharedElements[o]=e.sharedElements[o];r.context.anonymous&&Qe(r.elements,r.nUndos,r.state.insertedPages,e.state.insertedPages)}else r.sharedElements=new Array(e.elements.length).fill([]);for(var a=0;a<e.state.insertedPages.length;a++){var i=e.state.insertedPages[a].page;r.backgrounds.splice(i,0,null)}var s=r.readURL();wt("Go to page "+s),e.state.currentPage=s>0?s-1:0,e.state.noPages=r.backgrounds.length,e.state=me()(e.state,bt),e.state.hasRetrievedData=!0,r.setState(e.state,(function(){r.redraw()}))}else r.setState({hasRetrievedData:!0},(function(){r.redraw()}))})),S()(f()(r),"toggleGroupMode",(function(){r.setState({groupMode:!r.state.groupMode})})),S()(f()(r),"hidePointer",(function(){var e={id:r.id,type:tt.oc,value:!0,noSave:!0};r.context.log(e,"members"),r.pointer.style.opacity=0})),S()(f()(r),"hideZoom",(function(){var e={id:r.id,type:tt.pc,value:!0,noSave:!0};r.context.log(e,"members"),r.zoom.style.display="none"})),S()(f()(r),"preventDefaultTouch",(function(e){e.target!==r.canvas&&e.target!==r.textLayer&&e.target!==r.canvasWrapper||e.preventDefault()})),S()(f()(r),"handleVisibilityChange",(function(){document.hidden||r.redraw()})),S()(f()(r),"renderBackground",(function(e){r.renderingTask&&r.renderingTask.cancel();var t=r.canvas,n=r.ctx,o=r.backgrounds[e];if(o){var a;wt("Found background for page ".concat(e,"..."));var i=o.getViewport({scale:1});a="vertical"===r.state.fill?r.state.canvasHeight/i.height:r.state.canvasWidth/i.width;for(var s=o.getViewport({scale:a}),c=r.textLayer;c.firstChild;)c.removeChild(c.firstChild);"vertical"===r.state.fill?(r.canvas.height=s.height*St,r.canvas.width=s.width*St,r.canvas.style.left="".concat((r.state.canvasWidth-s.width)/2,"px"),r.canvas.style["border-style"]="solid",r.canvas.style["border-color"]="black",r.canvas.style["border-width"]="0px 1px 0px 1px",r.canvas.style.width="".concat(s.width,"px"),r.canvas.style.height="".concat(s.height,"px"),c.style.width="".concat(s.width,"px"),c.style.height="".concat(s.height,"px"),r.leftMargin=(r.state.canvasWidth-s.width)/2,c.style.left="".concat(r.leftMargin,"px")):(r.canvas.height=s.height*St,r.canvas.width=(s.width-15)*St,r.canvas.style.left="0px",r.canvas.style.border="none",r.canvas.style.height="".concat(s.height,"px"),r.canvas.style.width="".concat(s.width-15,"px"),c.style.width="".concat(s.width-15,"px"),c.style.height="".concat(s.height,"px"),r.leftMargin=0,c.style.left="0px");var l=pe()(r.canvas.width*r.canvas.width+r.canvas.height*r.canvas.height);r.scaleRatio=l/(1768*St),r.ctx.setTransform(St,0,0,St,0,0);var u={canvasContext:r.ctx,viewport:s};return o.getTextContent().then((function(e){D.a.renderTextLayer({textContent:e,container:c,viewport:s,textDivs:[]})})),r.renderingTask=o.render(u),r.renderingTask.promise.then((function(){r.backgroundData=r.ctx.getImageData(0,0,r.canvas.width,r.canvas.height),wt("Background rendered for page ".concat(e))})).catch((function(e){wt("Encountered error in `renderBackground`: "+e.message)}))}return r.backgroundData=null,n&&(r.props.pdf||n.setTransform(St,0,0,St,0,0),n.clearRect(0,0,t.width,t.height)),Promise.resolve()})),S()(f()(r),"redraw",(function(){var e=r.state.currentPage;wt("Redrawing page ".concat(e+1));var t=r.nUndos[e];r.renderBackground(e).then((function(){var n=r.sharedElements[e];if(r.state.showInstructorAnnotations){wt("Rendering ".concat(n.length," shared elements on page ").concat(e,"..."));for(var o=0;o<n.length;o++)r.drawElement(n[o])}n=r.elements[e],wt("Rendering ".concat(n.length," own elements on page ").concat(e,"..."));for(var a=0;a<n.length-t;a++)r.drawElement(n[a]);r.renderingTask=null})).catch((function(e){r.renderingTask=null}))})),S()(f()(r),"onlyRedrawElements",(function(){r.backgroundData?r.ctx.putImageData(r.backgroundData,0,0):r.ctx.clearRect(0,0,r.canvas.width,r.canvas.height);var e=r.state.currentPage,t=r.sharedElements[e];if(r.state.showInstructorAnnotations){wt("Rendering ".concat(t.length," shared elements on page ").concat(e,"..."));for(var n=0;n<t.length;n++)r.drawElement(t[n])}t=r.elements[e],wt("Rendering ".concat(t.length," own elements on page ").concat(e,"..."));for(var o=r.nUndos[e],a=0;a<t.length-o;a++)r.drawElement(t[a])})),S()(f()(r),"redrawWhenDragging",(function(){if(!r.canvasBuffer){r.canvasBuffer=document.createElement("canvas"),r.canvasBuffer.width=r.canvas.width,r.canvasBuffer.height=r.canvas.height,wt("Prepare data for non-dragged elements..."),r.backgroundData?r.ctx.putImageData(r.backgroundData,0,0):(r.ctx.fillStyle="white",r.ctx.fillRect(0,0,r.canvas.width,r.canvas.height));var e=r.state.currentPage,t=r.sharedElements[e];if(r.state.showInstructorAnnotations){wt("Rendering ".concat(t.length," shared elements on page ").concat(e,"..."));for(var n=0;n<t.length;n++)r.drawElement(t[n])}t=r.elements[e],wt("Rendering ".concat(t.length," own elements on page ").concat(e,"..."));for(var o=r.nUndos[e],a=0;a<t.length-o;a++)r.selectedElements&&Q()(r.selectedElements,t[a])||r.drawElement(t[a]);var i=r.canvasBuffer.getContext("2d");i.imageSmoothingEnabled=!1,i.drawImage(r.canvas,0,0,r.canvas.width/St,r.canvas.height/St)}r.ctx.drawImage(r.canvasBuffer,0,0);var s=r.selectedElements;if(s)for(var c=0;c<s.length;c++)r.drawElement(s[c]);var l=r.ctx;if(l.beginPath(),Dt(l),r.dragPoints)for(var u=0;u<r.dragPoints.length;u+=2){var d=r.dragPoints[u],h=r.dragPoints[u+1];r.ctx.lineTo(d,h)}l.stroke(),l.closePath(),l.setLineDash([])})),S()(f()(r),"drawPage",(function(e){var t=r.ctx,n=r.canvas;t&&t.clearRect(0,0,n.width,n.height),r.renderBackground(e);var o=r.sharedElements[e];if(r.state.showInstructorAnnotations)for(var a=0;a<o.length;a++)r.drawElement(o[a]);o=r.elements[e];for(var i=r.nUndos[e],s=0;s<o.length-i;s++)r.drawElement(o[s])})),S()(f()(r),"mousePosition",(function(e){var t=e.clientX,n=e.clientY;e.touches&&e.touches.length>0&&(t=e.touches[0].clientX,n=e.touches[0].clientY);var o=r.canvas.getBoundingClientRect();return{x:t-o.left,y:n-o.top}})),S()(f()(r),"clearPage",(function(e){if(kt(e,r.state.insertedPages)){wt("Clear an inserted page; deleting it completely..."),r.elements.splice(e,1),r.backgrounds.splice(e,1),r.nUndos.splice(e,1),r.sharedElements.splice(e,1);for(var t=[],n=0;n<r.state.insertedPages.length;n++){var o=r.state.insertedPages[n];e!==o.page&&(o.page>e&&(o.page-=1),t.push(o))}wt("New inserted pages are: "+t.join(", ")),r.setState({noPages:r.state.noPages-1,insertedPages:t,selectedPage:r.state.selectedPage-1},(function(){r.redraw()}))}else r.elements[e]=[],r.redraw()})),S()(f()(r),"clear",(function(){var e=r.state.currentPage;r.clearPage(e);var t=r.context,n={id:r.id,type:tt.hc,value:JSON.stringify({page:e,sessionID:t.sessionID})};r.hasChangedSinceLastSave=!0,t.isOwner()&&r.state.transmitOwner?t.log(n,"members"):t.log(n,"owners")})),S()(f()(r),"clearAll",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=r.context,n=r.canvas,o=r.ctx;if(o&&o.clearRect(0,0,n.width,n.height),t.store.removeItem(r.id+"_sketchpad"),r.props.pdf)r.initializePDF().then((function(){r.redraw(),r.setState({insertedPages:[]})}));else{var a=r.props.noPages;r.elements=new Array(a),r.backgrounds=new Array(a),r.sharedElements=new Array(a),r.nUndos=new Array(a);for(var i=0;i<a;i++)r.elements[i]=[],r.sharedElements[i]=[],r.backgrounds[i]=null,r.nUndos[i]=0;r.setState({currentPage:0,noPages:a,insertedPages:[]})}var s={id:r.id,type:tt.gc,value:t.sessionID};e||(r.hasChangedSinceLastSave=!0,t.isOwner()&&r.state.transmitOwner?t.log(s,"members"):t.log(s,"owners"))})),S()(f()(r),"undo",(function(){var e=r.state.currentPage,t=r.elements[e],n=r.sharedElements[e],o=r.nUndos[e],a=r.ctx,i=r.canvas;a&&a.clearRect(0,0,i.width,i.height),r.renderBackground(e).then((function(){o+=1;for(var a=-1,i=t.length-1,s=i;s>=0;s--){if((a+=1)===o){i=s;break}0===s&&(o=a+1,i=null)}if(wt("Current number of undos: "+o),r.nUndos[e]=o,r.hasChangedSinceLastSave=!0,!re()(i)){wt("UNDO: Redrawing elements 0 to ".concat(i," out of ").concat(t.length," elements"));for(var c=0;c<=i;c++)r.drawElement(t[c])}for(var l=0;l<n.length;l++)r.drawElement(n[l])}))})),S()(f()(r),"redo",(function(){var e=r.state.currentPage,t=r.elements[e],n=r.sharedElements[e],o=r.nUndos[e];if(o>0){var a=de()(t.length-o,0);if(wt("Line index: "+a),a>=0){var i=-1,s=t.length-1;o-=1;for(var c=s;c>=0;c--)if((i+=1)===o){s=c;break}wt("REDO: Redrawing elements ".concat(a," to ").concat(s," out of ").concat(t.length," elements"));for(var l=a;l<=s;l++)r.drawElement(t[l]);r.nUndos[e]=o;for(var u=0;u<n.length;u++)r.drawElement(n[u]);r.hasChangedSinceLastSave=!0}}})),S()(f()(r),"drawElement",(function(e){e&&("line"===e.type?r.drawLine(e):"text"===e.type?r.drawText(e):"curve"===e.type&&r.drawCurve(e))})),S()(f()(r),"drawLine",(function(e){var t=e.startX,n=e.startY,o=e.endX,a=e.endY,i=e.color,s=e.lineWidth,c=e.selected,l=r.ctx;l&&(l.lineWidth=s*r.scaleRatio,l.lineCap="round",l.lineJoin="round",l.shadowBlur=1.5*l.lineWidth,l.strokeStyle=c?"orange":i,l.beginPath(),l.moveTo(t,n),l.lineTo(o,a),l.stroke(),l.closePath())})),S()(f()(r),"drawCurve",(function(e){var t=e.points,n=e.color,o=e.lineWidth,a=e.selected,i=r.ctx;i&&(i.lineWidth=o*r.scaleRatio,i.lineCap="round",i.lineJoin="round",a?(i.strokeStyle="orange",i.beginPath(),Fe(i,t,r.canvas.width/St,r.canvas.height/St,.9,1),i.stroke(),i.closePath()):(i.shadowColor="rgba(128, 128, 128, 0.2)",i.shadowBlur=2*i.lineWidth,i.strokeStyle=n,i.beginPath(),Fe(i,t,r.canvas.width/St,r.canvas.height/St),i.stroke(),i.closePath()))})),S()(f()(r),"drawStart",(function(e){if(e.stopPropagation(),wt("`onMouseDown` or `onTouchStart` event fired..."),e.touches&&e.touches.length>1)return r.swipeStartX=e.touches[0].screenX,void(r.swipeStartY=e.touches[0].screenY);var t=r.mousePosition(e),n=t.x,o=t.y;if(r.currentPoints=[],r.x=n,r.y=o,r.isMouseDown=!0,r.imageData=r.ctx.getImageData(0,0,r.canvas.width,r.canvas.height),"drawing"===r.state.mode){var a=r.state.currentPage,i=r.nUndos[a];if(i>0){var s=r.elements[a];s.splice(s.length-i),wt("Page ".concat(a," now has ").concat(s.length," elements")),r.nUndos[a]=0,r.hasChangedSinceLastSave=!0}r.draw(e)}else if("drag"===r.state.mode){var c=r.ctx;c.isPointInPath(n*St,o*St)||(r.deselectElements(),r.onlyRedrawElements()),c.beginPath(),r.draw(e)}else xt&&r.handleClick(e)})),S()(f()(r),"drawEnd",(function(e){if(e.stopPropagation(),se()(r.swipeEndX-r.swipeStartX)>45&&se()(r.swipeEndY-r.swipeStartY)<40)return r.swipeEndX>r.swipeStartX?r.previousPage():r.nextPage(),r.swipeEndX=0,r.swipeEndY=0,r.swipeStartX=0,r.swipeStartY=0,void(r.isMouseDown=!1);if("drawing"===r.state.mode&&r.isMouseDown){var t=r.elements[r.state.currentPage],n=r.context,o=n.user.email||n.anonymousIdentifier,a=r.currentPoints,i=r.canvas,s=i.width,c=i.height;a[0]/=s/St,a[1]/=c/St;for(var l=2;l<a.length-2;l+=2){var u=(a[l]+a[l+2])/2,d=(a[l+1]+a[l+3])/2;a[l]=u/(s/St),a[l+1]=d/(c/St)}a[a.length-2]/=s/St,a[a.length-1]/=c/St;var h={points:a,color:r.state.color,lineWidth:r.state.brushSize*(1+r.force)*.5,page:r.state.currentPage,time:r.time,type:"curve",drawID:Ie(6),user:o};t.push(h),r.props.onChange(t),r.ctx.putImageData(r.imageData,0,0),r.drawCurve(h);var p={id:r.id,type:tt.kc,value:JSON.stringify(h),noSave:!0};r.hasChangedSinceLastSave=!0,r.state.groupMode||n.isOwner()&&r.state.transmitOwner?n.log(p,"members"):n.log(p,"owners"),r.currentPoints=[]}else if("drag"===r.state.mode&&r.isMouseDown){if(r.ctx.stroke(),r.ctx.closePath(),r.ctx.setLineDash([]),!r.selectedElements){wt("Select elements...");var f=r.elements[r.state.currentPage],g=r.nUndos[r.state.currentPage];r.selectedElements=null;for(var v=[],m=0;m<f.length-g;m++){var w=f[m];w.selected=!1;var y=w.points;if(y)for(var b=0,P=y.length;b<P;b+=2){var S=y[b]*r.canvas.width,x=y[b+1]*r.canvas.height;if(r.ctx.isPointInPath(S,x)){w.selected=!0,v.push(w);break}}else w.x&&w.y&&r.ctx.isPointInPath(w.x*r.canvas.width,w.y*r.canvas.height)&&(w.selected=!0,v.push(w))}v.length>0&&(r.selectedElements=v,r.dragPoints=r.currentPoints)}r.redrawWhenDragging()}r.isMouseDown=!1})),S()(f()(r),"draw",(function(e){if(e.stopPropagation(),r.state.swiping&&e.touches&&e.touches.length>1){r.swipeEndX=e.touches[0].screenX,r.swipeEndY=e.touches[0].screenY,r.isMouseDown=!1;var t=r.swipeEndY-r.swipeStartY;r.verticalScroll(t)}else{var n=r.context,o=r.mousePosition(e),a=o.x,i=o.y;if("drag"===r.state.mode&&r.selectedElements&&r.isMouseDown){wt("Drag elements around...");for(var s=(a-r.x)/(r.canvas.width/St),c=(i-r.y)/(r.canvas.height/St),l=r.selectedElements,u=0;u<l.length;u++){var d=l[u];if("curve"===d.type)for(var h=d.points,p=0;p<h.length;p++)h[p]+=p%2==0?s:c;else"text"===d.type&&(d.x+=s,d.y+=c)}for(var f=0;f<r.dragPoints.length;f+=2)r.dragPoints[f]+=a-r.x,r.dragPoints[f+1]+=i-r.y;var g=n.user.email||n.anonymousIdentifier,v={id:r.id,type:tt.jc,value:JSON.stringify({dx:s,dy:c,page:r.state.currentPage,drawIDs:l.map((function(e){return e.drawID})),user:g,sessionID:n.sessionID}),noSave:!0};return r.hasChangedSinceLastSave=!0,n.isOwner()||r.state.groupMode?n.log(v,"members"):n.log(v),r.x=a,r.y=i,r.redrawWhenDragging()}if(r.isMouseDown&&!r.props.disabled){if("delete"===r.state.mode)return wt("Check whether to delete element..."),r.checkDeletion(e);if(r.currentPoints.push(a),r.currentPoints.push(i),"drawing"===r.state.mode){var m={color:r.state.color,lineWidth:r.state.brushSize*(1+r.force)*.5,startX:r.x,startY:r.y,endX:a,endY:i,shadow:0,type:"line"};r.drawElement(m)}else"drag"!==r.state.mode||r.selectedElements||(Dt(r.ctx),r.ctx.lineTo(a,i),r.ctx.stroke());r.x=a,r.y=i}}})),S()(f()(r),"toggleTransmit",(function(){r.setState({transmitOwner:!r.state.transmitOwner})})),S()(f()(r),"uploadSketches",(function(){r.setState({isExporting:!0},(function(){r.preparePDF((function(e,t){var n=r.context;t.getBase64((function(e){wt("Processing base64 string of PDF document");var t=new FormData,o=r.id+".pdf",a=Object(Se.a)(e,"application/pdf"),i=new File([a],o,{type:"application/pdf"});t.append("file",i);n.uploadFile({formData:t,callback:function(e,t){if(e)r.setState({isExporting:!1,showUploadModal:!0,modalMessage:e.message});else{var o=t.filename,a=n.server+"/"+o;r.setState({isExporting:!1,showUploadModal:!0,modalMessage:c()("span",{},void 0,r.props.t("upload-successful"),": ",c()("a",{href:a,target:"_blank"},void 0,a))});var i={text:"".concat(r.props.t("upload-email",{name:n.user.name}),'<a href="').concat(a,'">').concat(a,"</a>."),subject:r.props.t("pdf-uploaded")};n.sendMail(i,n.user.email)}}})}))}))}))})),S()(f()(r),"saveAsPNG",(function(){var e=r.state.currentPage,t=r.id+"_"+(e+1)+".png",n=r.canvas;r.backgrounds[e]||(r.ctx.fillStyle="white",r.ctx.fillRect(0,0,n.width,n.height)),n.toBlob((function(e){Object(Pe.a)(e,t)}))})),S()(f()(r),"preparePDF",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge.a;wt("Assembling PDF document object...");var t={content:[],pageSize:{width:r.canvas.width,height:r.canvas.height},pageMargins:[0,0,0,0]},n=0,o=function o(){wt("Creating page ".concat(n+1)),r.renderBackground(n).then((function(){var a=r.sharedElements[n];if(a&&a.length>0)for(var i=0;i<a.length;i++)r.drawElement(a[i]);a=r.elements[n];var s=r.nUndos[n];if(a&&a.length>0){var c=a.length-s;wt("Rendering ".concat(a.length," elements on page ").concat(n,"..."));for(var l=0;l<c;l++)r.drawElement(a[l])}var u=r.canvas.toDataURL();if(t.content.push({image:u,width:r.canvas.width}),!((n+=1)<r.state.noPages))return wt("Creating PDF..."),e(null,j.a.createPdf(t));o()}))};o()})),S()(f()(r),"toggleSaveModal",(function(){r.setState({showSaveModal:!r.state.showSaveModal})})),S()(f()(r),"saveAsPDF",(function(){r.setState({isExporting:!0},(function(){r.preparePDF((function(e,t){var n=r.id;t.download(n+".pdf",(function(){r.setState({isExporting:!1}),r.redraw()}))}))}))})),S()(f()(r),"insertPage",(function(e,t){r.elements.splice(e,0,[]),r.backgrounds.splice(e,0,null),r.sharedElements.splice(e,0,0),r.nUndos.splice(e,0,0);for(var n=document.querySelector(".textLayer");n.firstChild;)n.removeChild(n.firstChild);var o=r.context,a=r.state.insertedPages;a.push({page:e,email:t||o.user.email}),r.setState({noPages:r.state.noPages+1,currentPage:e,insertedPages:a},(function(){r.updateURL(r.state.currentPage),r.redraw(),t||(r.hasChangedSinceLastSave=!0,o.log({id:r.id,type:tt.qc,value:JSON.stringify({pos:e})},o.isOwner()?"members":o.user.email))}))})),S()(f()(r),"handleEnter",(function(e){wt("Check if user hit ENTER...");var t=parseInt(r.textInput.style.left,10)-r.leftMargin,n=parseInt(r.textInput.style.top,10)-1.2*r.state.fontSize;if(13===e.keyCode){var o=r.textInput.value;r.textInput.value="",r.textInput.style.top=String(parseInt(r.textInput.style.top,10)+1.2*r.state.fontSize)+"px";var a=r.context,i=a.user.email||a.anonymousIdentifier,s=r.state.currentPage,c={value:o,x:t/(r.canvas.width/St),y:n/(r.canvas.height/St),color:r.state.color,fontSize:r.state.fontSize,fontFamily:r.state.fontFamily,time:r.time,type:"text",page:s,user:i,drawID:Ie(6)};r.drawText(c);var l=r.elements[s],u=r.nUndos[s];u>0&&(l.splice(l.length-u),wt("Page ".concat(s," now has ").concat(l.length," elements")),r.nUndos[s]=0),c.shouldLog=!1,l.push(c),r.props.onChange(l)}})),S()(f()(r),"drawText",(function(e){var t=e.x,n=e.y,o=e.value,a=e.color,i=e.drawID,s=e.user,c=e.fontSize,l=e.fontFamily,u=e.selected,d=e.shouldLog,h=void 0===d||d,p=r.ctx;p.font="".concat(c,"px ").concat(l),p.shadowBlur=0,p.fillStyle=u?"orange":a;var f=ae()(t*(r.canvas.width/St)),g=ae()(n*(r.canvas.height/St))+c;wt("Draw text at x: ".concat(f," and y: ").concat(g)),p.fillText(o,f,g);var v=r.context;if(h){var m={id:r.id,type:tt.lc,value:JSON.stringify({x:t,y:n,value:o,color:a,fontSize:c,fontFamily:l,page:r.state.currentPage,drawID:i,user:s,type:"text"})};r.hasChangedSinceLastSave=!0,v.isOwner()||r.state.groupMode?v.log(m,"members"):v.log(m)}})),S()(f()(r),"handleClick",(function(e){if(wt("Handle click event..."),"text"===r.state.mode){var t=r.mousePosition(e),n=t.x,o=t.y,a=r.textInput;a.style.left=String(n+r.leftMargin)+"px",a.style.width=String(window.innerWidth-(n+r.leftMargin))+"px",a.style.top=o+"px";var i=le()(r.state.canvasWidth-n,60);wt("Resize to width ".concat(i,"...")),a.style.width="".concat(i,"px"),a.focus()}else"deletion"===r.state.mode&&(wt("Checking whether a shape has been selected..."),r.checkDeletion(e))})),S()(f()(r),"checkDeletion",(function(e){for(var t=r.mousePosition(e),n=t.x,o=t.y,a=r.elements[r.state.currentPage],i=r.nUndos[r.state.currentPage],s=null,c=0;c<a.length-i;c++){var l=a[c];if("curve"===l.type){var u=l.points;if(r.ctx.beginPath(),r.ctx.lineCap="round",r.ctx.lineWidth=le()(l.lineWidth,16),Fe(r.ctx,u,r.canvas.width/St,r.canvas.height/St,.9,1),r.ctx.closePath(),r.ctx.isPointInStroke(n*St,o*St)){wt("Point (".concat(n,", ").concat(o,") is in path of element with ID ").concat(l.drawID)),s=c;break}}else if("text"===l.type){var d=r.ctx.measureText(l.value).width,h=ae()(l.x*(r.canvas.width/St)),p=ae()(l.y*(r.canvas.height/St));if(h<=n&&n<=h+d&&p<=o&&o<=p+l.fontSize){s=c;break}}}if(!re()(s)){var f=a[s].drawID;r.deleteElement(f,s);var g=r.context,v=g.user.email||g.anonymousIdentifier,m={id:r.id,type:tt.ic,value:JSON.stringify({drawID:f,page:r.state.currentPage,user:v,sessionID:g.sessionID})};r.hasChangedSinceLastSave=!0,g.isOwner()&&r.state.transmitOwner||r.state.groupMode?g.log(m,"members"):g.log(m,"owners")}})),S()(f()(r),"deleteElement",(function(e,t){for(var n,o,a=r.elements[r.state.currentPage],s="delete"===r.state.mode,c=r.nUndos[r.state.currentPage],l=t;l<a.length-c&&a[l].drawID===e;l++)o=l,a[l].selected=!s;for(var u=t;u>=0&&a[u].drawID===e;u--)n=u,a[u].selected=!s;if(s){wt("Delete elements ".concat(n," to ").concat(o));var d=a.splice(n,o-n+1);a.splice.apply(a,[a.length-c,0].concat(i()(d))),r.nUndos[r.state.currentPage]=c+d.length,r.onlyRedrawElements()}})),S()(f()(r),"firstPage",(function(){0!==r.state.currentPage&&(r.canvasWrapper.scrollTop=0,r.selectedElements&&r.deselectElements(),r.setState({currentPage:0},(function(){r.updateURL(r.state.currentPage),r.redraw(),r.context.log({id:r.id,type:tt.mc,value:r.state.currentPage})})))})),S()(f()(r),"lastPage",(function(){r.state.currentPage!==r.state.noPages-1&&(r.canvasWrapper.scrollTop=0,r.selectedElements&&r.deselectElements(),r.setState({currentPage:r.state.noPages-1},(function(){r.updateURL(r.state.currentPage),r.redraw(),r.context.log({id:r.id,type:tt.rc,value:r.state.currentPage})})))})),S()(f()(r),"readURL",(function(){var e=window.location.hash.slice(2);return Pt.test(e)?Number(e):0})),S()(f()(r),"updateURL",(function(e){window.location.hash="#/"+(e+1)})),S()(f()(r),"nextPage",(function(){if(r.state.currentPage<r.state.noPages-1){wt("Should go to next page..."),r.canvasWrapper.scrollTop=0;var e=r.state.currentPage+1;r.selectedElements&&r.deselectElements(),r.setState({currentPage:e},(function(){r.updateURL(r.state.currentPage),r.redraw(),r.context.log({id:r.id,type:tt.uc,value:r.state.currentPage})}))}})),S()(f()(r),"previousPage",(function(){if(r.state.currentPage>0){r.canvasWrapper.scrollTop=0;var e=r.state.currentPage-1;r.selectedElements&&r.deselectElements(),r.setState({currentPage:e},(function(){r.updateURL(r.state.currentPage),r.redraw(),r.context.log({id:r.id,type:tt.vc,value:r.state.currentPage})}))}})),S()(f()(r),"gotoPage",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];wt("Should go to page ".concat(e,"...")),(e=parseInt(e,10))!==r.state.currentPage?(r.canvasWrapper&&(r.canvasWrapper.scrollTop=0),r.selectedElements&&r.deselectElements(),r.setState({currentPage:e,showNavigationModal:!1},(function(){(r.updateURL(r.state.currentPage),r.redraw(),t)&&r.context.log({id:r.id,type:tt.nc,value:e})}))):r.setState({showNavigationModal:!1})})),S()(f()(r),"loadPDF",(function(){var e=document.createElement("input");e.type="file",e.accept=".pdf",e.addEventListener("change",r.handlePDFUpload,!1),e.click()})),S()(f()(r),"handlePDFUpload",(function(e){var t=e.target.files,n=new FileReader;n.onload=function(){var e=n.result;e=new Uint8Array(e),D.a.getDocument({data:e,disableFontFace:!1}).promise.then(r.processPDF).catch((function(e){wt(e)}))},n.readAsArrayBuffer(t[0])})),S()(f()(r),"initializePDF",(function(){return wt("Initialize PDF document at ".concat(r.props.pdf,"...")),new Promise((function(e,t){D.a.getDocument({url:r.props.pdf,disableFontFace:!1}).promise.then((function(n){wt("Retrieved PDF document... "),r.processPDF(n,(function(n){n?(wt("Encountered error in 'processPDF': ".concat(n.message)),t(n)):e()}))})).catch((function(e){wt("Encountered an error in 'initializePDF': ".concat(e.message))}))}))})),S()(f()(r),"processPDF",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge.a;wt("PDF loaded...");for(var n=e.numPages,o=new Array(n),a=new Array(n),i=new Array(n),s=new Array(n),c=0;c<n;c++)o[c]=[],a[c]=e.getPage(c+1),i[c]=[],s[c]=0;return Promise.all(a).then((function(e){wt("Retrieved all pages..."),r.backgrounds=e,r.elements=o,r.sharedElements=i,r.nUndos=s,r.setState({currentPage:0,noPages:n},(function(){r.state.hasRetrievedData&&r.drawPage(r.state.currentPage)})),t(null)})).catch((function(e){wt(e),t(e)}))})),S()(f()(r),"save",(function(){if(!r.hasChangedSinceLastSave)return new Promise((function(e){e()}));var e=r.context,t=me()(r.state,bt),n={elements:r.elements,nUndos:r.nUndos,state:t};return r.hasChangedSinceLastSave=!1,e.anonymous?(wt("Save created elements to local storage..."),e.store.setItem(r.id,n)):(wt("Saving data on server..."),e.saveSketchpadData(r.id,n))})),S()(f()(r),"closeResponseModal",(function(){r.setState({showUploadModal:!1,modalMessage:null})})),S()(f()(r),"toggleNavigationModal",(function(){r.setState({showNavigationModal:!r.state.showNavigationModal})})),S()(f()(r),"toggleSwiping",(function(){r.setState({swiping:!r.state.swiping})})),S()(f()(r),"movePointerStart",(function(e){e.stopPropagation(),wt("`onMouseDown` or `onTouchStart` event fired..."),e.touches&&e.touches.length>1&&(r.swipeStartX=e.touches[0].screenX,r.swipeStartY=e.touches[0].screenY)})),S()(f()(r),"movePointerEnd",(function(e){e.stopPropagation(),se()(r.swipeEndX-r.swipeStartX)>45&&se()(r.swipeEndY-r.swipeStartY)<40&&(r.swipeEndX>r.swipeStartX?r.previousPage():r.nextPage(),r.swipeEndX=0,r.swipeEndY=0,r.swipeStartX=0,r.swipeStartY=0),r.hideZoom(),r.hidePointer()})),S()(f()(r),"movePointer",(function(e){if(e.stopPropagation(),r.state.swiping&&e.touches&&e.touches.length>1){r.swipeEndX=e.touches[0].screenX,r.swipeEndY=e.touches[0].screenY,r.isMouseDown=!1;var t=r.swipeEndY-r.swipeStartY;r.verticalScroll(t)}else{var n=r.context,o=r.mousePosition(e),a=o.x,i=o.y;if("pointer"===r.state.mode)r.pointer.style.opacity=.7,r.pointer.style.left="".concat(a+r.leftMargin,"px"),r.pointer.style.top="".concat(i,"px");else if("zoom"===r.state.mode){var s=r.zoom,c=s.width,l=s.height,u=c/(2*St),d=l/(2*St);r.zoomCtx.clearRect(0,0,c,l);var h=c/St,p=l/St,f=a*St-u/2,g=i*St-d/2,v=0,m=0;f<0&&(v-=f,h+=h/u*(f=0),u+=f),g<0&&(m-=g,p+=p/d*(g=0),d+=g),r.zoomCtx.drawImage(r.canvas,f,g,u,d,v,m,h,p),r.zoom.style.display="block",r.zoom.style.left="".concat(a-u+r.leftMargin,"px"),r.zoom.style.top="".concat(i-d,"px")}var w={id:r.id,type:"pointer"===r.state.mode?tt.sc:tt.tc,value:JSON.stringify({x:a/(r.canvas.width/St),y:i/(r.canvas.height/St),sessionID:n.sessionID}),noSave:!0};n.log(w,"members")}})),S()(f()(r),"toLocalPage",(function(e,t){for(var n=r.state.insertedPages,o=e,a=0;a<n.length;a++){var i=n[a],s=i.page,c=i.email;s<e&&c!==t&&(o+=1)}return o})),S()(f()(r),"toOriginalPage",(function(e){for(var t=r.state.insertedPages,n=e,o=0;o<t.length;o++){var a=t[o].page;if(a===e)return null;a<e&&(n-=1)}return wt("Page with index ".concat(e," corresponds to original page number ").concat(n,"...")),n})),r.force=1,r.scaleRatio=1,r.elements=new Array(e.noPages),r.backgrounds=new Array(e.noPages),r.sharedElements=new Array(e.noPages),r.nUndos=new Array(e.noPages);for(var o=0;o<e.noPages;o++)r.elements[o]=[],r.backgrounds[o]=null,r.sharedElements[o]=[],r.nUndos[o]=0;r.hasChangedSinceLastSave=!1,r.canvas=null,r.ctx=null,r.id=e.id||yt(e);var a=r.readURL();return r.state={color:e.color,brushSize:e.brushSize,currentPage:a?a-1:0,fill:e.fill,fontFamily:e.fontFamily,fontSize:e.fontSize,groupMode:e.groupMode,hideInputButtons:e.hideInputButtons,hideNavigationButtons:e.hideNavigationButtons,hideSaveButtons:e.hideSaveButtons,hideTransmitButtons:e.hideTransmitButtons,isExporting:!1,modalMessage:null,noPages:e.noPages,insertedPages:[],showUploadModal:!1,mode:"none",showNavigationModal:!1,transmitOwner:e.transmitOwner,showInstructorAnnotations:!0,receiveFrom:{},showDeletePageModal:!1,showResetModal:!1,showFeedbackModal:!1,showSaveModal:!1,swiping:!0,verticalOffset:60,hasRetrievedData:!1},r.isMouseDown=!1,r.leftMargin=0,r}return h()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.context;if(this.zoomCtx.setTransform(St,0,0,St,0,0),this.ctx.setTransform(St,0,0,St,0,0),this.props.fullscreen&&window.addEventListener("resize",this.handleResize),window.addEventListener("unload",this.save),(this.props.pdf?this.initializePDF():Promise.resolve()).then((function(){(t.anonymous?t.getSketchpadVisitorData(e.id):t.getSketchpadUserData(e.id)).then(e.retrieveData).catch((function(e){wt(e)}))})),N.a.set(".sketch-canvas",{change:function(t){e.force=t}}),t&&(this.unsubscribe=t.subscribe((function(n,r){n!==nt.j&&n!==nt.k||(t.anonymous?t.store.getItem(e.id):t.getSketchpadUserData(e.id)).then(e.retrieveData).catch((function(e){wt(e)}));if(n===tt.Hc){wt("Hide control buttons in presentation mode...");var o={hideInputButtons:t.presentationMode,hideNavigationButtons:t.presentationMode,hideSaveButtons:t.presentationMode,hideTransmitButtons:t.presentationMode};e.props.fullscreen&&(o.verticalOffset=t.presentationMode?30:60,o.canvasHeight=window.innerHeight-o.verticalOffset,o.canvasWidth=window.innerWidth-40),e.setState(o,(function(){e.redraw()}))}else if(n===nt.n){if(r.id!==e.id)return;var a=r.type;if(wt("Received member action of type: "+a),r.email===t.user.email)if(a===tt.sc){var i=JSON.parse(r.value),s=i.x,c=i.y;i.sessionID!==t.sessionID&&(s*=e.canvas.width/St,c*=e.canvas.height/St,s="".concat(s+e.leftMargin,"px"),c="".concat(c,"px"),e.pointer.style.left=s,e.pointer.style.top=c,e.pointer.style.opacity=.7)}else if(a===tt.oc)e.pointer.style.opacity=0;else if(a===tt.tc){var l=JSON.parse(r.value),u=l.x,d=l.y;if(l.sessionID!==t.sessionID){u*=e.canvas.width/St,d*=e.canvas.height/St;var h=e.zoom,p=h.width,f=h.height,g=p/(2*St),v=f/(2*St);e.zoomCtx.clearRect(0,0,p,f);var m=p/St,w=f/St,y=u*St-g/2,b=d*St-v/2,P=0,S=0;y<0&&(P-=y,m+=m/g*(y=0),g+=y),b<0&&(S-=b,w+=w/v*(b=0),v+=b),e.zoomCtx.drawImage(e.canvas,y,b,g,v,P,S,m,w);var x="".concat(u-g+e.leftMargin,"px"),O="".concat(d-v,"px");e.zoom.style.top=O,e.zoom.style.left=x,e.zoom.style.display="block"}}else if(a===tt.pc)e.zoom.style.display="none";else if(a===tt.wc){var E=JSON.parse(r.value),k=E.diffY;E.sessionID!==t.sessionID&&(k*=e.canvas.height,e.canvasWrapper.scrollTop-=.1*k)}if(t.isOwner()){if(e.state.receiveFrom.name!==r.name&&!r.owner&&!e.state.groupMode)return;r.email===t.user.email&&(a!==tt.uc&&a!==tt.vc&&a!==tt.nc&&a!==tt.mc&&a!==tt.rc||(wt("Go to page ".concat(r.value,"...")),e.gotoPage(r.value,!1)))}if(a===tt.lc||a===tt.kc){var D=JSON.parse(r.value),C=e.elements[D.page],j=e.sharedElements[D.page],M=!1;if(D.user===t.user.email||D.user===t.anonymousIdentifier)for(var I=0;I<C.length;I++)if(C[I].drawID===D.drawID){M=!0;break}M||(D.shouldLog=!1,D.page===e.state.currentPage&&e.state.showInstructorAnnotations&&("text"===D.type?e.drawText(D):e.drawCurve(D)),D.user===t.user.email?C.push(D):j.push(D),e.props.onChange(C))}else if(a===tt.qc){var T=JSON.parse(r.value).pos;r.email!==t.user.email&&(T=e.toLocalPage(T,r.email)),kt(T,e.state.insertedPages)||(wt("Should insert page at ".concat(T,"...")),e.insertPage(T,r.email))}else if(a===tt.ic){var N=JSON.parse(r.value),R=N.drawID,F=N.page,z=N.user,A=N.sessionID;if(wt("Should delete element with id ".concat(R," by user ").concat(z)),A!==t.sessionID){for(var _,L=r.email===t.user.email?e.elements[F]:e.sharedElements[F],U=0;U<L.length;U++)if(L[U].drawID===R&&L[U].user===z){_=U;break}Object(K.isPrimitive)(_)&&(L.splice(_,1),e.redraw())}}else if(a===tt.jc){var B=JSON.parse(r.value),W=B.drawIDs,H=B.user,Y=B.page,X=B.dx,V=B.dy,G=B.sessionID;if(wt("Should drag specified elements by dx: ".concat(X," and dy: ").concat(V,"...")),G!==t.sessionID){for(var J=r.email===t.user.email?e.elements[Y]:e.sharedElements[Y],q=0;q<J.length;q++){var Z=J[q];if(Q()(W,Z.drawID)&&Z.user===H)if("curve"===Z.type)for(var $=Z.points,ee=0;ee<$.length;ee++)$[ee]+=ee%2==0?X:V;else"text"===Z.type&&(Z.x+=X,Z.y+=V)}e.redraw()}}else if(a===tt.hc){var te=JSON.parse(r.value),ne=te.page,re=te.sessionID,oe=r.email;if(re!==t.sessionID)if(oe===t.user.email)e.clearPage(ne);else{for(var ae=e.sharedElements[ne],ie=[],se=0;se<ae.length;se++){var ce=ae[se];ce.user!==oe&&ie.push(ce)}e.sharedElements[ne]=ie,e.redraw()}}else if(a===tt.gc&&r.value!==t.sessionID)if(r.email===t.user.email)e.clearAll(!0);else{for(var le=r.email,ue=0;ue<e.state.noPages;ue++){for(var de=e.sharedElements[ue],he=[],pe=0;pe<de.length;pe++){var fe=de[pe];fe.user!==le&&he.push(fe)}e.sharedElements[ue]=he}e.redraw()}}}))),this.props.autoSave&&(this.saveInterval=setInterval(this.save,this.props.intervalTime)),this.props.fullscreen){var n={passive:!1};document.addEventListener("touchstart",this.preventDefaultTouch,n),document.addEventListener("touchend",this.preventDefaultTouch,n),document.addEventListener("touchmove",this.preventDefaultTouch,n)}document.addEventListener("visibilitychange",this.handleVisibilityChange),this.props.fullscreen&&document.body.addEventListener("gesturestart",Ot),window.addEventListener("hashchange",this.handleHashChange)}},{key:"componentDidUpdate",value:function(e){var t=this;if(e.noPages!==this.props.noPages){this.elements=new Array(this.props.noPages),this.backgrounds=new Array(this.props.noPages),this.sharedElements=new Array(this.props.noPages),this.nUndos=new Array(this.props.noPages);for(var n=0;n<this.props.noPages;n++)this.elements[n]=[],this.backgrounds[n]=null,this.sharedElements[n]=[],this.nUndos[n]=0;this.setState({noPages:this.props.noPages},(function(){t.redraw()}))}e.pdf!==this.props.pdf&&this.initializePDF(),this.props.canvasWidth===e.canvasWidth&&this.props.canvasHeight===e.canvasHeight||this.redraw()}},{key:"componentWillUnmount",value:function(){this.save(),this.saveInterval&&clearInterval(this.saveInterval),this.unsubscribe&&this.unsubscribe(),window.removeEventListener("resize",this.handleResize),window.removeEventListener("hashchange",this.handleHashChange),window.removeEventListener("unload",this.save);var e={passive:!1};this.props.fullscreen&&(document.removeEventListener("touchstart",this.preventDefaultTouch,e),document.removeEventListener("touchend",this.preventDefaultTouch,e),document.removeEventListener("touchmove",this.preventDefaultTouch,e)),document.removeEventListener("visibilitychange",this.handleVisibilityChange,e),this.props.fullscreen&&document.removeEventListener("gesturestart",Ot)}},{key:"deselectElements",value:function(){wt("Deselect elements...");var e=this.selectedElements;if(e)for(var t=0;t<e.length;t++)e[t].selected=!1;this.selectedElements=null,this.dragPoints=null,this.canvasBuffer=null}},{key:"renderProgressModal",value:function(){return this.state.isExporting?c()(W.a,{show:this.state.isExporting,onHide:ge.a},void 0,c()(W.a.Header,{},void 0,c()(W.a.Title,{},void 0,this.props.t("generate-pdf")))):null}},{key:"renderUploadModal",value:function(){return this.state.showUploadModal?c()(W.a,{show:this.state.showUploadModal,onHide:this.closeResponseModal},void 0,c()(W.a.Header,{closeButton:!0},void 0,c()(W.a.Title,{},void 0,this.props.t("server-response"))),c()(W.a.Body,{},void 0,this.state.modalMessage),c()(W.a.Footer,{},void 0,c()(B.a,{onClick:this.closeResponseModal},void 0,this.props.t("close")))):null}},{key:"renderPagination",value:function(){var e=this;if(this.state.hideNavigationButtons)return null;var t=this.props.t,n=this.state.currentPage;return this.props.dynamicallyHideButtons&&this.state.canvasWidth<600?c()(U.a,{size:"sm",className:"sketch-pages"},void 0,c()(B.a,{variant:"light",onClick:this.toggleNavigationModal},void 0,n+1,"/",this.state.noPages),c()(Oe.a,{owner:!0},void 0,c()(ze,{tooltip:t("insert-page"),onClick:function(){var t=e.state.currentPage+1;e.insertPage(t)},glyph:"plus",size:"sm"}))):c()(U.a,{size:"sm",className:"sketch-pages"},void 0,c()(B.a,{variant:"light",onClick:this.toggleNavigationModal},void 0,n+1,"/",this.state.noPages),c()(ze,{tooltip:t("goto-first"),onClick:this.firstPage,glyph:"fast-backward",size:"sm"}),c()(ze,{tooltip:t("goto-previous"),onClick:this.previousPage,glyph:"backward",size:"sm"}),c()(ze,{tooltip:t("goto-next"),onClick:this.nextPage,glyph:"forward",size:"sm"}),c()(ze,{tooltip:t("goto-last"),onClick:this.lastPage,glyph:"fast-forward",size:"sm"}),c()(Oe.a,{owner:!0},void 0,c()(ze,{tooltip:t("insert-page"),onClick:function(){var t=e.state.currentPage+1;e.insertPage(t)},glyph:"plus",size:"sm"})))}},{key:"renderInputButtons",value:function(){var e=this;return this.state.hideInputButtons?null:c()(Ze,{brushSize:this.state.brushSize,color:this.state.color,mode:this.state.mode,fontFamily:this.state.fontFamily,fontSize:this.state.fontSize,onModeChange:function(t){"drag"===e.state.mode&&"drag"!==t&&(e.deselectElements(),e.onlyRedrawElements()),e.setState({mode:t}),"pointer"!==t?e.pointer.style.opacity=0:"pointer"===t&&(e.pointer.style.opacity=.7)},onColorChange:function(t){e.setState({color:t})},onBrushSelect:function(t){e.setState({brushSize:t.target.value,mode:"drawing"})},onFontFamilySelect:function(t){e.setState({fontFamily:t,mode:"text"})},onFontSizeSelect:function(t){e.setState({fontSize:Number(t.target.value),mode:"text"})},t:this.props.t})}},{key:"renderRemoveButtons",value:function(){var e=this;if(this.state.hideInputButtons||this.props.dynamicallyHideButtons&&this.state.canvasWidth<900)return null;var t=this.props.t;return c()(U.a,{size:"sm",className:"sketch-undo-redo sketch-button-group"},void 0,c()(ze,{tooltip:t("undo"),onClick:this.undo,glyph:"step-backward",size:"sm"}),c()(ze,{tooltip:t("redo"),glyph:"step-forward",onClick:this.redo,size:"sm"}),c()(ze,{tooltip:t("clear-current"),onClick:function(){e.setState({showDeletePageModal:!e.state.showDeletePageModal})},glyph:"eraser",size:"sm"}),c()(ze,{tooltip:t("reset-pages"),onClick:function(){e.setState({showResetModal:!e.state.showResetModal})},glyph:"power-off",size:"sm"}))}},{key:"renderSaveButtons",value:function(){var e=this;if(this.state.hideSaveButtons||this.props.dynamicallyHideButtons&&this.state.canvasWidth<775)return null;var t=this.context,n=this.props.t;return c()(U.a,{size:"sm",className:"sketch-save-buttons sketch-button-group"},void 0,this.props.pdf?null:c()(ze,{tooltip:n("load-pdf"),onClick:this.loadPDF,size:"sm",glyph:"file"}),c()(ze,{tooltip:n("download"),onClick:this.toggleSaveModal,glyph:"file-pdf",size:"sm"}),c()(ze,{tooltip:t.anonymous?n("save-local"):n("save-server"),onClick:function(){e.save().then((function(){t.addNotification({title:n("saved"),message:t.anonymous?n("saved-local"):n("saved-server"),level:"success",position:"tr"})})).catch((function(e){t.addNotification({title:n("encountered-error"),message:e.message,level:"error",position:"tr"})}))},glyph:"save",size:"sm"}),c()(ze,{tooltip:n("upload-to-server"),onClick:this.uploadSketches,glyph:"upload",size:"sm"}),xt?c()(ze,{tooltip:"".concat(this.state.swiping?"Disable":"Enable"," two-finger swiping gestures for changing slides"),variant:this.state.swiping?"success":"secondary",onClick:this.toggleSwiping,glyph:"fingerprint",size:"sm"}):null)}},{key:"renderTransmitButtons",value:function(){var e=this;if(this.state.hideTransmitButtons||this.state.canvasWidth<650)return null;var t,n=this.context.userList.filter((function(e){return re()(e.exitTime)})).map((function(e){return{value:e.name,label:e.name}})),r=c()(A.a,{id:"popover-positioned-right"},void 0,c()(L.a,{},void 0,this.props.t("remote-control-by")),c()(_.a,{},void 0,c()(H.a,{isClearable:!0,inline:!0,options:n,onChange:function(t){e.setState({receiveFrom:t})}}),c()(V.a,{defaultValue:this.state.groupMode,onChange:this.toggleGroupMode,legend:this.props.t("group-mode")})));this.props.pdf&&(t=c()(ze,{size:"sm",tooltip:"vertical"===this.state.fill?this.props.t("fill-entire-width"):this.props.t("fit-page"),onClick:function(){var t;t="vertical"===e.state.fill?"horizontal":"vertical",e.setState({fill:t},e.redraw)},glyph:"vertical"===this.state.fill?"fas fa-grip-lines":"fas fa-grip-lines-vertical"}));var o=this.props.t;return c()(x.Fragment,{},void 0,c()(Oe.a,{owner:!0},void 0,c()(U.a,{size:"sm",className:"sketch-button-group"},void 0,c()(ze,{size:"sm",tooltip:this.state.transmitOwner?o("disable-transmissions"):o("enable-transmissions"),variant:this.state.transmitOwner?"success":"light",onClick:this.toggleTransmit,glyph:"bullhorn"}),c()(z.a,{trigger:"click",placement:"bottom",rootClose:!0,overlay:r},void 0,Ct),t)),c()(Oe.a,{notOwner:!0},void 0,c()(U.a,{size:"sm",className:"sketch-button-group"},void 0,c()(ze,{size:"sm",tooltip:this.state.showInstructorAnnotations?o("show-only-own-annotations"):o("show-all-annotations"),variant:this.state.showInstructorAnnotations?"success":"light",onClick:function(){e.setState({showInstructorAnnotations:!e.state.showInstructorAnnotations},(function(){e.redraw()}))},glyph:this.state.showInstructorAnnotations?"fa fa-toggle-on":"fa fa-toggle-off"}),t)))}},{key:"verticalScroll",value:function(e){if(e>30||e<-30){var t=this.context,n={id:this.id,type:tt.wc,value:JSON.stringify({diffY:e/this.canvas.height,sessionID:t.sessionID}),noSave:!0};t.log(n,"members"),this.canvasWrapper.scrollTop-=.1*e}}},{key:"renderHTMLOverlays",value:function(){for(var e=ye()(this.props.nodes),t=[],n=this.toOriginalPage(this.state.currentPage),r=0;r<e.length;r++){var o=this.props.nodes[e[r]],a="invisible-page";e[r]===String(n+1)&&(a="sketch-node-container"),te()(o)&&o.component?o.style?(e[r]===String(n+1)&&(a="sketch-node-container-basic"),t.push(c()("div",{style:o.style,className:a,onKeyDown:Et},r,o.component))):t.push(c()("div",{className:a,onKeyDown:Et},r,o.component)):t.push(c()("div",{className:a,onKeyDown:Et},r,o))}return t}},{key:"renderFeedbackButtons",value:function(){var e=this,t=this.toOriginalPage(this.state.currentPage);return!this.props.feedbackButtons||re()(t)?null:c()(x.Fragment,{},void 0,c()(J.a,{id:"".concat(this.id,"-slide-").concat(t),customFeedback:!1,vertical:!0,style:{zIndex:3,position:"absolute",top:35,right:20}},"".concat(this.id,"-slide-").concat(t)),c()(Oe.a,{owner:!0},void 0,c()(G.a,{tooltip:this.props.t("open-slide-feedback"),placement:"left"},void 0,c()(B.a,{onClick:function(){return e.setState({showFeedbackModal:!e.state.showFeedbackModal})},variant:"secondary",size:"sm",style:{right:20,top:175,position:"absolute",zIndex:3}},void 0,this.props.t("show")))))}},{key:"render",value:function(){var e,t,n=this;switch(wt("Render sketchpad with height ".concat(this.props.canvasHeight," and width ").concat(this.props.canvasWidth)),this.state.mode){case"drawing":e="crosshair";break;case"text":e="text";break;case"drag":e="move";break;case"delete":e="not-allowed";break;default:e="default"}if("pointer"===this.state.mode||"zoom"===this.state.mode)t={onMouseDown:this.movePointerStart,onMouseMove:this.movePointer,onMouseOut:this.movePointerEnd,onMouseUp:this.movePointerEnd,onTouchCancel:this.movePointerEnd,onTouchEnd:this.movePointerEnd,onTouchMove:this.movePointer,onTouchStart:this.movePointerStart};else if("none"===this.state.mode){var r=function(e){e.stopPropagation(),se()(n.swipeEndX-n.swipeStartX)>45&&se()(n.swipeEndY-n.swipeStartY)<40&&(n.swipeEndX>n.swipeStartX?n.previousPage():n.nextPage(),n.swipeEndX=0,n.swipeEndY=0,n.swipeStartX=0,n.swipeStartY=0)};t={onTouchCancel:r,onTouchEnd:r,onTouchMove:function(e){if(e.stopPropagation(),n.state.swiping&&e.touches&&e.touches.length>1){n.swipeEndX=e.touches[0].screenX,n.swipeEndY=e.touches[0].screenY,n.isMouseDown=!1;var t=n.swipeEndY-n.swipeStartY;n.verticalScroll(t)}},onTouchStart:function(e){e.stopPropagation(),e.touches&&e.touches.length>1&&(n.swipeStartX=e.touches[0].screenX,n.swipeStartY=e.touches[0].screenY)}}}else t={onClick:this.handleClick,onMouseDown:this.drawStart,onMouseMove:this.draw,onMouseOut:this.drawEnd,onMouseUp:this.drawEnd,onTouchCancel:this.drawEnd,onTouchEnd:this.drawEnd,onTouchMove:this.draw,onTouchStart:this.drawStart};var a=O.a.createElement("canvas",o()({className:"sketch-canvas",width:this.state.canvasWidth*St,height:this.state.canvasHeight*St,style:dt({position:"absolute",margin:"auto",cursor:e,width:this.state.canvasWidth,height:this.state.canvasHeight},this.props.style),ref:function(e){e&&(n.canvas=e,n.ctx=e.getContext("2d"))}},t)),i=O.a.createElement("canvas",{className:"sketchpad-magnifying-glass",width:this.state.canvasWidth*St/4,height:this.state.canvasHeight*St/4,style:{width:this.state.canvasWidth/4,height:this.state.canvasHeight/4},ref:function(e){e&&(n.zoom=e,n.zoomCtx=e.getContext("2d"),n.zoomCtx.imageSmoothingQuality="high")}});return c()(x.Fragment,{},void 0,c()(R.ContextMenuTrigger,{id:"sketchpadWindow"},void 0,O.a.createElement(F.a,{id:this.id,ref:function(e){n.sketchpadPanel=e},className:"modal-container",style:{width:this.state.canvasWidth+2,position:"relative",marginBottom:this.props.fullscreen?"0px":"20px",marginLeft:"auto",marginRight:"auto"},tabIndex:"0"},c()("div",{className:"sketch-panel-heading clearfix unselectable"},void 0,this.renderPagination(),this.renderInputButtons(),this.renderRemoveButtons(),this.renderTransmitButtons(),this.renderSaveButtons(),c()(ke.a,{reference:this,id:this.props.voiceID,commands:Ne})),this.renderFeedbackButtons(),O.a.createElement("div",{className:"canvas-wrapper",style:{width:this.state.canvasWidth,height:this.state.canvasHeight},ref:function(e){n.canvasWrapper=e}},this.renderHTMLOverlays(),a,i,O.a.createElement("div",o()({className:"textLayer",ref:function(e){n.textLayer=e},style:{pointerEvents:"none"!==this.state.mode?"none":"auto"}},t)),O.a.createElement("div",{ref:function(e){n.pointer=e},className:"sketch-pointer"})),O.a.createElement("input",{type:"text",className:"sketch-text-input",style:{display:"text"===this.state.mode?"inline-block":"none",fontSize:this.state.fontSize,fontFamily:this.state.fontFamily,color:this.state.color,width:this.state.canvasWidth},onKeyDown:this.handleEnter,ref:function(e){n.textInput=e}}),this.renderUploadModal(),c()(gt,{show:this.state.showNavigationModal,onSelect:this.gotoPage,noPages:this.state.noPages,onHide:this.toggleNavigationModal,t:this.props.t}),this.renderProgressModal(),c()(pt,{show:this.state.showResetModal,onSubmit:this.clearAll,onHide:function(){n.setState({showResetModal:!1})},t:this.props.t}),c()(ft,{show:this.state.showDeletePageModal,onSubmit:this.clear,onHide:function(){n.setState({showDeletePageModal:!1})},t:this.props.t}),c()(mt,{show:this.state.showSaveModal,saveAsPDF:this.saveAsPDF,saveAsPNG:this.saveAsPNG,onHide:this.toggleSaveModal,pdf:this.props.pdf,session:this.context,id:this.id,t:this.props.t}),this.state.showFeedbackModal?c()(vt,{session:this.context,show:this.state.showFeedbackModal,onHide:function(){n.setState({showFeedbackModal:!n.state.showFeedbackModal})},id:this.id,noPages:this.state.noPages,toOriginalPage:this.toOriginalPage,gotoPage:this.gotoPage,t:this.props.t}):null,this.props.showTutorial?jt:null)),this.sketchpadPanel?c()(Ee.a,{container:this.sketchpadPanel,actions:{ArrowDown:this.nextPage,ArrowUp:this.previousPage}}):null,c()(it,{canvas:this.canvas}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.fullscreen?{canvasHeight:window.innerHeight-t.verticalOffset,canvasWidth:window.innerWidth-40}:t.canvasHeight!==e.canvasHeight||t.canvasWidth!==e.canvasWidth?{canvasHeight:e.canvasHeight,canvasWidth:e.canvasWidth}:null}}]),n}(x.Component);Mt.defaultProps={autoSave:!0,feedbackButtons:!1,intervalTime:1e4,hideInputButtons:!1,hideNavigationButtons:!1,hideSaveButtons:!1,hideTransmitButtons:!1,brushSize:4,color:"#444444",canvasWidth:1200,canvasHeight:700,fullscreen:!1,fill:"vertical",disabled:!1,fontFamily:"Arial",fontSize:24,nodes:{},noPages:1,pdf:null,showTutorial:!1,dynamicallyHideButtons:!1,transmitOwner:!0,groupMode:!1,voiceID:null,style:{},onChange:function(){}},Mt.contextType=Te.a;t.default=Object(E.a)("sketchpad")(Mt)},3400:function(e,t,n){var r,o,a;o=[],void 0===(a="function"==typeof(r=function(){"use strict";function e(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function t(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a={set:function(e,t,n){h(e,t,n)},config:function(e){d.set(e)},map:function(e,t,n,r,o){return f.apply(null,arguments)}},i=function(){function e(t,r,o){n(this,e),this.routeEvents(t,r,o),this.preventSelect(t,o)}return o(e,[{key:"routeEvents",value:function(e,t,n){var r=d.get("only",n);this.adapter=!m||"pointer"!==r&&null!==r?!v||"touch"!==r&&null!==r?!g||"mouse"!==r&&null!==r?new s(e,t).bindUnsupportedEvent():new c(e,t,n).bindEvents():new l(e,t,n).bindEvents():new u(e,t,n).bindEvents()}},{key:"preventSelect",value:function(e,t){d.get("preventSelect",t)&&(e.style.webkitTouchCallout="none",e.style.webkitUserSelect="none",e.style.khtmlUserSelect="none",e.style.MozUserSelect="none",e.style.msUserSelect="none",e.style.userSelect="none")}}]),e}(),s=function(){function e(t,r,o){n(this,e),this.el=t,this.block=r,this.options=o,this.pressed=!1,this.deepPressed=!1,this.nativeSupport=!1,this.runningPolyfill=!1,this.runKey=Math.random()}return o(e,[{key:"setPressed",value:function(e){this.pressed=e}},{key:"setDeepPressed",value:function(e){this.deepPressed=e}},{key:"isPressed",value:function(){return this.pressed}},{key:"isDeepPressed",value:function(){return this.deepPressed}},{key:"add",value:function(e,t){this.el.addEventListener(e,t,!1)}},{key:"runClosure",value:function(e){e in this.block&&this.block[e].apply(this.el,Array.prototype.slice.call(arguments,1))}},{key:"fail",value:function(e,t){d.get("polyfill",this.options)?this.runKey===t&&this.runPolyfill(e):this.runClosure("unsupported",e)}},{key:"bindUnsupportedEvent",value:function(){var e=this;this.add(v?"touchstart":"mousedown",(function(t){return e.runClosure("unsupported",t)}))}},{key:"_startPress",value:function(e){!1===this.isPressed()&&(this.runningPolyfill=!1,this.setPressed(!0),this.runClosure("start",e))}},{key:"_startDeepPress",value:function(e){this.isPressed()&&!1===this.isDeepPressed()&&(this.setDeepPressed(!0),this.runClosure("startDeepPress",e))}},{key:"_changePress",value:function(e,t){this.nativeSupport=!0,this.runClosure("change",e,t)}},{key:"_endDeepPress",value:function(){this.isPressed()&&this.isDeepPressed()&&(this.setDeepPressed(!1),this.runClosure("endDeepPress"))}},{key:"_endPress",value:function(){!1===this.runningPolyfill?(this.isPressed()&&(this._endDeepPress(),this.setPressed(!1),this.runClosure("end")),this.runKey=Math.random(),this.nativeSupport=!1):this.setPressed(!1)}},{key:"deepPress",value:function(e,t){e>=.5?this._startDeepPress(t):this._endDeepPress()}},{key:"runPolyfill",value:function(e){this.increment=0===d.get("polyfillSpeedUp",this.options)?1:10/d.get("polyfillSpeedUp",this.options),this.decrement=0===d.get("polyfillSpeedDown",this.options)?1:10/d.get("polyfillSpeedDown",this.options),this.setPressed(!0),this.runClosure("start",e),!1===this.runningPolyfill&&this.loopPolyfillForce(0,e)}},{key:"loopPolyfillForce",value:function(e,t){!1===this.nativeSupport&&(this.isPressed()?(this.runningPolyfill=!0,e=e+this.increment>1?1:e+this.increment,this.runClosure("change",e,t),this.deepPress(e,t),setTimeout(this.loopPolyfillForce.bind(this,e,t),10)):((e=e-this.decrement<0?0:e-this.decrement)<.5&&this.isDeepPressed()&&(this.setDeepPressed(!1),this.runClosure("endDeepPress")),0===e?(this.runningPolyfill=!1,this.setPressed(!0),this._endPress()):(this.runClosure("change",e,t),this.deepPress(e,t),setTimeout(this.loopPolyfillForce.bind(this,e,t),10))))}}]),e}(),c=function(r){function a(t,r,o){return n(this,a),e(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t,r,o))}return t(a,r),o(a,[{key:"bindEvents",value:function(){this.add("webkitmouseforcewillbegin",this._startPress.bind(this)),this.add("mousedown",this.support.bind(this)),this.add("webkitmouseforcechanged",this.change.bind(this)),this.add("webkitmouseforcedown",this._startDeepPress.bind(this)),this.add("webkitmouseforceup",this._endDeepPress.bind(this)),this.add("mouseleave",this._endPress.bind(this)),this.add("mouseup",this._endPress.bind(this))}},{key:"support",value:function(e){!1===this.isPressed()&&this.fail(e,this.runKey)}},{key:"change",value:function(e){this.isPressed()&&e.webkitForce>0&&this._changePress(this.normalizeForce(e.webkitForce),e)}},{key:"normalizeForce",value:function(e){return this.reachOne(f(e,1,3,0,1))}},{key:"reachOne",value:function(e){return e>.995?1:e}}]),a}(s),l=function(r){function a(t,r,o){return n(this,a),e(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t,r,o))}return t(a,r),o(a,[{key:"bindEvents",value:function(){y?(this.add("touchforcechange",this.start.bind(this)),this.add("touchstart",this.support.bind(this,0)),this.add("touchend",this._endPress.bind(this))):(this.add("touchstart",this.startLegacy.bind(this)),this.add("touchend",this._endPress.bind(this)))}},{key:"start",value:function(e){e.touches.length>0&&(this._startPress(e),this.touch=this.selectTouch(e),this.touch&&this._changePress(this.touch.force,e))}},{key:"support",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.runKey;!1===this.isPressed()&&(e<=6?(e++,setTimeout(this.support.bind(this,e,t,n),10)):this.fail(t,n))}},{key:"startLegacy",value:function(e){this.initialForce=e.touches[0].force,this.supportLegacy(0,e,this.runKey,this.initialForce)}},{key:"supportLegacy",value:function(e,t,n,r){r!==this.initialForce?(this._startPress(t),this.loopForce(t)):e<=6?(e++,setTimeout(this.supportLegacy.bind(this,e,t,n,r),10)):this.fail(t,n)}},{key:"loopForce",value:function(e){this.isPressed()&&(this.touch=this.selectTouch(e),setTimeout(this.loopForce.bind(this,e),10),this._changePress(this.touch.force,e))}},{key:"selectTouch",value:function(e){if(1===e.touches.length)return this.returnTouch(e.touches[0],e);for(var t=0;t<e.touches.length;t++)if(e.touches[t].target===this.el||this.el.contains(e.touches[t].target))return this.returnTouch(e.touches[t],e)}},{key:"returnTouch",value:function(e,t){return this.deepPress(e.force,t),e}}]),a}(s),u=function(r){function a(t,r,o){return n(this,a),e(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t,r,o))}return t(a,r),o(a,[{key:"bindEvents",value:function(){this.add("pointerdown",this.support.bind(this)),this.add("pointermove",this.change.bind(this)),this.add("pointerup",this._endPress.bind(this)),this.add("pointerleave",this._endPress.bind(this))}},{key:"support",value:function(e){!1===this.isPressed()&&(0===e.pressure||.5===e.pressure||e.pressure>1?this.fail(e,this.runKey):(this._startPress(e),this._changePress(e.pressure,e)))}},{key:"change",value:function(e){this.isPressed()&&e.pressure>0&&.5!==e.pressure&&(this._changePress(e.pressure,e),this.deepPress(e.pressure,e))}}]),a}(s),d={polyfill:!0,polyfillSpeedUp:1e3,polyfillSpeedDown:0,preventSelect:!0,only:null,get:function(e,t){return t.hasOwnProperty(e)?t[e]:this[e]},set:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&"get"!=t&&"set"!=t&&(this[t]=e[t])}},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof e||e instanceof String)for(var r=document.querySelectorAll(e),o=0;o<r.length;o++)new i(r[o],t,n);else if(p(e))new i(e,t,n);else for(o=0;o<e.length;o++)new i(e[o],t,n)},p=function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":r(HTMLElement))?e instanceof HTMLElement:e&&"object"===(void 0===e?"undefined":r(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},f=function(e,t,n,r,o){return(e-t)*(o-r)/(n-t)+r},g=!1,v=!1,m=!1,w=!1,y=!1;if("undefined"!=typeof window){if("undefined"!=typeof Touch)try{(Touch.prototype.hasOwnProperty("force")||"force"in new Touch)&&(w=!0)}catch(e){}v="ontouchstart"in window.document&&w,g="onmousemove"in window.document&&!v,m="onpointermove"in window.document,y="ontouchforcechange"in window.document}return a})?r.apply(t,o):r)||(e.exports=a)},3401:function(e){e.exports=JSON.parse('[{"command":"nextPage","trigger":"next","description":"Go to next page"},{"command":"prevPage","trigger":"previous","description":"Go to the previous next page"},{"command":"firstPage","trigger":["first","First"],"description":"Jump to the first page"},{"command":"lastPage","trigger":"last","description":"Jump to the last page"}]')},3402:function(e,t,n){n(932)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))},3403:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=n(3404),a=(r=o)&&r.__esModule?r:{default:r};t.default=a.default},3404:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Twitter=void 0;var r=u(n(0)),o=u(n(8)),a=u(n(679)),i=u(n(1268)),s=u(n(1104)),c=u(n(1390)),l=n(881);function u(e){return e&&e.__esModule?e:{default:e}}var d=t.Twitter=function(e){var t=e.onChange,n=e.onSwatchHover,o=e.hex,u=e.colors,d=e.width,h=e.triangle,p=e.styles,f=void 0===p?{}:p,g=e.className,v=void 0===g?"":g,m=(0,a.default)((0,s.default)({default:{card:{width:d,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},f),{"hide-triangle":"hide"===h,"top-left-triangle":"top-left"===h,"top-right-triangle":"top-right"===h}),w=function(e,n){c.default.isValidHex(e)&&t({hex:e,source:"hex"},n)};return r.default.createElement("div",{style:m.card,className:"twitter-picker "+v},r.default.createElement("div",{style:m.triangleShadow}),r.default.createElement("div",{style:m.triangle}),r.default.createElement("div",{style:m.body},(0,i.default)(u,(function(e,t){return r.default.createElement(l.Swatch,{key:t,color:e,hex:e,style:m.swatch,onClick:w,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),r.default.createElement("div",{style:m.hash},"#"),r.default.createElement(l.EditableInput,{label:null,style:{input:m.input},value:o.replace("#",""),onChange:w}),r.default.createElement("div",{style:m.clear})))};d.propTypes={width:o.default.oneOfType([o.default.string,o.default.number]),triangle:o.default.oneOf(["hide","top-left","top-right"]),colors:o.default.arrayOf(o.default.string),styles:o.default.object},d.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},t.default=(0,l.ColorWrap)(d)},3405:function(e){e.exports=JSON.parse('[{"target":".sketch-drawing-buttons","content":"In the drawing mode, you can draw lines on the sketchpad. Try it out. Also try changing the brush size and brush color."},{"target":".sketch-pages","content":"Use the + button to insert a new page and the other buttons for navigation."},{"target":".sketch-text-buttons","content":"In the text mode, you can insert text annotations. Click on a point on the sketchpad to create a note and insert it by hitting ENTER."},{"target":".sketch-drag-delete-modes","content":"The drag and delete modes allow you to move around and delete created elements, respectively. Once either mode is selected, simply click on an element on the page to drag or delete it. The laser pointer and magnifying glass may be used to highlight and zoom in on parts of the current slide."},{"target":".sketch-undo-redo","content":"The undo button allows you to revert the last additions you made to the slides, while the redo button can redraw elements which were previously undone."},{"target":".sketch-save-buttons","content":"You can either export the current page as an image file or all pages as a PDF document. Alternatively, your notes can also be uploaded directly to the ISLE server by clicking the button to the right. Once the upload is finished, make sure to save the displayed link to the uploaded file."},{"target":".sketch-save-buttons","content":"Your notes are autosaved to the local storage of your web browser at regular intervals. However, to make sure the latest changes are saved, you are advised to click the \\"Save in browser\\" button before closing the page."}]')},3406:function(e){e.exports=JSON.parse('{"DE":{"brush-size":"Pinselgr\xf6\xdfe","by":"von","change-brush-color":"Pinselfarbe \xe4ndern","clear":"L\xf6schen","clear-current":"Aktuelle Seite l\xf6schen","clear-page":"Seite l\xf6schen","clear-page-modal-body":"Sind Sie sicher, dass Sie die Elemente auf der aktuellen Seite l\xf6schen wollen?","close":"Schlie\xdfen","delete-mode":"L\xf6schen-Modus","disable-transmissions":"Klicken, um Senden von Aktionen zu deaktivieren","download":"Folien herunterladen","download-instructor-annotations":"Download PDF with instructor annotations","download-original":"Original-PDF herunterladen","drag-mode":"Ziehen-Modus","drawing-mode":"Zeichnen-Modus","enable-transmissions":"Klicken, um Senden von Aktionen zu aktivieren","encountered-error":"Fehler aufgetreten","export-pdf":"Meine Anmerkungen als PDF exportieren","export-png":"Aktuelle Folie als PNG exportieren","fill-entire-width":"Klicken, um die gesamte Skizzenblockbreite mit der Seite zu f\xfcllen","fit-page":"Zum Einpassen der Seite auf dem Skizzenblock anklicken","font-size":"Schriftgr\xf6\xdfe","generate-pdf":"PDF erzeugen...","goto-first":"Gehe zur ersten Seite","goto-last":"Gehe zur letzten Seite","goto-next":"Gehe zur n\xe4chsten Seite","goto-previous":"Gehe zur vorherigen Seite","group-mode":"Gruppen-Modus","insert-page":"Seite nach der aktuellen Seite einf\xfcgen","jump-page":"Zur Seite springen","last-updated":"zuletzt aktualisiert","load-pdf":"PDF laden (l\xf6scht den aktuellen Skizzenblock)","magnifying-glass":"Vergr\xf6\xdferungsglas","open-slide-feedback":"Folienfeedback anzeigen","page":"Seite","pdf-uploaded":"PDF hochgeladen","pointer-mode":"Laserpointer","redo":"Wiederherstellen","remote-control-by":"Fernsteuerung durch...","reset":"Zur\xfccksetzen","reset-modal-body":"Sind Sie sicher, dass Sie den Skizzenblock-Inhalt auf seinen Standardwert zur\xfccksetzen wollen? Diese Aktion ist irreversibel, und Ihre gesamte Arbeit geht verloren, wenn Sie sie nicht speichern.","reset-pages":"Alle Seiten zur\xfccksetzen","reset-sketchpad":"Skizzenblock zur\xfccksetzen","save-local":"Im lokalen Browser speichern","save-server":"Auf Server speichern","saved":"Gespeichert","saved-local":"Im lokalen Browser gespeichert","saved-server":"Auf Server gespeichert","server-response":"Server-Antwort","show-all-annotations":"Alle Anmerkungen anzeigen","show-only-own-annotations":"Nur eigene Anmerkungen anzeigen","show":"Anzeigen","text-mode":"Text-Modus","undo":"R\xfcckg\xe4ngig machen","upload-email":"Lieber {{name}}, Deine Notizen wurden erfolgreich hochgeladen und sind nun hier verf\xfcgbar: ","upload-successful":"Die Datei wurde erfolgreich hochgeladen und kann unter folgender Adresse abgerufen werden","upload-to-server":"Hochladen auf den Server"},"EN":{"brush-size":"Brush Size","by":"by","change-brush-color":"Change brush color","clear":"Clear","clear-current":"Clear current page","clear-page":"Clear Page","clear-page-modal-body":"Are you sure you want to delete the elements on the current page?","close":"Close","delete-mode":"Delete Mode","disable-transmissions":"Click to disable transmitting actions","download":"Download Slides","download-instructor-annotations":"Download PDF with instructor annotations","download-original":"Download original PDF","drag-mode":"Drag Mode","drawing-mode":"Drawing Mode","enable-transmissions":"Click to enable transmitting actions","encountered-error":"Encountered an error","export-pdf":"Export my annotations as PDF","export-png":"Export current slide as PNG","fill-entire-width":"Click to fill entire sketchpad width with page","fit-page":"Click to fit page on the sketchpad","font-size":"Font Size","generate-pdf":"Generating PDF...","goto-first":"Go to first page","goto-last":"Go to last page","goto-next":"Go to next page","goto-previous":"Go to previous page","group-mode":"Group Mode","insert-page":"Insert page after current one","jump-page":"Jump to Page","last-updated":"last updated","load-pdf":"Load PDF (clears current canvas)","magnifying-glass":"Magnifying Glass","open-slide-feedback":"Open slide feedback","page":"Page","pdf-uploaded":"PDF uploaded","pointer-mode":"Pointer Mode","redo":"Redo","remote-control-by":"Remote control by...","reset":"Reset","reset-modal-body":"Are you sure you want to reset the sketchpad contents to their default value? This action is irreversible and all your work will be lost unless you saved it.","reset-pages":"Reset all pages","reset-sketchpad":"Reset Sketchpad","save-local":"Save in local browser","save-server":"Save on server","saved":"Saved","saved-local":"Notes saved in local browser","saved-server":"Notes saved on server","server-response":"Server Response","show-all-annotations":"Show all annotations","show-only-own-annotations":"Show only show own annotations","show":"Show","text-mode":"Text Mode","undo":"Undo","upload-email":"Dear {{name}}, your notes have been successfully uploaded and are now available at ","upload-successful":"The file has been uploaded successfully and can be accessed at the following address","upload-to-server":"Upload to the server"},"ES":{}}')},378:function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},383:function(e,t,n){"use strict";var r=n(543);e.exports=r},387:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var r=n(351),o=n(350),a=n(0);n(390);function i(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function s(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}function c(e,t,n){var r=Object(a.useRef)(void 0!==e),o=Object(a.useState)(t),i=o[0],s=o[1],c=void 0!==e,l=r.current;return r.current=c,!c&&l&&i!==t&&s(t),[c?e:i,Object(a.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];n&&n.apply(void 0,[e].concat(r)),s(e)}),[n])]}function l(e,t){return Object.keys(t).reduce((function(n,a){var l,u=n,d=u[i(a)],h=u[a],p=Object(o.a)(u,[i(a),a].map(s)),f=t[a],g=c(h,d,e[f]),v=g[0],m=g[1];return Object(r.a)({},p,((l={})[a]=v,l[f]=m,l))}),e)}n(378),n(416)},388:function(e,t,n){"use strict";function r(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));var o={};function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&o[t[0]]||("string"==typeof t[0]&&(o[t[0]]=new Date),r.apply(void 0,t))}function i(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return a("i18n.languages were undefined or empty",t.languages),!0;var r=t.languages[0],o=!!t.options&&t.options.fallbackLng,i=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var s=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!s(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||(!t.services.backendConnector.backend||!(!s(r,e)||o&&!s(i,e))))}function c(e){return e.displayName||e.name||("string"==typeof e&&e.length>0?e:"Unknown")}},389:function(e,t,n){"use strict";t.a=!("undefined"==typeof window||!window.document||!window.document.createElement)},390:function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,a,i,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,o,a,i,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return l[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}},391:function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(0),o=n.n(r).a.createContext(),a=function(e,t){return null!=e?String(e):t||null};t.a=o},392:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);var o=function(e){var t=Object(r.useRef)(e);return Object(r.useEffect)((function(){t.current=e}),[e]),t};function a(e){var t=o(e);return Object(r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}},400:function(e,t,n){"use strict";var r=n(609);e.exports=r},401:function(e,t,n){var r=n(406);e.exports=function(e,t){if(null==e)return{};var n,o,a=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}},403:function(e,t,n){"use strict";var r=n(389),o=!1,a=!1;try{var i={get passive(){return o=!0},get once(){return a=o=!0}};r.a&&(window.addEventListener("test",i,i),window.removeEventListener("test",i,!0))}catch(s){}t.a=function(e,t,n,r){if(r&&"boolean"!=typeof r&&!a){var i=r.once,s=r.capture,c=n;!a&&i&&(c=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=c),e.addEventListener(t,c,o?r:s)}e.addEventListener(t,n,r)}},404:function(e,t,n){"use strict";t.a=function(e,t,n,r){var o=r&&"boolean"!=typeof r?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)}},406:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}},409:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return r}))},411:function(e,t,n){"use strict";var r=n(403),o=n(404);t.a=function(e,t,n,a){return Object(r.a)(e,t,n,a),function(){Object(o.a)(e,t,n,a)}}},414:function(e,t,n){"use strict";var r=n(0),o=n.n(r).a.createContext(null);t.a=o},416:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function a(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==s){var c=e.displayName||e.name,l="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+c+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=a;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.d(t,"a",(function(){return i})),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0},425:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function o(e,t){return r(e.querySelectorAll(t))}},454:function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=o.a.createContext(null)},457:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0);function o(){return Object(r.useReducer)((function(e){return!e}),!1)[1]}},469:function(e,t,n){"use strict";var r=n(351),o=n(350),a=n(356),i=n.n(a),s=n(0),c=n.n(s),l=n(366),u=c.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.size,s=e.toggle,u=e.vertical,d=e.className,h=e.as,p=void 0===h?"div":h,f=Object(o.a)(e,["bsPrefix","size","toggle","vertical","className","as"]),g=Object(l.b)(n,"btn-group"),v=g;return u&&(v=g+"-vertical"),c.a.createElement(p,Object(r.a)({},f,{ref:t,className:i()(d,v,a&&g+"-"+a,s&&g+"-toggle")}))}));u.displayName="ButtonGroup",u.defaultProps={vertical:!1,toggle:!1,role:"group"},t.a=u},473:function(e,t,n){"use strict";var r=n(542);e.exports=r},478:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(354),o=n.n(r),a=n(397),i=n.n(a),s=n(401),c=n.n(s),l=n(0),u=n.n(l),d=n(463),h=n(388);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,r=Object(l.useContext)(d.a)||{},o=r.i18n,a=r.defaultNS,s=n||o||Object(d.d)();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new d.b),!s){Object(h.e)("You will need pass in an i18next instance by using initReactI18next");var c=function(e){return Array.isArray(e)?e[e.length-1]:e},u=[c,{},!1];return u.t=c,u.i18n={},u.ready=!1,u}var p=f({},Object(d.c)(),{},s.options.react,{},t),g=p.useSuspense,v=e||a||s.options&&s.options.defaultNS;v="string"==typeof v?[v]:v||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(v);var m=(s.isInitialized||s.initializedStoreOnce)&&v.every((function(e){return Object(h.b)(e,s,p)}));function w(){return{t:s.getFixedT(null,"fallback"===p.nsMode?v:v[0])}}var y=Object(l.useState)(w()),b=i()(y,2),P=b[0],S=b[1],x=Object(l.useRef)(!0);Object(l.useEffect)((function(){var e=p.bindI18n,t=p.bindI18nStore;function n(){x.current&&S(w())}return x.current=!0,m||g||Object(h.c)(s,v,(function(){x.current&&S(w())})),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){x.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[v.join()]);var O=[P.t,s,m];if(O.t=P.t,O.i18n=s,O.ready=m,m)return O;if(!m&&!g)return O;throw new Promise((function(e){Object(h.c)(s,v,(function(){x.current&&S(w()),e()}))}))}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function r(r){var o=r.forwardedRef,a=c()(r,["forwardedRef"]),s=g(e,a),l=i()(s,3),d=m({},a,{t:l[0],i18n:l[1],tReady:l[2]});return t.withRef&&o?d.ref=o:!t.withRef&&o&&(d.forwardedRef=o),u.a.createElement(n,d)}r.displayName="withI18nextTranslation(".concat(Object(h.a)(n),")"),r.WrappedComponent=n;return t.withRef?u.a.forwardRef((function(e,t){return u.a.createElement(r,Object.assign({},e,{forwardedRef:t}))})):r}}},529:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0);function o(){var e=Object(r.useRef)(!0),t=Object(r.useRef)((function(){return e.current}));return Object(r.useEffect)((function(){return function(){e.current=!1}}),[]),t.current}},530:function(e,t,n){"use strict";function r(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}n.d(t,"a",(function(){return r}))},540:function(e,t,n){"use strict";var r=n(467),o=n(574),a=n(675),i=n(719),s=n(674),c=n(461),l=n(558).f,u=n(677).f,d=n(505).f,h=n(627).trim,p=r.Number,f=p,g=p.prototype,v="Number"==a(n(660)(g)),m="trim"in String.prototype,w=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,o,a=(t=m?t.trim():h(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+t}for(var i,c=t.slice(2),l=0,u=c.length;l<u;l++)if((i=c.charCodeAt(l))<48||i>o)return NaN;return parseInt(c,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(v?c((function(){g.valueOf.call(n)})):"Number"!=a(n))?i(new f(w(t)),n,p):w(t)};for(var y,b=n(502)?l(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),P=0;b.length>P;P++)o(f,y=b[P])&&!o(p,y)&&d(p,y,u(f,y));p.prototype=g,g.constructor=p,n(545)(r,"Number",p)}},542:function(e,t,n){"use strict";e.exports=function(e){return null===e}},543:function(e,t,n){"use strict";e.exports=function(e){return function(){return e}}},550:function(e,t,n){"use strict";var r=n(351),o=n(350),a=n(356),i=n.n(a),s=n(0),c=n.n(s),l=n(366),u=c.a.forwardRef((function(e,t){var n=e.as,a=void 0===n?"div":n,s=e.bsPrefix,u=e.className,d=e.children,h=Object(o.a)(e,["as","bsPrefix","className","children"]);return s=Object(l.b)(s,"popover-body"),c.a.createElement(a,Object(r.a)({ref:t},h,{className:i()(u,s)}),d)}));t.a=u},551:function(e,t,n){"use strict";var r=n(351),o=n(350),a=n(356),i=n.n(a),s=n(0),c=n.n(s),l=n(366),u=c.a.forwardRef((function(e,t){var n=e.as,a=void 0===n?"div":n,s=e.bsPrefix,u=e.className,d=e.children,h=Object(o.a)(e,["as","bsPrefix","className","children"]);return s=Object(l.b)(s,"popover-header"),c.a.createElement(a,Object(r.a)({ref:t},h,{className:i()(s,u)}),d)}));t.a=u},567:function(e,t,n){"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}n.d(t,"a",(function(){return r}))},583:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0);function o(e){var t=Object(r.useRef)(null);return Object(r.useEffect)((function(){t.current=e})),t.current}},591:function(e,t,n){"use strict";var r=n(427),o=n(743)(!0);r(r.P,"Array",{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),n(576)("includes")},592:function(e,t,n){"use strict";var r=n(427),o=n(808);r(r.P+r.F*n(809)("includes"),"String",{includes:function(e){return!!~o(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},603:function(e,t,n){"use strict";var r=n(575),o=n(696),a=n(515);e.exports=function(e){for(var t=r(this),n=a(t.length),i=arguments.length,s=o(i>1?arguments[1]:void 0,n),c=i>2?arguments[2]:void 0,l=void 0===c?n:o(c,n);l>s;)t[s++]=e;return t}},609:function(e,t,n){"use strict";var r=n(678),o=n(355),a=n(396),i=n(369);e.exports=function(e,t){var n,s,c,l;if(2===(n=arguments.length))return o(e)||o(t)?NaN:e===a||t===a?a:e===t&&0===e?r(e)?e:t:e<t?e:t;for(s=i,l=0;l<n;l++){if(o(c=arguments[l])||c===a)return c;(c<s||c===s&&0===c&&r(c))&&(s=c)}return s}},618:function(e,t,n){"use strict";var r=n(351),o=n(350),a=n(356),i=n.n(a),s=n(0),c=n.n(s),l=(n(506),n(366)),u=n(551),d=n(550),h=c.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.placement,s=e.className,u=e.style,h=e.children,p=e.content,f=e.arrowProps,g=(e.popper,e.show,Object(o.a)(e,["bsPrefix","placement","className","style","children","content","arrowProps","popper","show"])),v=Object(l.b)(n,"popover");return c.a.createElement("div",Object(r.a)({ref:t,role:"tooltip",style:u,"x-placement":a,className:i()(s,v,"bs-popover-"+a)},g),c.a.createElement("div",Object(r.a)({className:"arrow"},f,{style:f?Object(r.a)({},f.style,{margin:0}):void 0})),p?c.a.createElement(d.a,null,h):h)}));h.defaultProps={placement:"right"},h.Title=u.a,h.Content=d.a,t.a=h},622:function(e,t,n){"use strict";var r=n(351),o=n(350),a=n(0),i=n.n(a),s=n(356),c=n.n(s),l=n(8),u=n.n(l),d=n(36),h=n.n(d),p=n(617),f=n(420),g=n(753),v=n(714),m=n(715),w=n(721),y=i.a.forwardRef((function(e,t){var n,s,c=e.flip,l=e.placement,u=e.containerPadding,d=void 0===u?5:u,g=e.popperConfig,y=void 0===g?{}:g,b=e.transition,P=Object(p.a)(),S=P[0],x=P[1],O=Object(p.a)(),E=O[0],k=O[1],D=Object(f.a)(x,t),C=Object(w.a)(e.container),j=Object(w.a)(e.target),M=Object(a.useState)(!e.show),I=M[0],T=M[1],N=Object(v.b)(y.modifiers),R=Object(v.a)(j,S,Object(r.a)(Object(r.a)({},y),{},{placement:l||"bottom",modifiers:Object(r.a)(Object(r.a)({},N),{},{eventListeners:{enabled:!!e.show},preventOverflow:Object(r.a)(Object(r.a)({},N.preventOverflow),{},{options:Object(r.a)({padding:d||5},null==(n=N.preventOverflow)?void 0:n.options)}),arrow:Object(r.a)(Object(r.a)({},N.arrow),{},{enabled:!!E,options:Object(r.a)(Object(r.a)({},null==(s=N.arrow)?void 0:s.options),{},{element:E})}),flip:Object(r.a)({enabled:!!c},N.flip)})})),F=R.styles,z=R.arrowStyles,A=Object(o.a)(R,["styles","arrowStyles"]);e.show?I&&T(!1):e.transition||I||T(!0);var _=e.show||b&&!I;if(Object(m.a)(S,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!_)return null;var L=e.children(Object(r.a)(Object(r.a)({},A),{},{show:!!e.show,props:{style:F,ref:D},arrowProps:{style:z,ref:k}}));if(b){var U=e.onExit,B=e.onExiting,W=e.onEnter,H=e.onEntering,Y=e.onEntered;L=i.a.createElement(b,{in:e.show,appear:!0,onExit:U,onExiting:B,onExited:function(){T(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:W,onEntering:H,onEntered:Y},L)}return C?h.a.createPortal(L,C):null}));y.displayName="Overlay",y.propTypes={show:u.a.bool,placement:u.a.oneOf(g.b),target:u.a.any,container:u.a.any,flip:u.a.bool,children:u.a.func.isRequired,containerPadding:u.a.number,popperConfig:u.a.object,rootClose:u.a.bool,rootCloseEvent:u.a.oneOf(["click","mousedown"]),rootCloseDisabled:u.a.bool,onHide:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;return e.rootClose?(o=u.a.func).isRequired.apply(o,[e].concat(n)):u.a.func.apply(u.a,[e].concat(n))},transition:u.a.elementType,onEnter:u.a.func,onEntering:u.a.func,onEntered:u.a.func,onExit:u.a.func,onExiting:u.a.func,onExited:u.a.func};var b=y,P=n(668),S=n(705),x=n(407),O={transition:x.a,rootClose:!1,show:!1,placement:"top"};function E(e){var t=e.children,n=e.transition,s=e.popperConfig,l=void 0===s?{}:s,u=Object(o.a)(e,["children","transition","popperConfig"]),d=Object(a.useRef)({}),h=Object(S.a)(),p=h[0],f=h[1];return n=!0===n?x.a:n||null,i.a.createElement(b,Object(r.a)({},u,{ref:p,popperConfig:Object(r.a)({},l,{modifiers:f.concat(l.modifiers||[])}),transition:n}),(function(e){var a=e.props,s=e.arrowProps,l=e.show,u=e.state,h=e.scheduleUpdate,p=e.placement,f=e.outOfBoundaries,g=Object(o.a)(e,["props","arrowProps","show","state","scheduleUpdate","placement","outOfBoundaries"]);!function(e,t){var n=e.ref,r=t.ref;e.ref=n.__wrapped||(n.__wrapped=function(e){return n(Object(P.a)(e))}),t.ref=r.__wrapped||(r.__wrapped=function(e){return r(Object(P.a)(e))})}(a,s);var v=Object.assign(d.current,{state:u,scheduleUpdate:h,placement:p,outOfBoundaries:f});return"function"==typeof t?t(Object(r.a)({},g,{},a,{placement:p,show:l,popper:v,arrowProps:s})):i.a.cloneElement(t,Object(r.a)({},g,{},a,{placement:p,arrowProps:s,popper:v,className:c()(t.props.className,!n&&l&&"show"),style:Object(r.a)({},t.props.style,{},a.style)}))}))}E.defaultProps=O;t.a=E},627:function(e,t,n){var r=n(427),o=n(625),a=n(461),i=n(628),s="["+i+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),u=function(e,t,n){var o={},s=a((function(){return!!i[e]()||"\u200b\x85"!="\u200b\x85"[e]()})),c=o[e]=s?t(d):i[e];n&&(o[n]=c),r(r.P+r.F*s,"String",o)},d=u.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=u},628:function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},680:function(e,t,n){var r=n(427);r(r.P,"Array",{fill:n(603)}),n(576)("fill")},686:function(e,t,n){"use strict";var r=n(0),o=n.n(r).a.createContext(null);t.a=o},729:function(e,t,n){"use strict";var r=n(351),o=n(350),a=n(356),i=n.n(a),s=n(0),c=n.n(s),l=n(392),u=n(439),d=n(391),h=n(366),p=n(414),f={as:u.a,disabled:!1},g=c.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,u=e.children,f=e.eventKey,g=e.disabled,v=e.href,m=e.onClick,w=e.onSelect,y=e.active,b=e.as,P=Object(o.a)(e,["bsPrefix","className","children","eventKey","disabled","href","onClick","onSelect","active","as"]),S=Object(h.b)(n,"dropdown-item"),x=Object(s.useContext)(d.a),O=(Object(s.useContext)(p.a)||{}).activeKey,E=Object(d.b)(f,v),k=null==y&&null!=E?Object(d.b)(O)===E:y,D=Object(l.a)((function(e){g||(m&&m(e),x&&x(E,e),w&&w(E,e))}));return c.a.createElement(b,Object(r.a)({},P,{ref:t,href:v,disabled:g,className:i()(a,S,k&&"active",g&&"disabled"),onClick:D}),u)}));g.displayName="DropdownItem",g.defaultProps=f,t.a=g},738:function(e,t,n){"use strict";var r=n(371),o=n(826),a=n(381),i=o(a);r(i,"primitives",o(a.isPrimitive)),r(i,"objects",o(a.isObject)),e.exports=i},751:function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(986),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(51))},766:function(e,t,n){"use strict";n.d(t,"b",(function(){return f}));var r=n(350),o=n(351),a=n(8),i=n.n(a),s=n(0),c=n.n(s),l=n(617),u=n(686),d=n(714),h=n(715),p=function(){};function f(e){var t;void 0===e&&(e={});var n=Object(s.useContext)(u.a),r=Object(l.a)(),a=r[0],i=r[1],c=Object(s.useRef)(!1),f=e,g=f.flip,v=f.rootCloseEvent,m=f.popperConfig,w=void 0===m?{}:m,y=f.usePopper,b=void 0===y?!!n:y,P=null==(null==n?void 0:n.show)?e.show:n.show,S=null==(null==n?void 0:n.alignEnd)?e.alignEnd:n.alignEnd;P&&!c.current&&(c.current=!0);var x=function(e){null==n||n.toggle(!1,e)},O=n||{},E=O.drop,k=O.setMenu,D=O.menuElement,C=O.toggleElement,j=S?"bottom-end":"bottom-start";"up"===E?j=S?"top-end":"top-start":"right"===E?j=S?"right-end":"right-start":"left"===E&&(j=S?"left-end":"left-start");var M,I=Object(d.b)(w.modifiers),T=Object(d.a)(C,D,Object(o.a)(Object(o.a)({},w),{},{placement:j,enabled:!(!b||!P),modifiers:Object(o.a)(Object(o.a)({},I),{},{eventListeners:{enabled:!!P},arrow:Object(o.a)(Object(o.a)({},I.arrow),{},{enabled:!!a,options:Object(o.a)(Object(o.a)({},null==(t=I.arrow)?void 0:t.options),{},{element:a})}),flip:Object(o.a)({enabled:!!g},I.flip)})})),N={ref:k||p,"aria-labelledby":null==C?void 0:C.id},R={show:P,alignEnd:S,hasShown:c.current,close:x};return M=b?Object(o.a)(Object(o.a)(Object(o.a)({},T),R),{},{props:Object(o.a)(Object(o.a)({},N),{},{style:T.styles}),arrowProps:{ref:i,style:T.arrowStyles}}):Object(o.a)(Object(o.a)({},R),{},{props:N}),Object(h.a)(D,x,{clickTrigger:v,disabled:!(M&&P)}),M}var g={children:i.a.func.isRequired,show:i.a.bool,alignEnd:i.a.bool,flip:i.a.bool,usePopper:i.a.oneOf([!0,!1]),popperConfig:i.a.object,rootCloseEvent:i.a.string};function v(e){var t=e.children,n=f(Object(r.a)(e,["children"]));return c.a.createElement(c.a.Fragment,null,n.hasShown?t(n):null)}v.displayName="ReactOverlaysDropdownMenu",v.propTypes=g,v.defaultProps={usePopper:!0},t.a=v},767:function(e,t,n){"use strict";n.d(t,"b",(function(){return l}));var r=n(8),o=n.n(r),a=n(0),i=n.n(a),s=n(686),c=function(){};function l(){var e=Object(a.useContext)(s.a)||{},t=e.show,n=void 0!==t&&t,r=e.toggle,o=void 0===r?c:r;return[{ref:e.setToggle||c,"aria-haspopup":!0,"aria-expanded":!!n},{show:n,toggle:o}]}var u={children:o.a.func.isRequired};function d(e){var t=e.children,n=l(),r=n[0],o=n[1],a=o.show,s=o.toggle;return i.a.createElement(i.a.Fragment,null,t({show:a,toggle:s,props:r}))}d.displayName="ReactOverlaysDropdownToggle",d.propTypes=u,t.a=d},768:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(390),n(0),n(420);function r(e,t){return e}},822:function(e,t,n){"use strict";var r,o=n(351),a=n(350),i=n(356),s=n.n(i),c=n(0),l=n.n(c);var u=n(425),d=n(8),h=n.n(d),p=n(387),f=n(583),g=n(617),v=n(457),m=n(392),w=n(686),y=n(766),b=n(767),P={children:h.a.func.isRequired,drop:h.a.oneOf(["up","left","right","down"]),focusFirstItemOnShow:h.a.oneOf([!1,!0,"keyboard"]),itemSelector:h.a.string,alignEnd:h.a.bool,show:h.a.bool,defaultShow:h.a.bool,onToggle:h.a.func};function S(e){var t=e.drop,n=e.alignEnd,o=e.defaultShow,a=e.show,i=e.onToggle,s=e.itemSelector,d=void 0===s?"* > *":s,h=e.focusFirstItemOnShow,y=e.children,b=Object(v.a)(),P=Object(p.b)(a,o,i),S=P[0],x=P[1],O=Object(g.a)(),E=O[0],k=O[1],D=Object(c.useRef)(null),C=D.current,j=Object(c.useCallback)((function(e){D.current=e,b()}),[b]),M=Object(f.a)(S),I=Object(c.useRef)(null),T=Object(c.useRef)(!1),N=Object(c.useCallback)((function(e){x(!S,e)}),[x,S]),R=Object(c.useMemo)((function(){return{toggle:N,drop:t,show:S,alignEnd:n,menuElement:C,toggleElement:E,setMenu:j,setToggle:k}}),[N,t,S,n,C,E,j,k]);C&&M&&!S&&(T.current=C.contains(document.activeElement));var F=Object(m.a)((function(){E&&E.focus&&E.focus()})),z=Object(m.a)((function(){var e=I.current,t=h;if(null==t&&(t=!(!D.current||!function(e,t){if(!r){var n=document.body,o=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;r=function(e,t){return o.call(e,t)}}return r(e,t)}(D.current,"[role=menu]"))&&"keyboard"),!1!==t&&("keyboard"!==t||/^key.+$/.test(e))){var n=Object(u.a)(D.current,d)[0];n&&n.focus&&n.focus()}}));Object(c.useEffect)((function(){S?z():T.current&&(T.current=!1,F())}),[S,T,F,z]),Object(c.useEffect)((function(){I.current=null}));var A=function(e,t){if(!D.current)return null;var n=Object(u.a)(D.current,d),r=n.indexOf(e)+t;return n[r=Math.max(0,Math.min(r,n.length))]};return l.a.createElement(w.a.Provider,{value:R},y({props:{onKeyDown:function(e){var t=e.key,n=e.target;if(!/input|textarea/i.test(n.tagName)||!(" "===t||"Escape"!==t&&D.current&&D.current.contains(n)))switch(I.current=e.type,t){case"ArrowUp":var r=A(n,-1);return r&&r.focus&&r.focus(),void e.preventDefault();case"ArrowDown":if(e.preventDefault(),S){var o=A(n,1);o&&o.focus&&o.focus()}else N(e);return;case"Escape":case"Tab":x(!1,e)}}}}))}S.displayName="ReactOverlaysDropdown",S.propTypes=P,S.Menu=y.a,S.Toggle=b.a;var x=S,O=n(729),E=n(838),k=n(837),D=n(391),C=n(366),j=n(472),M=l.a.forwardRef((function(e,t){var n=Object(p.a)(e,{show:"onToggle"}),r=n.bsPrefix,i=n.drop,u=n.show,d=n.className,h=n.alignRight,f=n.onSelect,g=n.onToggle,v=n.focusFirstItemOnShow,w=n.as,y=void 0===w?"div":w,b=(n.navbar,Object(a.a)(n,["bsPrefix","drop","show","className","alignRight","onSelect","onToggle","focusFirstItemOnShow","as","navbar"])),P=Object(c.useContext)(D.a),S=Object(C.b)(r,"dropdown"),O=Object(m.a)((function(e,t,n){void 0===n&&(n=t.type),t.currentTarget===document&&(n="rootClose"),g(e,t,{source:n})})),E=Object(m.a)((function(e,t){P&&P(e,t),f&&f(e,t),O(!1,t,"select")}));return l.a.createElement(D.a.Provider,{value:E},l.a.createElement(x,{drop:i,show:u,alignEnd:h,onToggle:O,focusFirstItemOnShow:v,itemSelector:"."+S+"-item:not(.disabled):not(:disabled)"},(function(e){var n=e.props;return l.a.createElement(y,Object(o.a)({},b,n,{ref:t,className:s()(d,u&&"show",(!i||"down"===i)&&S,"up"===i&&"dropup","right"===i&&"dropright","left"===i&&"dropleft")}))})))}));M.displayName="Dropdown",M.defaultProps={navbar:!1},M.Toggle=k.a,M.Menu=E.a,M.Item=O.a,M.Header=Object(j.a)("dropdown-header",{defaultProps:{role:"heading"}}),M.Divider=Object(j.a)("dropdown-divider",{defaultProps:{role:"separator"}});t.a=M},837:function(e,t,n){"use strict";var r=n(351),o=n(350),a=n(356),i=n.n(a),s=(n(506),n(0)),c=n.n(s),l=n(767),u=n(420),d=n(377),h=n(366),p=n(768),f=c.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.split,s=e.className,f=e.children,g=e.childBsPrefix,v=e.as,m=void 0===v?d.a:v,w=Object(o.a)(e,["bsPrefix","split","className","children","childBsPrefix","as"]),y=Object(h.b)(n,"dropdown-toggle");void 0!==g&&(w.bsPrefix=g);var b=Object(l.b)(),P=b[0],S=b[1].toggle;return P.ref=Object(u.a)(P.ref,Object(p.a)(t,"DropdownToggle")),c.a.createElement(m,Object(r.a)({onClick:S,className:i()(s,y,a&&y+"-split")},P,w),f)}));f.displayName="DropdownToggle",t.a=f},838:function(e,t,n){"use strict";var r=n(351),o=n(350),a=n(356),i=n.n(a),s=n(0),c=n.n(s),l=n(766),u=n(420),d=n(454),h=n(366),p=n(768),f=n(705),g=c.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.className,g=e.alignRight,v=e.rootCloseEvent,m=e.flip,w=e.show,y=e.renderOnMount,b=e.as,P=void 0===b?"div":b,S=e.popperConfig,x=void 0===S?{}:S,O=Object(o.a)(e,["bsPrefix","className","alignRight","rootCloseEvent","flip","show","renderOnMount","as","popperConfig"]),E=Object(s.useContext)(d.a),k=Object(h.b)(n,"dropdown-menu"),D=Object(f.a)(),C=D[0],j=D[1],M=Object(l.b)({flip:m,rootCloseEvent:v,show:w,alignEnd:g,usePopper:!E,popperConfig:Object(r.a)({},x,{modifiers:j.concat(x.modifiers||[])})}),I=M.hasShown,T=M.placement,N=M.show,R=M.alignEnd,F=M.close,z=M.props;if(z.ref=Object(u.a)(C,Object(u.a)(Object(p.a)(t,"DropdownMenu"),z.ref)),!I&&!y)return null;"string"!=typeof P&&(z.show=N,z.close=F,z.alignRight=R);var A=O.style;return T&&(A=Object(r.a)({},A,{},z.style),O["x-placement"]=T),c.a.createElement(P,Object(r.a)({},O,z,{style:A,className:i()(a,k,N&&"show",R&&k+"-right")}))}));g.displayName="DropdownMenu",g.defaultProps={alignRight:!1,flip:!0},t.a=g},846:function(e,t,n){"use strict";(function(e){n(423),n(516),n(524);var r=/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i;function o(t){e((function(){throw t}),0)}function a(e){return r.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}var i=function(e){if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document.createElementNS("http://www.w3.org/1999/xhtml","a"),n="download"in t,r=/constructor/i.test(e.HTMLElement)||e.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent),s=e.setImmediate||e.setTimeout,c=d.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=a(e)),navigator.msSaveOrOpenBlob(e,t)}:(c.abort=function(){},c.readyState=c.INIT=0,c.WRITING=1,c.DONE=2,c.error=null,c.onwritestart=null,c.onprogress=null,c.onwrite=null,c.onabort=null,c.onerror=null,c.onwriteend=null,function(e,t,n){return new d(e,t||e.name||"download",n)})}function l(){return e.URL||e.webkitURL||e}function u(e){setTimeout((function(){"string"==typeof e?l().revokeObjectURL(e):e.remove()}),4e4)}function d(c,d,h){h||(c=a(c));var p,f=this,g="application/octet-stream"===c.type;function v(){!function(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var a=e["on"+t[r]];if("function"==typeof a)try{a.call(e,n||e)}catch(i){o(i)}}}(f,"writestart progress write writeend".split(" "))}if(f.readyState=f.INIT,n)return p=l().createObjectURL(c),void s((function(){var e,n;t.href=p,t.download=d,e=t,n=new MouseEvent("click"),e.dispatchEvent(n),v(),u(p),f.readyState=f.DONE}),0);!function(){if((i||g&&r)&&e.FileReader){var t=new FileReader;return t.onloadend=function(){var n=i?t.result:t.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(n,"_blank")||(e.location.href=n),n=void 0,f.readyState=f.DONE,v()},t.readAsDataURL(c),void(f.readyState=f.INIT)}p||(p=l().createObjectURL(c)),g?e.location.href=p:e.open(p,"_blank")||(e.location.href=p),f.readyState=f.DONE,v(),u(p)}()}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||(void 0).content);t.a=i}).call(this,n(751).setImmediate)},885:function(e,t,n){for(var r,o=n(467),a=n(624),i=n(755),s=i("typed_array"),c=i("view"),l=!(!o.ArrayBuffer||!o.DataView),u=l,d=0,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=o[h[d++]])?(a(r.prototype,s,!0),a(r.prototype,c,!0)):u=!1;e.exports={ABV:l,CONSTR:u,TYPED:s,VIEW:c}},886:function(e,t,n){var r=n(717),o=n(515);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=o(t);if(t!==n)throw RangeError("Wrong length!");return n}},893:function(e,t,n){"use strict";var r=n(371),o=n(578),a=n(663),i=n(415),s=n(421),c=n(384),l=n(383),u=n(486),d=n(718).factory,h=n(355),p=n(471),f=n(664),g=n(1214),v=n(1215);e.exports=function(){var e,t,n,m,w,y;if(0===arguments.length)t=d();else if(1===arguments.length){if(!i(e=arguments[0]))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");if(c(e,"prng")){if(!s(e.prng))throw new TypeError("invalid option. `prng` option must be a pseudorandom number generator function. Option: `"+e.prng+"`.");if(t=e.prng,!p(t.MIN))throw new TypeError("invalid option. `prng` option must have a `MIN` property specifying the minimum possible pseudorandom integer value.");if(!p(t.MAX))throw new TypeError("invalid option. `prng` option must have a `MAX` property specifying the maximum possible pseudorandom integer value.")}else t=d(e)}else{if(m=g(w=arguments[0],y=arguments[1]))throw m;if(arguments.length>2){if(!i(e=arguments[2]))throw new TypeError("invalid argument. Options argument must be an object. Value: `"+e+"`.");if(c(e,"prng")){if(!s(e.prng))throw new TypeError("invalid option. `prng` option must be a pseudorandom number generator function. Option: `"+e.prng+"`.");if(t=e.prng,!p(t.MIN))throw new TypeError("invalid option. `prng` option must have a `MIN` property specifying the minimum possible pseudorandom integer value.");if(!p(t.MAX))throw new TypeError("invalid option. `prng` option must have a `MAX` property specifying the maximum possible pseudorandom integer value.")}else t=d(e)}else t=d()}return r(n=void 0===w?C:D,"NAME","discrete-uniform"),e&&e.prng?(r(n,"seed",null),r(n,"seedLength",null),a(n,"state",l(null),u),r(n,"stateLength",null),r(n,"byteLength",null),r(n,"toJSON",l(null)),r(n,"PRNG",t)):(o(n,"seed",b),o(n,"seedLength",P),a(n,"state",O,E),o(n,"stateLength",S),o(n,"byteLength",x),r(n,"toJSON",k),r(n,"PRNG",t)),n;function b(){return t.seed}function P(){return t.seedLength}function S(){return t.stateLength}function x(){return t.byteLength}function O(){return t.state}function E(e){t.state=e}function k(){var e={type:"PRNG"};return e.name=n.NAME,e.state=f(t.state),e.params=void 0===w?[]:[w,y],e}function D(){return v(t,w,y)}function C(e,n){return h(e)||h(n)||!p(e)||!p(n)||e>n?NaN:v(t,e,n)}}},932:function(e,t,n){"use strict";if(n(502)){var r=n(756),o=n(467),a=n(461),i=n(427),s=n(885),c=n(1121),l=n(757),u=n(806),d=n(856),h=n(624),p=n(807),f=n(717),g=n(515),v=n(886),m=n(696),w=n(674),y=n(574),b=n(896),P=n(544),S=n(575),x=n(1074),O=n(660),E=n(1239),k=n(558).f,D=n(1075),C=n(755),j=n(528),M=n(867),I=n(743),T=n(1076),N=n(376),R=n(858),F=n(1017),z=n(861),A=n(603),_=n(1049),L=n(505),U=n(677),B=L.f,W=U.f,H=o.RangeError,Y=o.TypeError,X=o.Uint8Array,V=Array.prototype,G=c.ArrayBuffer,J=c.DataView,K=M(0),q=M(2),Z=M(3),$=M(4),Q=M(5),ee=M(6),te=I(!0),ne=I(!1),re=N.values,oe=N.keys,ae=N.entries,ie=V.lastIndexOf,se=V.reduce,ce=V.reduceRight,le=V.join,ue=V.sort,de=V.slice,he=V.toString,pe=V.toLocaleString,fe=j("iterator"),ge=j("toStringTag"),ve=C("typed_constructor"),me=C("def_constructor"),we=s.CONSTR,ye=s.TYPED,be=s.VIEW,Pe=M(1,(function(e,t){return ke(T(e,e[me]),t)})),Se=a((function(){return 1===new X(new Uint16Array([1]).buffer)[0]})),xe=!!X&&!!X.prototype.set&&a((function(){new X(1).set({})})),Oe=function(e,t){var n=f(e);if(n<0||n%t)throw H("Wrong offset!");return n},Ee=function(e){if(P(e)&&ye in e)return e;throw Y(e+" is not a typed array!")},ke=function(e,t){if(!P(e)||!(ve in e))throw Y("It is not a typed array constructor!");return new e(t)},De=function(e,t){return Ce(T(e,e[me]),t)},Ce=function(e,t){for(var n=0,r=t.length,o=ke(e,r);r>n;)o[n]=t[n++];return o},je=function(e,t,n){B(e,t,{get:function(){return this._d[n]}})},Me=function(e){var t,n,r,o,a,i,s=S(e),c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,h=D(s);if(null!=h&&!x(h)){for(i=h.call(s),r=[],t=0;!(a=i.next()).done;t++)r.push(a.value);s=r}for(d&&c>2&&(u=l(u,arguments[2],2)),t=0,n=g(s.length),o=ke(this,n);n>t;t++)o[t]=d?u(s[t],t):s[t];return o},Ie=function(){for(var e=0,t=arguments.length,n=ke(this,t);t>e;)n[e]=arguments[e++];return n},Te=!!X&&a((function(){pe.call(new X(1))})),Ne=function(){return pe.apply(Te?de.call(Ee(this)):Ee(this),arguments)},Re={copyWithin:function(e,t){return _.call(Ee(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return $(Ee(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return A.apply(Ee(this),arguments)},filter:function(e){return De(this,q(Ee(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Q(Ee(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ee(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){K(Ee(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Ee(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ee(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return le.apply(Ee(this),arguments)},lastIndexOf:function(e){return ie.apply(Ee(this),arguments)},map:function(e){return Pe(Ee(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Ee(this),arguments)},reduceRight:function(e){return ce.apply(Ee(this),arguments)},reverse:function(){for(var e,t=Ee(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return Z(Ee(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ue.call(Ee(this),e)},subarray:function(e,t){var n=Ee(this),r=n.length,o=m(e,r);return new(T(n,n[me]))(n.buffer,n.byteOffset+o*n.BYTES_PER_ELEMENT,g((void 0===t?r:m(t,r))-o))}},Fe=function(e,t){return De(this,de.call(Ee(this),e,t))},ze=function(e){Ee(this);var t=Oe(arguments[1],1),n=this.length,r=S(e),o=g(r.length),a=0;if(o+t>n)throw H("Wrong length!");for(;a<o;)this[t+a]=r[a++]},Ae={entries:function(){return ae.call(Ee(this))},keys:function(){return oe.call(Ee(this))},values:function(){return re.call(Ee(this))}},_e=function(e,t){return P(e)&&e[ye]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Le=function(e,t){return _e(e,t=w(t,!0))?d(2,e[t]):W(e,t)},Ue=function(e,t,n){return!(_e(e,t=w(t,!0))&&P(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?B(e,t,n):(e[t]=n.value,e)};we||(U.f=Le,L.f=Ue),i(i.S+i.F*!we,"Object",{getOwnPropertyDescriptor:Le,defineProperty:Ue}),a((function(){he.call({})}))&&(he=pe=function(){return le.call(this)});var Be=p({},Re);p(Be,Ae),h(Be,fe,Ae.values),p(Be,{slice:Fe,set:ze,constructor:function(){},toString:he,toLocaleString:Ne}),je(Be,"buffer","b"),je(Be,"byteOffset","o"),je(Be,"byteLength","l"),je(Be,"length","e"),B(Be,ge,{get:function(){return this[ye]}}),e.exports=function(e,t,n,c){var l=e+((c=!!c)?"Clamped":"")+"Array",d="get"+e,p="set"+e,f=o[l],m=f||{},w=f&&E(f),y=!f||!s.ABV,S={},x=f&&f.prototype,D=function(e,n){B(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[d](n*t+r.o,Se)}(this,n)},set:function(e){return function(e,n,r){var o=e._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),o.v[p](n*t+o.o,r,Se)}(this,n,e)},enumerable:!0})};y?(f=n((function(e,n,r,o){u(e,f,l,"_d");var a,i,s,c,d=0,p=0;if(P(n)){if(!(n instanceof G||"ArrayBuffer"==(c=b(n))||"SharedArrayBuffer"==c))return ye in n?Ce(f,n):Me.call(f,n);a=n,p=Oe(r,t);var m=n.byteLength;if(void 0===o){if(m%t)throw H("Wrong length!");if((i=m-p)<0)throw H("Wrong length!")}else if((i=g(o)*t)+p>m)throw H("Wrong length!");s=i/t}else s=v(n),a=new G(i=s*t);for(h(e,"_d",{b:a,o:p,l:i,e:s,v:new J(a)});d<s;)D(e,d++)})),x=f.prototype=O(Be),h(x,"constructor",f)):a((function(){f(1)}))&&a((function(){new f(-1)}))&&F((function(e){new f,new f(null),new f(1.5),new f(e)}),!0)||(f=n((function(e,n,r,o){var a;return u(e,f,l),P(n)?n instanceof G||"ArrayBuffer"==(a=b(n))||"SharedArrayBuffer"==a?void 0!==o?new m(n,Oe(r,t),o):void 0!==r?new m(n,Oe(r,t)):new m(n):ye in n?Ce(f,n):Me.call(f,n):new m(v(n))})),K(w!==Function.prototype?k(m).concat(k(w)):k(m),(function(e){e in f||h(f,e,m[e])})),f.prototype=x,r||(x.constructor=f));var C=x[fe],j=!!C&&("values"==C.name||null==C.name),M=Ae.values;h(f,ve,!0),h(x,ye,l),h(x,be,!0),h(x,me,f),(c?new f(1)[ge]==l:ge in x)||B(x,ge,{get:function(){return l}}),S[l]=f,i(i.G+i.W+i.F*(f!=m),S),i(i.S,l,{BYTES_PER_ELEMENT:t}),i(i.S+i.F*a((function(){m.of.call(f,1)})),l,{from:Me,of:Ie}),"BYTES_PER_ELEMENT"in x||h(x,"BYTES_PER_ELEMENT",t),i(i.P,l,Re),z(l),i(i.P+i.F*xe,l,{set:ze}),i(i.P+i.F*!j,l,Ae),r||x.toString==he||(x.toString=he),i(i.P+i.F*a((function(){new f(1).slice()})),l,{slice:Fe}),i(i.P+i.F*(a((function(){return[1,2].toLocaleString()!=new f([1,2]).toLocaleString()}))||!a((function(){x.toLocaleString.call([1,2])}))),l,{toLocaleString:Ne}),R[l]=j?C:M,r||j||h(x,fe,M)}}else e.exports=function(){}},936:function(e,t,n){"use strict";var r=n(351),o=n(350),a=n(356),i=n.n(a),s=n(0),c=n.n(s),l=n(472),u=n(366),d=c.a.forwardRef((function(e,t){var n=e.bsPrefix,a=e.size,s=e.className,l=e.as,d=void 0===l?"div":l,h=Object(o.a)(e,["bsPrefix","size","className","as"]);return n=Object(u.b)(n,"input-group"),c.a.createElement(d,Object(r.a)({ref:t},h,{className:i()(s,n,a&&n+"-"+a)}))})),h=Object(l.a)("input-group-append"),p=Object(l.a)("input-group-prepend"),f=Object(l.a)("input-group-text",{Component:"span"});d.displayName="InputGroup",d.Text=f,d.Radio=function(e){return c.a.createElement(f,null,c.a.createElement("input",Object(r.a)({type:"radio"},e)))},d.Checkbox=function(e){return c.a.createElement(f,null,c.a.createElement("input",Object(r.a)({type:"checkbox"},e)))},d.Append=h,d.Prepend=p,t.a=d},986:function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,a,i,s,c=1,l={},u=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){f(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((a=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){a.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(f,0,e)}:(i="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&f(+t.data.slice(i.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(i+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return l[c]=o,r(c),c++},h.clearImmediate=p}function p(e){delete l[e]}function f(e){if(u)setTimeout(f,0,e);else{var t=l[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(51),n(521))},994:function(e,t,n){"use strict";var r=n(995);e.exports=r},995:function(e,t,n){"use strict";var r=n(430),o=n(381).isPrimitive,a=n(738).primitives,i=n(559);e.exports=function(e,t){var n,s,c,l;if("object"!=typeof e||null===e)throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if(n=r(e),s={},o(t)){for(l=0;l<n.length;l++)(c=n[l])!==t&&(s[c]=e[c]);return s}if(a(t)){for(l=0;l<n.length;l++)c=n[l],-1===i(t,c)&&(s[c]=e[c]);return s}throw new TypeError("invalid argument. Second argument must be either a string primitive or an array of string primitives. Value: `"+t+"`.")}}}]);