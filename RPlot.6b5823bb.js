(window.webpackJsonp=window.webpackJsonp||[]).push([[213],{2092:function(t,n,e){"use strict";var o=e(468),a=e.n(o);n.a=function(t,n,e){var o=e.config.rshell;o&&o.libraries&&(t=t.concat(o.libraries));var r=function(t){return t.map((function(t){return"library("+t+");"})).join(" ")}(t);return o&&o.global&&(r+=o.global+"\n"),n=a()(n)?n.join("\n"):n,r+=n+="\n"}},4225:function(t,n,e){"use strict";e.r(n);e(391),e(387),e(393);var o=e(724),a=e.n(o),r=e(400),i=e.n(r),s=e(395),l=e.n(s),c=e(397),p=e.n(c),u=e(413),f=e.n(u),d=e(401),h=e.n(d),g=e(402),v=e.n(g),m=e(399),y=e.n(m),b=e(392),w=e.n(b),D=e(0),P=e.n(D),R=(e(372),e(4197)),k=e.n(R),x=e(4219),S=e.n(x),T=e(725),U=e.n(T),j=e(2092),C=e(1520),L=e(1382),J=e(476);e(327);function N(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,o=y()(t);if(n){var a=y()(this).constructor;e=Reflect.construct(o,arguments,a)}else e=o.apply(this,arguments);return v()(this,e)}}var E=i()("span",{}),F=function(t){h()(e,t);var n=N(e);function e(t){var o;return l()(this,e),o=n.call(this,t),w()(f()(o),"savePlot",(function(t,n,e){t?o.props.onDone(t):o.setState({plotURL:n,plot:e,waiting:!1},(function(){o.props.onDone(null,n,e)}))})),o.state={plotURL:null,plot:null,last:"",waiting:!1},o}return p()(e,[{key:"componentDidMount",value:function(){this.getPlot()}},{key:"componentDidUpdate",value:function(){this.getPlot()}},{key:"getPlot",value:function(){if(this.props.code!==this.state.last){this.setState({waiting:!0,last:this.props.code});var t=this.context,n=Object(j.a)(this.props.libraries,this.props.prependCode,t)+this.props.code;t.getRPlot(n,this.props.fileType,this.savePlot)}}},{key:"render",value:function(){var t=this,n=null;return this.props.draggable&&(n=i()("div",{className:"rplot-draggable-bar",draggable:!0,onDragStart:function(n){var e;if(t.props.meta){var o=t.props.meta;o=S()(o,(function(t,n){return U()(n)})),o=k.a.safeDump(o),e='<img src="'.concat(t.state.plot,'" style="display: block; margin: 0 auto;" data-plot-id="').concat(t.props.id,'" data-plot-meta="').concat(o,'"></img>')}else e='<img src="'.concat(t.state.plot,'" alt="R Plot" style="display: block; margin: 0 auto;" />');n.dataTransfer.setData("text/html",e)}},void 0,"Drag Plot")),i()("div",{className:"rplot",style:{minHeight:128,cursor:"pointer"}},void 0,i()(C.a,{running:this.state.waiting,width:256,height:128}),this.state.waiting?E:i()(D.Fragment,{},void 0,n,P.a.createElement(L.a,a()({src:this.state.plotURL,body:this.state.plot,title:"R Plot"},this.props))))}}]),e}(D.Component);F.defaultProps={code:"",width:600,height:350,draggable:!1,fileType:"png",libraries:[],prependCode:"",meta:null,onDone:function(){}},F.contextType=J.a,n.default=F}}]);