(window.webpackJsonp=window.webpackJsonp||[]).push([[234],{6295:function(t,e,n){"use strict";n.r(e);n(411),n(408),n(398),n(397),n(407),n(376),n(368),n(377);var r=n(366),o=n.n(r),a=n(370),i=n.n(a),c=n(371),s=n.n(c),p=n(374),u=n.n(p),l=n(375),d=n.n(l),v=n(373),f=n.n(v),b=n(365),h=n.n(b),m=n(0),y=(n(357),n(620)),O=n(6380),g=n(631),P=n(970),w=n(755),j=n.n(w),C=n(410),x=n(579),D=n.n(x),R=n(683);function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function E(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f()(t);if(e){var o=f()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var F=h()("th",{}),J=function(t){var e,n=t.data,r=t.variables,o=t.scale,a=t.center,i=t.noComponents;try{for(var c=[],s=n[r[0]].length,p=0;p<s;p++){for(var u=[],l=!1,d=0;d<r.length;d++){var v=n[r[d]][p];if(e=v,!Object(C.isPrimitive)(e)||D()(e)){l=!0;break}u.push(v)}l||c.push(u)}var f=new O.a(c,{center:a,scale:o}),b=f.predict(c,{noComponents:i});return{pca:f,components:b}}catch(h){return{}}},V=function(t){u()(n,t);var e=E(n);function n(t){var r;i()(this,n),r=e.call(this,t);var o=t.data,a=t.variables,c=t.scale,s=t.center,p=t.noComponents,u=J({data:o,variables:a,scale:c,center:s,noComponents:p}),l=u.pca,d=u.components;return r.state=S({pca:l,components:d},t),l&&t.onResult(r.state.pca,r.state.components),r}return s()(n,[{key:"render",value:function(){var t=this.state.pca;if(!t)return h()(y.a,{variant:"danger"},void 0,this.props.t("missing-attributes"));var e=t.getStandardDeviations(),n=t.getExplainedVariance(),r=t.getCumulativeVariance(),o={x:j()(0,n.length,1),y:n,type:"scatter",name:"Proportion of variance"};return h()("div",{style:{overflowX:"auto",width:"100%"}},void 0,h()("span",{className:"title"},void 0,this.props.t("pca-summary")),function(t,e,n,r){return h()(P.a,{bordered:!0,size:"sm"},void 0,h()("thead",{},void 0,h()("tr",{},void 0,F,h()("th",{},void 0,r("standard-deviation")),h()("th",{},void 0,r("proportion-of-variance")),h()("th",{},void 0,r("cumulative-variance")))),h()("tbody",{},void 0,t.map((function(t,r){return h()("tr",{},r,h()("th",{},void 0," ","PC".concat(r+1)," "),h()("td",{},void 0," ",t.toFixed(3)," "),h()("td",{},void 0," ",e[r].toFixed(3)," "),h()("td",{},void 0," ",n[r].toFixed(3)," "))}))))}(e,n,r,this.props.t),h()(R.a,{editable:!0,data:[o],layout:{xaxis:{title:"Principal Component"},yaxis:{title:"Explained Proportion"}}}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(t.data!==e.data||t.variables!==e.variables){var n=t.data,r=t.variables,o=t.scale,a=t.center,i=t.noComponents,c=S(S({},J({data:n,variables:r,scale:o,center:a,noComponents:i})),t);return c.pca&&t.onResult(c.pca,c.components),c}return null}}]),n}(m.Component);V.defaultProps={center:!0,scale:!1,noComponents:0,onResult:function(){}},e.default=Object(g.a)("StatisticalModels")(V)}}]);