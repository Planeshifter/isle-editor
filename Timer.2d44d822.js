(window.webpackJsonp=window.webpackJsonp||[]).push([[248],{4333:function(t,e,n){"use strict";n.r(e);n(355),n(348),n(359);var r=n(358),o=n.n(r),i=n(351),a=n.n(i),u=n(353),c=n.n(u),s=n(360),l=n.n(s),f=n(361),d=n.n(f),p=n(357),v=n.n(p),m=n(0),h=(n(338),n(380)),y=n.n(h),w=n(448),g=n.n(w);n(311);function k(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=v()(t);if(e){var o=v()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d()(this,n)}}var I=function(t){l()(n,t);var e=k(n);function n(t){var r;a()(this,n),r=e.call(this,t);var o=localStorage.getItem(r.getTimerId());return r.state={timeLeft:o||t.duration,duration:t.duration},r}return c()(n,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentDidUpdate",value:function(t,e){!this.props.active||t.active||this.state.countdown||this.startCountdown()}},{key:"componentWillUnmount",value:function(){var t=this.state.countdown;t&&clearInterval(t)}},{key:"getTimerId",value:function(){var t=this.props.id;return t?"timer::".concat(t):null}},{key:"startCountdown",value:function(){var t=this,e=setInterval((function(){t.setState({timeLeft:g()(0,t.state.timeLeft-1)});var n=t.getTimerId();n&&localStorage.setItem(n,t.state.timeLeft),t.state.timeLeft<=0&&(clearInterval(e),t.props.onTimeUp())}),1e3);this.setState({countdown:e})}},{key:"render",value:function(){return this.props.invisible?null:o()("div",{style:this.props.style,className:"timer-div"},void 0,this.props.legend,(t=this.state.timeLeft,e=y()(t/60),n=t-60*e,e=e<10?"0".concat(e):e,n=n<10?"0".concat(n):n,"".concat(e,":").concat(n)));var t,e,n}}],[{key:"getDerivedStateFromProps",value:function(t,e){if(t.duration!==e.duration){var n={};return n.duration=t.duration,n.timeLeft=t.duration,n}return null}}]),n}(m.Component);I.defaultProps={id:null,invisible:!1,legend:"",style:{},onTimeUp:function(){}},e.default=I}}]);