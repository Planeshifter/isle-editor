(window.webpackJsonp=window.webpackJsonp||[]).push([[162],{3227:function(t,e,n){"use strict";n(913),n(352);e.a=function(t){var e=new(0,window.FileReader);return e.readAsDataURL(t),new Promise((function(t){e.onloadend=function(){t(e.result)}}))}},433:function(t,e,n){"use strict";function i(){if(console&&console.warn){for(var t,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(t=console).warn.apply(t,n)}}n.d(e,"d",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return c}));var r={};function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];"string"==typeof e[0]&&r[e[0]]||("string"==typeof e[0]&&(r[e[0]]=new Date),i.apply(void 0,e))}function s(t,e,n){t.loadNamespaces(e,(function(){if(t.isInitialized)n();else{t.on("initialized",(function e(){setTimeout((function(){t.off("initialized",e)}),0),n()}))}}))}function a(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.languages||!e.languages.length)return o("i18n.languages were undefined or empty",e.languages),!0;var i=e.languages[0],r=!!e.options&&e.options.fallbackLng,s=e.languages[e.languages.length-1];if("cimode"===i.toLowerCase())return!0;var a=function(t,n){var i=e.services.backendConnector.state["".concat(t,"|").concat(n)];return-1===i||2===i};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,t))&&(!!e.hasResourceBundle(i,t)||(!e.services.backendConnector.backend||!(!a(i,t)||r&&!a(s,t))))}function c(t){return t.displayName||t.name||("string"==typeof t&&t.length>0?t:"Unknown")}},466:function(t,e,n){var i=n(489);t.exports=function(t,e){if(null==t)return{};var n,r,o=i(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}},4697:function(t){t.exports=JSON.parse('{"DE":{"answer-submitted":"Antwort eingereicht.","drop-image":"Bild hier ablegen","model-solution":"Modell-L\xf6sung","or":"oder","reset":"Zur\xfccksetzen","resubmit":"Erneut einreichen","submit":"Abschicken","submitted":"Abgeschickt","upload":"Datei hochladen"},"EN":{"answer-submitted":"You have successfully submitted your answer.","drop-image":"Drop image here","model-solution":"Model Solution","or":"or","reset":"Reset","resubmit":"Resubmit","submit":"Submit","submitted":"Submitted","upload":"Uploaded submission"},"ES":{"answer-submitted":"Ha presentado con \xe9xito su respuesta.","drop-image":"Deje caer la imagen aqu\xed","model-solution":"Soluci\xf3n modelo","or":"o","reset":"Reiniciar","resubmit":"Volver a presentar","submit":"Presentar","submitted":"Presentado","upload":"Subir presentaci\xf3n"}}')},489:function(t,e){t.exports=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}},5801:function(t,e,n){"use strict";n.r(e);n(360),n(352),n(363);var i=n(641),r=n.n(i),o=n(362),s=n.n(o),a=(n(860),n(353)),c=n.n(a),u=n(354),l=n.n(u),d=n(369),p=n.n(d),f=n(357),h=n.n(f),b=n(358),g=n.n(b),m=n(355),v=n.n(m),y=n(350),O=n.n(y),w=n(0),j=n.n(w),S=(n(341),n(396)),k=n.n(S),R=n(739),N=n(447),D=n(397),P=n(549),x=n.n(P),E=n(682),C=n(1339),q=n(984),A=n(1701),F=n(1357),L=n(994),U=n(789),I=n(1741),z=n(785),T=n(438),B=n(3227),H=n(443),J=n(615),M=n(4697);J.a.addResources("de","image-question",M.DE),J.a.addResources("en","image-question",M.EN),J.a.addResources("es","image-question",M.ES);n(262);function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=v()(t);if(e){var r=v()(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return g()(this,n)}}var Y=Object(E.a)("image-question"),V=k()("isle:image-question"),Z=/src="([^"]*)"/,_=function(t){h()(n,t);var e=W(n);function n(t){var i;return c()(this,n),i=e.call(this,t),O()(p()(i),"logHint",(function(t){V("Logging hint..."),i.context.log({id:i.id,type:H.nb,value:t})})),O()(p()(i),"sendSubmitNotification",(function(){i.context.addNotification({title:i.props.t("submitted"),message:i.props.t("answer-submitted"),level:"info"})})),O()(p()(i),"handleSubmit",(function(){var t=i.context;(i.props.disableSubmitNotification||i.sendSubmitNotification(),i.props.onSubmit(),i.setState({submitted:!0}),i.state.src)?t.log({id:i.id,type:H.ob,value:i.state.src}):document.getElementById(i.id+"-canvas").toBlob((function(e){Object(B.a)(e).then((function(e){t.log({id:i.id,type:H.ob,value:e}),i.setState({src:e})}))}))})),O()(p()(i),"ignoreDrag",(function(t){t.stopPropagation(),t.preventDefault()})),O()(p()(i),"handleFileUpload",(function(){var t=new FileReader,e=i.fileUpload.files[0];t.addEventListener("load",i.onFileRead,!1),t.readAsDataURL(e)})),O()(p()(i),"onDrop",(function(t){t.stopPropagation(),t.preventDefault();var e=t.dataTransfer,n=new FileReader,r=null;if(e.items&&e.items.length>0){var o=e.items[0];"file"===o.kind?r=o.getAsFile():"string"===o.kind&&o.getAsString((function(t){if(x()(t,"<img")){var e=t.match(Z);e&&i.setState({src:e[1]})}else i.setState({src:t})}))}else e.files&&e.files.length>0&&(r=e.files[0]);r&&(i.mimeType=r.type,r&&(n.addEventListener("load",i.onFileRead,!1),n.readAsDataURL(r)))})),O()(p()(i),"onFileRead",(function(t){var e=t.target.result;i.setState({src:e})})),O()(p()(i),"handleSolutionClick",(function(){i.setState({displaySolution:!i.state.displaySolution})})),i.id=t.id||Y(t),i.state={submitted:!1,src:null,exhaustedHints:0===t.hints.length,displaySolution:!1},i}return l()(n,[{key:"render",value:function(){var t=this,e=this.props.hints.length,n=s()(A.a,{disabled:!this.state.submitted||!this.state.exhaustedHints,onClick:this.handleSolutionClick,hasHints:this.props.hints.length>0});return s()(N.a,{id:this.id,className:"image-question ".concat(this.props.className),style:this.props.style},void 0,s()(N.a.Body,{style:{width:this.props.feedback?"calc(100%-60px)":"100%",display:"inline-block"}},void 0,s()("label",{},void 0,this.props.question),this.state.src?s()("div",{className:"center",style:{maxWidth:600}},void 0,this.state.displaySolution?s()(C.a,{alt:this.props.t("model-solution"),src:this.props.solution,width:"100%",height:"auto",style:{border:"solid 1px gold"}}):s()(C.a,{alt:this.props.t("upload"),src:this.state.src,width:"100%",height:"auto"})):s()(w.Fragment,{},void 0,s()("div",{className:"image-question-dropzone",onDrop:this.onDrop,onDragOver:this.ignoreDrag,onDragEnd:this.ignoreDrag},void 0,s()("span",{},void 0,this.props.t("drop-image"))),s()("p",{className:"center"},void 0,this.props.t("or")),j.a.createElement("input",{id:this.id+"-upload",className:"image-question-upload center",type:"file",accept:"image/*",onChange:this.handleFileUpload,ref:function(e){t.fileUpload=e}}),this.props.sketchpad?s()(w.Fragment,{},void 0,s()("p",{className:"center"},void 0,this.props.t("or")),j.a.createElement(I.a,r()({id:this.id,hideNavigationButtons:!0,hideSaveButtons:!0,hideTransmitButtons:!0,canvasWidth:900,canvasHeight:600},this.props.sketchpad))):null),this.props.feedback?s()(z.a,{vertical:!0,id:this.id+"_feedback",style:{position:"absolute",right:"4px",top:"4px"}}):null,s()(q.a,{buttonLabel:"Answers",id:this.id,info:H.ob,data:{question:this.props.question,type:"image"}}),s()("div",{className:"image-question-toolbar"},void 0,e>0?s()(L.a,{onClick:this.logHint,hints:this.props.hints,placement:this.props.hintPlacement,onFinished:function(){t.setState({exhaustedHints:!0})}}):null,this.state.src?s()(D.a,{size:"sm",variant:"warning",onClick:function(){t.setState({src:null})}},void 0,this.props.t("reset")):null,s()(F.a,{className:"submit-button",variant:"primary",size:"sm",onClick:this.handleSubmit},void 0,this.state.submitted?this.props.t("resubmit"):this.props.t("submit")),this.props.solution?n:null,this.props.chat?s()(U.a,{for:this.id}):null)))}}]),n}(w.Component);_.defaultProps={question:"",hints:[],hintPlacement:"bottom",feedback:!0,chat:!1,disableSubmitNotification:!1,className:"",sketchpad:null,solution:null,style:{},onSubmit:function(){}},_.contextType=T.a;e.default=Object(R.a)("image-question")(_)},739:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var i=n(350),r=n.n(i),o=n(445),s=n.n(o),a=n(466),c=n.n(a),u=n(0),l=n.n(u),d=n(681),p=n(433);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.i18n,i=Object(u.useContext)(d.a)||{},r=i.i18n,o=i.defaultNS,a=n||r||Object(d.d)();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new d.b),!a){Object(p.e)("You will need to pass in an i18next instance by using initReactI18next");var c=function(t){return Array.isArray(t)?t[t.length-1]:t},l=[c,{},!1];return l.t=c,l.i18n={},l.ready=!1,l}var f=h(h(h({},Object(d.c)()),a.options.react),e),b=f.useSuspense,g=t||o||a.options&&a.options.defaultNS;g="string"==typeof g?[g]:g||["translation"],a.reportNamespaces.addUsedNamespaces&&a.reportNamespaces.addUsedNamespaces(g);var m=(a.isInitialized||a.initializedStoreOnce)&&g.every((function(t){return Object(p.b)(t,a,f)}));function v(){return{t:a.getFixedT(null,"fallback"===f.nsMode?g:g[0])}}var y=Object(u.useState)(v()),O=s()(y,2),w=O[0],j=O[1],S=Object(u.useRef)(!0);Object(u.useEffect)((function(){var t=f.bindI18n,e=f.bindI18nStore;function n(){S.current&&j(v())}return S.current=!0,m||b||Object(p.c)(a,g,(function(){S.current&&j(v())})),t&&a&&a.on(t,n),e&&a&&a.store.on(e,n),function(){S.current=!1,t&&a&&t.split(" ").forEach((function(t){return a.off(t,n)})),e&&a&&e.split(" ").forEach((function(t){return a.store.off(t,n)}))}}),[g.join()]);var k=[w.t,a,m];if(k.t=w.t,k.i18n=a,k.ready=m,m)return k;if(!m&&!b)return k;throw new Promise((function(t){Object(p.c)(a,g,(function(){t()}))}))}function g(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){r()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function i(i){var r=i.forwardedRef,o=c()(i,["forwardedRef"]),a=b(t,o),u=s()(a,3),d=u[0],p=u[1],f=u[2],h=m(m({},o),{},{t:d,i18n:p,tReady:f});return e.withRef&&r?h.ref=r:!e.withRef&&r&&(h.forwardedRef=r),l.a.createElement(n,h)}i.displayName="withI18nextTranslation(".concat(Object(p.a)(n),")"),i.WrappedComponent=n;return e.withRef?l.a.forwardRef((function(t,e){return l.a.createElement(i,Object.assign({},t,{forwardedRef:e}))})):i}}},789:function(t,e,n){"use strict";var i=n(349),r=Object(i.a)((function(){return n.e(137).then(n.bind(null,1273))}));e.a=r},994:function(t,e,n){"use strict";var i=n(349),r=Object(i.a)((function(){return n.e(159).then(n.bind(null,1484))}));e.a=r}}]);