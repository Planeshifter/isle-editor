(self.webpackChunk=self.webpackChunk||[]).push([[81637],{956780:function(t,e,s){"use strict";var i=(0,s(844601).Z)((function(){return s.e(10112).then(s.bind(s,198164))}));e.Z=i},812383:function(t,e,s){"use strict";var i=s(454530),n=s(202784),r=(s(213980),function(t){var e=t.children,s=(0,i.Z)(t,["children"]);return n.createElement("div",s,e)});r.defaultProps={className:"",style:{}},e.Z=r},912740:function(t,e,s){"use strict";var i=(0,s(844601).Z)((function(){return s.e(96131).then(s.bind(s,357459))}));e.Z=i},810035:function(t,e,s){"use strict";var i=(0,s(844601).Z)((function(){return Promise.all([s.e(40532),s.e(34507)]).then(s.bind(s,149764))}));e.Z=i},354630:function(t,e,s){"use strict";s.r(e);s(382139),s(627476),s(95767),s(694882),s(298351);var i=s(858255),n=s(264659),r=s(904730),o=s(673989),u=s(175663),a=s(750591),l=s(575630),p=s(151119),c=(s(898837),s(202784)),d=(s(213980),s(198)),f=s(482228),m=s(223444),b=s(911755),h=s.n(b),v=s(740015),g=s.n(v),Z=s(842032),y=s.n(Z),S=s(172203),N=s.n(S),O=s(63417),P=s.n(O),k=s(817729),w=s.n(k),q=s(801420),x=s.n(q),T=s(42111),j=s(462874),C=s(358988),E=s(912740),R=s(812383),B=s(741709),L=s(956780),D=s(228856),F=s(810035),H=s(741319),U=s(312093),Q=s(964909),A=s(5140),I=s(320765),K=s(432261);function M(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}function V(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var s,i=(0,l.Z)(t);if(e){var n=(0,l.Z)(this).constructor;s=Reflect.construct(i,arguments,n)}else s=i.apply(this,arguments);return(0,a.Z)(this,s)}}(0,I.E4)("NumberQuestion");var _=(0,T.Z)("number-question"),z=h()("isle:number-question");function W(t,e){if(x()(e)){for(var s=0;s<e.length;s++)if(t===e[s])return!0;return!1}return t===e}function G(t,e,s){if(t=N()(t,-s),x()(e)){for(var i=0;i<e.length;i++)if(t===N()(e[i],-s))return!0;return!1}return t===N()(e,-s)}var J=function(t){(0,u.Z)(s,t);var e=V(s);function s(t,i){var r;(0,n.Z)(this,s),r=e.call(this,t),(0,p.Z)((0,o.Z)(r),"handleChange",(function(t){z("Handle change of input field..."),r.setState({value:t}),r.props.onChange(t)})),(0,p.Z)((0,o.Z)(r),"handleKeyPress",(function(t){13===t.charCode&&(document&&document.activeElement&&(z("Trigger blur event..."),document.activeElement.blur()),setTimeout(r.submitHandler,50))})),(0,p.Z)((0,o.Z)(r),"sendSubmitNotification",(function(t){var e=r.context;if(P()(r.props.solution))e.addNotification({title:r.state.submitted?"Answer re-submitted.":"Answer submitted.",message:r.state.submitted?r.props.t("resubmission-message"):r.props.t("submission-message"),level:"info"});else if(r.props.provideFeedback){var s,i;if(t)s=r.props.t("submission-correct"),i="success";else{var n=r.state.numSubmissions+1;s=n<r.props.nTries?r.props.t("submission-try-again")+" ("+r.props.t("tries",{count:r.props.nTries-n})+").":r.props.t("submission-incorrect"),i="error"}e.addNotification({title:r.props.t("answer-submitted"),message:s,level:i})}else e.addNotification({title:r.state.submitted?r.props.t("answer-resubmitted"):r.props.t("answer-submitted"),message:r.state.submitted?r.props.t("resubmission-message"):r.props.t("submission-message"),level:"info"})})),(0,p.Z)((0,o.Z)(r),"submitHandler",(function(){var t=r.context,e=parseFloat(r.state.value);if(e<r.props.min||e>r.props.max)return t.addNotification({title:r.props.t("invalid-answer"),message:r.props.t("invalid-range",{min:r.props.min,max:r.props.max}),level:"error"});var s,i=r.props,n=i.digits,o=i.solution;if(!P()(o)){var u=parseFloat(r.state.value);s=null===n?W(u,o):G(u,o,n)}r.props.onSubmit(e,s),r.props.disableSubmitNotification||r.sendSubmitNotification(s),r.setState({submitted:!0,correct:s,numSubmissions:r.state.numSubmissions+1}),t.log({id:r.id,type:A.Sl,value:r.state.value})})),(0,p.Z)((0,o.Z)(r),"logHint",(function(t){z("Logging hint..."),r.context.log({id:r.id,type:A.Q7,value:t})})),r.id=t.id||_(t);var u=i.currentUserActions,a=(0,U.Z)(u,r.id,A.Sl);return r.state=function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?M(Object(s),!0).forEach((function(e){(0,p.Z)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):M(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({value:w()(a)?a:t.defaultValue,submitted:a&&P()(t.solution),numSubmissions:0,correct:t.digits?G(a,t.solution,t.digits):W(a,t.solution)},t),r}return(0,r.Z)(s,[{key:"componentDidMount",value:function(){var t=this,e=this.context;e&&(this.unsubscribe=e.subscribe((function(e,s){if(e===Q.u){var i=s[t.id];if(x()(i)&&(i=i.filter((function(t){return t.type===A.Sl}))).length>0){var n=i[0].value;t.setState({value:n,submitted:P()(t.props.solution)})}}})))}},{key:"componentWillUnmount",value:function(){this.unsubscribe&&this.unsubscribe()}},{key:"renderSubmitButton",value:function(){var t=this.context;if(this.props.until&&t.startTime>this.props.until)return(0,i.Z)("span",{className:"title",style:{marginLeft:4}},void 0,this.props.t("question-closed"));var e=null!==this.props.solution,s=this.state.submitted&&e&&this.state.numSubmissions>=this.props.nTries;return(0,i.Z)(C.Z,{className:"submit-button",variant:"primary",size:"sm",disabled:s,onClick:this.submitHandler,style:{marginLeft:3}},void 0,this.state.submitted&&!this.props.solution?this.props.t("resubmit"):this.props.t("submit"))}},{key:"render",value:function(){var t=this.props.hints.length,e=null!==this.props.solution,s=this.state.submitted&&e&&this.state.numSubmissions>=this.props.nTries;return(0,i.Z)(j.Z,{id:this.id,className:"number-question",style:this.props.style,fullscreen:!0,bodyStyle:{display:"inline-block",marginBottom:6}},void 0,this.props.question?(0,i.Z)("p",{},void 0,(0,i.Z)("label",{},void 0,this.props.question)):null,(0,i.Z)("div",{className:"number-question-input-wrapper"},void 0,(0,i.Z)(B.Z,{step:"any",legend:this.props.t("your-answer"),onChange:this.handleChange,defaultValue:this.state.value,disabled:s,inline:!0,width:90,numbersOnly:!1,onKeyPress:this.handleKeyPress,tooltip:(0,B.N)(this.props)}),this.state.submitted&&e&&this.props.provideFeedback&&(this.state.correct||this.state.numSubmissions>=this.props.nTries)?(0,i.Z)(m.Z,{variant:this.state.correct?"success":"danger",style:{fontSize:18}},void 0,"".concat(this.props.t("solution"),":   "),x()(this.props.solution)?function(t,e){var s=e("one-of");s+=t[0];for(var i=1;i<t.length-1;i++)s+=", ",s+=t[i];return s+=e(" or "),s+t[t.length-1]}(this.props.solution,this.props.t):String(this.props.solution)):null),(0,i.Z)(f.Z,{className:"number-question-toolbar"},void 0,(0,i.Z)(R.Z,{buttonLabel:this.props.t("answers"),id:this.id,data:{type:"number",question:this.props.question,solution:this.props.solution},info:"NUMBER_QUESTION_SUBMISSION",style:{marginLeft:3,marginRight:3},points:this.props.points}),t>0?(0,i.Z)(L.Z,{onClick:this.logHint,hints:this.props.hints,placement:this.props.hintPlacement,style:{marginLeft:3}}):null,this.props.chat?(0,i.Z)("div",{style:{display:"inline-block",marginLeft:3}},void 0,(0,i.Z)(E.Z,{for:this.id})):null,this.renderSubmitButton()),this.props.feedback?(0,i.Z)(D.Z,{id:this.id+"_feedback",style:{marginRight:5,marginTop:-5}}):null,(0,i.Z)(F.Z,{for:this.id,points:this.props.points}))}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.question!==e.question||t.solution!==e.solution?{value:void 0,submitted:!1,question:t.question,solution:t.solution}:null}}]),s}(c.Component);J.defaultProps={question:"",hints:[],hintPlacement:"top",feedback:!0,solution:null,digits:3,max:g(),min:y(),defaultValue:0,provideFeedback:!0,nTries:1,disableSubmitNotification:!1,chat:!1,until:null,points:10,style:{},onChange:function(){},onSubmit:function(){}},J.contextType=H.Z,e.default=(0,d.Z)("NumberQuestion")((0,K.W)(J))},312093:function(t,e,s){"use strict";s(898837);var i=s(801420),n=s.n(i),r=s(951735),o=s.n(r);e.Z=function(t,e,s){if(o()(t)){var i=t[e];if(n()(i)&&(i=i.filter((function(t){return t.type===s}))).length>0)return i[0].value}return null}},482228:function(t,e,s){"use strict";var i=s(607560),n=s(998283),r=s(72779),o=s.n(r),u=s(202784),a=s(429658),l=u.forwardRef((function(t,e){var s=t.bsPrefix,r=t.className,l=(0,n.Z)(t,["bsPrefix","className"]),p=(0,a.vE)(s,"btn-toolbar");return u.createElement("div",(0,i.Z)({},l,{ref:e,className:o()(r,p)}))}));l.displayName="ButtonToolbar",l.defaultProps={role:"toolbar"},e.Z=l}}]);