(window.webpackJsonp=window.webpackJsonp||[]).push([[171],{1527:function(e,t,n){"use strict";n.r(t);n(437),n(433),n(425),n(424),n(434),n(411),n(403),n(415);var r=n(507),o=n.n(r),a=n(788),s=n.n(a),i=n(400),c=n.n(i),u=n(407),p=n.n(u),l=n(410),f=n.n(l),d=n(420),b=n.n(d),g=n(413),m=n.n(g),v=n(414),h=n.n(v),O=n(412),y=n.n(O),w=n(404),j=n.n(w),E=n(0),k=n.n(E),x=n(4125),P=(n(396),n(427)),C=n(457),D=n(919),N=n(812),R=n(428),M=n(489),S=n(2877),_=n(418);n(372);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y()(e);if(t){var o=y()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}Object(_.a)("GradeFeedbackRenderer");var z=c()("br",{}),I=c()("i",{className:"fas fa-times"}),L=c()("hr",{}),F=c()("i",{className:"fas fa-envelope-open"}),H=function(e){m()(n,e);var t=B(n);function n(e){var r;return p()(this,n),r=t.call(this,e),j()(b()(r),"toggleMessages",(function(){r.setState({showMessages:!r.state.showMessages})})),r.state={showMessages:!1},r}return f()(n,[{key:"renderMessages",value:function(){var e=this,t=this.context,n=t.user.lessonGradeMessages[t.lessonID];return n&&n[this.props.for]?c()("div",{className:"grade-feedback-renderer-messages"},void 0,n[this.props.for].map((function(n,r){return c()("div",{className:"grade-feedback-message"},r,c()("img",{className:"grade-feedback-picture unselectable",src:t.server+"/thumbnail/"+n.picture,alt:e.props.t("profile-pic")}),c()("div",{className:"grade-feedback-message-right"},void 0,c()("span",{className:"grade-feedback-user"},void 0,n.user)," - ",c()("span",{className:"grade-feedback-time"},void 0,Object(S.a)(n.time)),z,c()("span",{className:"grade-feedback-message-content"},void 0,n.content)))}))):null}},{key:"renderOverlay",value:function(){var e=this;return this.state.showMessages?c()(N.a,{target:this.messagesButton,show:this.state.showMessages,placement:"right"},void 0,(function(t){t.placement,t.arrowProps,t.show,t.popper;var n=s()(t,["placement","arrowProps","show","popper"]);return k.a.createElement("div",o()({},n,{style:G({backgroundColor:"#f8f9fa",padding:"2px 10px",color:"darkslategrey",borderRadius:6,border:"1px solid darkslategrey",width:"600px",boxShadow:"0px 0px 4px darkslategrey",zIndex:1006},n.style)}),c()("div",{style:{marginTop:6,marginBottom:6}},void 0,e.props.for,c()(R.a,{variant:"secondary",size:"sm",onClick:function(){e.setState({showMessages:!1})},style:{float:"right",marginBottom:4}},void 0,I)),L,e.renderMessages())})):null}},{key:"render",value:function(){var e=this,t=this.context;if(!t.user||!t.user.lessonGrades)return null;var n=t.user.lessonGrades[t.lessonID];if(!n||!Object(P.isPrimitive)(n[this.props.for]))return null;var r=t.user.lessonGradeMessages[t.lessonID],o=r&&r[this.props.for];return c()(E.Fragment,{},void 0,c()(D.a,{variant:"success",style:{fontSize:"1em"}},void 0,this.props.t("your-points"),": ",n[this.props.for]," / ",this.props.points),o?c()(M.a,{tooltip:this.props.t("display-instructor-feedback")},void 0,k.a.createElement(R.a,{ref:function(t){e.messagesButton=t},onClick:this.toggleMessages,size:"small",variant:"light",style:{marginLeft:12},className:"grade-feedback-button"},F)):null,this.renderOverlay())}}]),n}(E.Component);H.contextType=C.a,t.default=Object(x.a)("GradeFeedbackRenderer")(H)},2877:function(e,t,n){"use strict";t.a=function(e){return new Date(e).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",month:"short",day:"numeric"})}},610:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0);function o(){return Object(r.useState)(null)}},639:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(644),o=n(0),a=function(e){var t;return"undefined"==typeof document?null:null==e?Object(r.a)().body:("function"==typeof e&&(e=e()),e&&"current"in e&&(e=e.current),(null==(t=e)?void 0:t.nodeType)&&e||null)};function s(e,t){var n=Object(o.useState)((function(){return a(e)})),r=n[0],s=n[1];if(!r){var i=a(e);i&&s(i)}return Object(o.useEffect)((function(){t&&r&&t(r)}),[t,r]),Object(o.useEffect)((function(){var t=a(e);t!==r&&s(t)}),[e,r]),r}},716:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0);function o(){var e=Object(r.useRef)(!0),t=Object(r.useRef)((function(){return e.current}));return Object(r.useEffect)((function(){return function(){e.current=!1}}),[]),t.current}},717:function(e,t,n){"use strict";function r(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}n.d(t,"a",(function(){return r}))},808:function(e,t,n){"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}n.d(t,"a",(function(){return r}))},812:function(e,t,n){"use strict";var r=n(398),o=n(401),a=n(0),s=n.n(a),i=n(402),c=n.n(i),u=n(396),p=n.n(u),l=n(23),f=n.n(l),d=n(610),b=n(499),g=n(962),m=n(1037),v=n(1038),h=n(639),O=n(1010),y=s.a.forwardRef((function(e,t){var n=e.flip,i=e.offset,c=e.placement,u=e.containerPadding,p=void 0===u?5:u,l=e.popperConfig,g=void 0===l?{}:l,y=e.transition,w=Object(d.a)(),j=w[0],E=w[1],k=Object(d.a)(),x=k[0],P=k[1],C=Object(b.a)(E,t),D=Object(h.a)(e.container),N=Object(h.a)(e.target),R=Object(a.useState)(!e.show),M=R[0],S=R[1],_=Object(m.a)(N,j,Object(O.a)({placement:c,enableEvents:!!e.show,containerPadding:p||5,flip:n,offset:i,arrowElement:x,popperConfig:g})),T=_.styles,G=_.attributes,B=Object(o.a)(_,["styles","attributes"]);e.show?M&&S(!1):e.transition||M||S(!0);var z=e.show||y&&!M;if(Object(v.a)(j,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!z)return null;var I=e.children(Object(r.a)({},B,{show:!!e.show,props:Object(r.a)({},G.popper,{style:T.popper,ref:C}),arrowProps:Object(r.a)({},G.arrow,{style:T.arrow,ref:P})}));if(y){var L=e.onExit,F=e.onExiting,H=e.onEnter,U=e.onEntering,q=e.onEntered;I=s.a.createElement(y,{in:e.show,appear:!0,onExit:L,onExiting:F,onExited:function(){S(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:H,onEntering:U,onEntered:q},I)}return D?f.a.createPortal(I,D):null}));y.displayName="Overlay",y.propTypes={show:p.a.bool,placement:p.a.oneOf(g.h),target:p.a.any,container:p.a.any,flip:p.a.bool,children:p.a.func.isRequired,containerPadding:p.a.number,popperConfig:p.a.object,rootClose:p.a.bool,rootCloseEvent:p.a.oneOf(["click","mousedown"]),rootCloseDisabled:p.a.bool,onHide:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;return e.rootClose?(o=p.a.func).isRequired.apply(o,[e].concat(n)):p.a.func.apply(p.a,[e].concat(n))},transition:p.a.elementType,onEnter:p.a.func,onEntering:p.a.func,onEntered:p.a.func,onExit:p.a.func,onExiting:p.a.func,onExited:p.a.func};var w=y,j=n(961),E=n(1009),k=n(636),x={transition:k.a,rootClose:!1,show:!1,placement:"top"};function P(e){var t=e.children,n=e.transition,i=e.popperConfig,u=void 0===i?{}:i,p=Object(o.a)(e,["children","transition","popperConfig"]),l=Object(a.useRef)({}),f=Object(E.a)(),d=f[0],b=f[1],g=!0===n?k.a:n||null;return s.a.createElement(w,Object(r.a)({},p,{ref:d,popperConfig:Object(r.a)({},u,{modifiers:b.concat(u.modifiers||[])}),transition:g}),(function(e){var a,i=e.props,u=e.arrowProps,p=e.show,f=e.update,d=(e.forceUpdate,e.placement),b=e.state,g=Object(o.a)(e,["props","arrowProps","show","update","forceUpdate","placement","state"]);!function(e,t){var n=e.ref,r=t.ref;e.ref=n.__wrapped||(n.__wrapped=function(e){return n(Object(j.a)(e))}),t.ref=r.__wrapped||(r.__wrapped=function(e){return r(Object(j.a)(e))})}(i,u);var m=Object.assign(l.current,{state:b,scheduleUpdate:f,placement:d,outOfBoundaries:(null==b||null==(a=b.modifiersData.hide)?void 0:a.isReferenceHidden)||!1});return"function"==typeof t?t(Object(r.a)({},g,i,{placement:d,show:p,popper:m,arrowProps:u})):s.a.cloneElement(t,Object(r.a)({},g,i,{placement:d,arrowProps:u,popper:m,className:c()(t.props.className,!n&&p&&"show"),style:Object(r.a)({},t.props.style,i.style)}))}))}P.defaultProps=x;t.a=P}}]);