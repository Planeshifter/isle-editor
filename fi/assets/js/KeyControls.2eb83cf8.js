(self.webpackChunk=self.webpackChunk||[]).push([[7659],{729988:function(e,n,t){"use strict";t.r(n);t(382139);var o=t(264659),r=t(904730),c=t(673989),i=t(175663),a=t(750591),s=t(575630),u=t(151119),f=t(202784),p=t(928316),v=(t(213980),t(911755)),d=t.n(v),l=t(382470),y=t.n(l),m=t(521859),h=t.n(m),k=t(741319);function g(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=(0,s.Z)(e);if(n){var r=(0,s.Z)(this).constructor;t=Reflect.construct(o,arguments,r)}else t=o.apply(this,arguments);return(0,a.Z)(this,t)}}var Z=d()("isle:key-controls"),E=function(e){(0,i.Z)(t,e);var n=g(t);function t(e){var r;return(0,o.Z)(this,t),r=n.call(this,e),(0,u.Z)((0,c.Z)(r),"addListeners",(function(){var e=y()(r.props.actions);if(Z("Add keydown event listeners for ".concat(r.props.container?"container":"document",": ").concat(e.join(", "))),r.props.container)try{p.findDOMNode(r.props.container).addEventListener("keydown",r.triggerEvent)}catch(n){Z(n.message)}else document.addEventListener("keydown",r.triggerDocEvent)})),(0,u.Z)((0,c.Z)(r),"removeListeners",(function(e){var n=y()(r.props.actions);if(Z("Remove keydown event listeners for ".concat(e?"container":"document",": ").concat(n.join(", "))),e)try{p.findDOMNode(e).removeEventListener("keydown",r.triggerEvent)}catch(t){Z(t.message)}document.removeEventListener("keydown",r.triggerDocEvent)})),(0,u.Z)((0,c.Z)(r),"triggerEvent",(function(e){var n=e.key;Z("Received key press for container: ".concat(n));var t=r.props.actions[n],o=e.ctrlKey||e.shiftKey||e.altKey||e.metaKey;document.activeElement===r.props.container&&!o&&h()(t)&&(e.preventDefault(),e.stopPropagation(),t(e))})),(0,u.Z)((0,c.Z)(r),"triggerDocEvent",(function(e){var n=e.key,t=e.ctrlKey||e.shiftKey||e.altKey||e.metaKey;Z("Received key press for document: ".concat(n));var o=r.props.actions[n];!t&&h()(o)&&(e.preventDefault(),e.stopPropagation(),o(e))})),r}return(0,r.Z)(t,[{key:"componentDidMount",value:function(){Z("Component has mounted..."),this.addListeners()}},{key:"componentDidUpdate",value:function(e){this.props.container!==e.container&&(Z("Container has changed, re-attach event listeners..."),this.removeListeners(e.container),this.addListeners())}},{key:"componentWillUnmount",value:function(){Z("Component has unmounted..."),this.removeListeners()}},{key:"render",value:function(){return null}}]),t}(f.Component);E.defaultProps={actions:{},container:null},E.contextType=k.Z,n.default=E}}]);