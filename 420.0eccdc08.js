(window.webpackJsonp=window.webpackJsonp||[]).push([[420],{5783:function(t,e,n){"use strict";var i=n(365),a=n.n(i),o=(n(0),n(672)),s=(n(357),n(393)),r=n(671);e.a=Object(o.a)("alert-modal")((function(t){return a()(r.a,{show:t.show,onHide:t.close},void 0,a()(r.a.Header,{},void 0,a()(r.a.Title,{},void 0,a()("i",{className:"fas fa-phone-square-alt",style:{marginRight:6}}),t.title)),a()(r.a.Body,{},void 0,t.message),a()(r.a.Footer,{},void 0,a()(s.a,{onClick:t.close},void 0,t.t("confirm"))))}))},5930:function(t,e,n){"use strict";n.r(e),function(t){n(376),n(368),n(377);var i=n(365),a=n.n(i),o=(n(507),n(1270)),s=n.n(o),r=n(370),c=n.n(r),l=n(371),d=n.n(l),h=n(387),u=n.n(h),f=n(374),p=n.n(f),m=n(375),v=n.n(m),g=n(373),y=n.n(g),C=n(366),k=n.n(C),w=n(0),S=(n(357),n(5782)),N=n.n(S),b=n(417),F=n.n(b),T=n(1188),x=n(963),H=n(1046),R=n(775),A=n(393),O=n(523),D=n(992),E=n(1109),I=n(482),P=n(593),z=n(5783);n(350);function J(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=y()(t);if(e){var a=y()(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return v()(this,n)}}var L=F()("isle:toolbar:ticketing"),M=["General"];t.COMPONENT_LIST&&(M=M.concat(t.COMPONENT_LIST));var _=a()("i",{className:"fas fa-paperclip"}),j=function(t){p()(n,t);var e=J(n);function n(t){var i;return c()(this,n),i=e.call(this,t),k()(u()(i),"handleTitleChange",(function(t){i.setState({title:t.target.value})})),k()(u()(i),"handleDescriptionChange",(function(t){i.setState({description:t})})),k()(u()(i),"handleComponentChange",(function(t){i.setState({component:t})})),k()(u()(i),"attachFile",(function(){var t=i.props,e=t.session,n=t.t;if(i.state.files.length>=6)return e.addNotification({title:n("maximum-num-attachments"),message:n("maximum-num-attachments-message"),level:"warning",position:"tr"});var a=document.createElement("input");a.type="file",a.onchange=function(t){var e=t.target.files,n=[].concat(s()(i.state.files),s()(e));i.setState({files:n})},a.click()})),k()(u()(i),"handleSubmit",(function(){L("Create ticket...");var t=i.props,e=t.session,n=t.t,a={title:i.state.title,description:i.state.description,component:i.state.component,platform:{name:N.a.name,version:N.a.version,product:N.a.product,manufacturer:N.a.manufacturer,os:N.a.os,description:N.a.description},files:i.state.files};e.createTicket(a).then((function(){i.setState({showAlert:!0})})).catch((function(t){e.addNotification({title:n("encountered-error"),message:t.message,level:"error",position:"tc"})}))})),k()(u()(i),"removeFileFactory",(function(t){return function(){var e=i.state.files.slice();e.splice(t,1),i.setState({files:e})}})),i.state={title:"",description:"",component:null,showAlert:!1,files:[]},i}return d()(n,[{key:"renderAttachments",value:function(){var t=this;return 0===this.state.files.length?null:a()(w.Fragment,{},void 0,a()("span",{className:"title"},void 0,this.props.t("attachments"),":"),a()(T.a,{className:"ticketing-attachment-list"},void 0,this.state.files.map((function(e,n){return a()(T.a.Item,{},"file-".concat(n),e.name,a()(A.a,{variant:"danger",size:"sm",onClick:t.removeFileFactory(n),style:{float:"right"}},void 0,"x"))}))))}},{key:"render",value:function(){var t=this,e=this.props,n=e.t;return e.show?a()(w.Fragment,{},void 0,a()(D.a,{dragHandleClassName:"card-header"},void 0,a()(P.a,{header:a()("span",{},void 0,a()("span",{className:"fa fa-lg fa-medkit",style:{marginRight:6}}),n("ticketing")),onHide:this.props.onHide,minimizable:!0,style:{maxWidth:560},bodyStyle:{maxHeight:"75vh"}},void 0,a()("p",{},void 0,n("ticketing-intro")),a()(O.a,{legend:n("component"),options:M,onChange:this.handleComponentChange}),a()(R.a,{},void 0,a()(H.a,{},void 0,n("title"),":"),a()(x.a,{type:"text",placeholder:n("title-placeholder"),onChange:this.handleTitleChange})),a()(E.a,{legend:n("description"),value:this.state.description,onChange:this.handleDescriptionChange,placeholder:n("description-placeholder")}),this.renderAttachments(),a()(I.a,{tooltip:n("attach-file")},void 0,a()(A.a,{onClick:this.attachFile},void 0,_)),a()(A.a,{onClick:this.handleSubmit,style:{float:"right"},disabled:!this.state.title||!this.state.description},void 0,n("create-ticket")))),a()(z.a,{title:n("ticket-created"),message:n("ticket-created-message"),show:this.state.showAlert,close:function(){t.setState({title:"",description:"",showAlert:!1,files:[]}),t.props.onHide()}})):null}}]),n}(w.Component);e.default=j}.call(this,n(22))}}]);